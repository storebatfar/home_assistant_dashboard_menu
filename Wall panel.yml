decluttering_templates:
  bottom-menu:
    default:
      - active_path: /wall-panel/hjem
    card:
      type: custom:mod-card
      card_mod:
        style: |
          :host {
            z-index: 2;
            position: fixed;
            bottom: 0;
            padding: 10px;
            margin: 0 !important;
            right: 0;
            width: calc(100% - 20px);
            display: flex;
            justify-content: var(--menu-justify);
            box-shadow: var(--menu-shadow);
            background: var(--menu-background);
          }
      card:
        type: horizontal-stack
        cards:
          - type: custom:button-card
            tap_action:
              action: perform-action
              perform_action: rest_command.start_screensaver_clock
            styles:
              card:
                - overflow: visible
                - width: 100px
                - height: 60px
                - position: relative
                - background: none
              custom_fields:
                time:
                  - position: absolute
                  - top: 50%
                  - left: 0%
                  - transform: translate(-50%, -50%)
                  - font-size: 20px
                  - font-weight: bold
            custom_fields:
              time: |
                [[[
                  return states['sensor.time'].state;
                ]]]
          - type: custom:button-card
            icon: mdi:home
            tap_action:
              action: navigate
              navigation_path: /wall-panel/hjem
            styles:
              card:
                - overflow: visible
                - background: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/hjem')
                      ? 'var(--menu-selected)' 
                      : 'none'; ]]]
                - box-shadow: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/hjem')
                      ? 'var(--menu-selected-shadow)' 
                      : 'none'; ]]]
                - width: 70px
                - height: 60px
                - border-radius: var(--border-radius-1)
                - justify-content: center
                - align-items: center
              icon:
                - width: 34px
                - height: 34px
                - color: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/hjem')
                      ? 'var(--icon-farve)' 
                      : 'var(--icon-farve-2)'; ]]]
          - type: custom:button-card
            icon: mdi:lightbulb-group
            tap_action:
              action: navigate
              navigation_path: /wall-panel/lys
            styles:
              card:
                - overflow: visible
                - background: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/lys')
                      ? 'var(--menu-selected)' 
                      : 'none'; ]]]
                - box-shadow: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/lys')
                      ? 'var(--menu-selected-shadow)' 
                      : 'none'; ]]]
                - width: 70px
                - height: 60px
                - border-radius: var(--border-radius-1)
                - justify-content: center
                - align-items: center
              icon:
                - width: 34px
                - height: 34px
                - color: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/lys')
                      ? 'var(--icon-farve)' 
                      : 'var(--icon-farve-2)'; ]]]
              custom_fields:
                extra_icon:
                  - position: absolute
                  - top: 15%
                  - left: 80%
                  - transform: translate(-50%, -50%)
                  - z-index: 2
                  - animation: null
                  - font-size: 12px
                  - color: var(--primary-color)
            custom_fields:
              extra_icon: |
                [[[
                  // Hide on /wall-panel/lys
                  if ('[[active_path]]' === '/wall-panel/lys') return '';
                  const state = states['sensor.all_lights_on']?.state;
                  if (state == null || state === '0' || state === 'unknown' || state === 'unavailable') return '';
                  return state;
                ]]]
          - type: custom:button-card
            icon: mdi:car
            tap_action:
              action: navigate
              navigation_path: /wall-panel/biler
            styles:
              card:
                - overflow: visible
                - background: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/biler')
                      ? 'var(--menu-selected)' 
                      : 'none'; ]]]
                - box-shadow: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/biler')
                      ? 'var(--menu-selected-shadow)' 
                      : 'none'; ]]]
                - width: 70px
                - height: 60px
                - border-radius: var(--border-radius-1)
                - justify-content: center
                - align-items: center
              icon:
                - width: 34px
                - height: 34px
                - color: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/biler')
                      ? 'var(--icon-farve)' 
                      : 'var(--icon-farve-2)'; ]]]
              custom_fields:
                extra_icon:
                  - position: absolute
                  - top: 15%
                  - left: 80%
                  - transform: translate(-50%, -50%)
                  - z-index: 2
                  - animation: null
            custom_fields:
              extra_icon: |
                [[[
                  // Show icon only if not on /biler
                  if ('[[active_path]]' !== '/wall-panel/biler') {
                    return (states['sensor.johansen_status'].state === 'charging')
                      ? `<ha-icon icon="mdi:lightning-bolt"
                          style="width:18px;height:18px;color:rgb(102,255,51);"></ha-icon>`
                      : '';
                  }
                  return '';
                ]]]
          - type: custom:button-card
            icon: mdi:transmission-tower
            tap_action:
              action: navigate
              navigation_path: /wall-panel/strom
            styles:
              card:
                - overflow: visible
                - background: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/strom')
                      ? 'var(--menu-selected)' 
                      : 'none'; ]]]
                - box-shadow: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/strom')
                      ? 'var(--menu-selected-shadow)' 
                      : 'none'; ]]]
                - width: 70px
                - height: 60px
                - border-radius: var(--border-radius-1)
                - justify-content: center
                - align-items: center
              icon:
                - width: 34px
                - height: 34px
                - color: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/strom')
                      ? 'var(--icon-farve)' 
                      : 'var(--icon-farve-2)'; ]]]
          - type: custom:button-card
            icon: mdi:music
            tap_action:
              action: navigate
              navigation_path: /wall-panel/musik
            state:
              - operator: template
                value: |
                  [[[
                    return (
                      states['media_player.badevaerelse'].state === "playing" ||
                      states['media_player.christine'].state === "playing" ||
                      states['media_player.julian'].state === "playing" ||
                      states['media_player.garagen'].state === "playing" ||
                      states['media_player.garagen_sma'].state === "playing" ||
                      states['media_player.kokken'].state === "playing" ||
                      states['media_player.stuen'].state === "playing"
                    );
                  ]]]
                styles:
                  icon:
                    - animation: shake 2s ease 0s infinite normal forwards
            extra_styles: |
              @keyframes shake {
                0% { transform: rotate(0deg) translate(0); }
                20% { transform: rotate(-5deg) translate(-3px, 3px); }
                40% { transform: rotate(-12deg) translate(-3px, -3px); }
                60% { transform: translate(3px, 3px); }
                80% { transform: rotate(12deg) translate(3px, -3px); }
                100% { transform: rotate(0deg) translate(0); }
              }
            styles:
              card:
                - overflow: visible
                - background: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/musik')
                      ? 'var(--menu-selected)' 
                      : 'none'; ]]]
                - box-shadow: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/musik')
                      ? 'var(--menu-selected-shadow)' 
                      : 'none'; ]]]
                - width: 70px
                - height: 60px
                - border-radius: var(--border-radius-1)
                - justify-content: center
                - align-items: center
              icon:
                - width: 34px
                - height: 34px
                - color: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/musik')
                      ? 'var(--icon-farve)' 
                      : 'var(--icon-farve-2)'; ]]]
          - type: custom:button-card
            icon: mdi:cctv
            tap_action:
              action: navigate
              navigation_path: /wall-panel/overvagning
            styles:
              card:
                - overflow: visible
                - background: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/overvagning')
                      ? 'var(--menu-selected)' 
                      : 'none'; ]]]
                - box-shadow: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/overvagning')
                      ? 'var(--menu-selected-shadow)' 
                      : 'none'; ]]]
                - width: 70px
                - height: 60px
                - border-radius: var(--border-radius-1)
                - justify-content: center
                - align-items: center
              icon:
                - width: 34px
                - height: 34px
                - color: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/overvagning')
                      ? 'var(--icon-farve)' 
                      : 'var(--icon-farve-2)'; ]]]
          - type: custom:button-card
            icon: mdi:hot-tub
            tap_action:
              action: navigate
              navigation_path: /wall-panel/udespa
            styles:
              card:
                - overflow: visible
                - background: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/udespa')
                      ? 'var(--menu-selected)' 
                      : 'none'; ]]]
                - box-shadow: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/udespa')
                      ? 'var(--menu-selected-shadow)' 
                      : 'none'; ]]]
                - width: 70px
                - height: 60px
                - border-radius: var(--border-radius-1)
                - justify-content: center
                - align-items: center
              icon:
                - width: 34px
                - height: 34px
                - color: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/udespa')
                      ? 'var(--icon-farve)' 
                      : 'var(--icon-farve-2)'; ]]]
              custom_fields:
                extra_icon:
                  - position: absolute
                  - top: 15%
                  - left: 80%
                  - transform: translate(-50%, -50%)
                  - z-index: 2
                  - animation: null
            custom_fields:
              extra_icon: |
                [[[
                  if ('[[active_path]]' !== '/wall-panel/udespa') {
                    let ph = parseFloat(states['sensor.udespa_ph_korrigeret'].state);
                    let orp = parseFloat(states['sensor.udespa_oxydo_reduction_potential'].state);
                    let tds = parseFloat(states['sensor.udespa_tds'].state);
                    let heating = states['sensor.climate_udespa_custom'].state;
                    
                    let outOfRange = (ph < 7.2 || ph > 7.7 || orp < 550 || orp > 800 || tds > 1500);
                    if (outOfRange) {
                      return `<ha-icon icon="mdi:alert"
                                style="width:20px;height:20px;color:orange;"></ha-icon>`;
                    } else if (heating === 'Varmer') {
                      return `<ha-icon icon="mdi:fire"
                                style="width:20px;height:20px;color:orange;"></ha-icon>`;
                    }
                  }
                  return '';
                ]]]
          - type: custom:button-card
            icon: mdi:robot-vacuum
            tap_action:
              action: navigate
              navigation_path: /wall-panel/stovsuger
            state:
              - operator: template
                value: |
                  [[[
                    return states['binary_sensor.roborock_qrevo_edge_cleaning'].state === "on"
                  ]]]
                styles:
                  icon:
                    - animation: shake 2s ease 0s infinite normal forwards
            extra_styles: |
              @keyframes shake {
                0% { transform: rotate(0deg) translate(0); }
                20% { transform: rotate(-5deg) translate(-3px, 3px); }
                40% { transform: rotate(-12deg) translate(-3px, -3px); }
                60% { transform: translate(3px, 3px); }
                80% { transform: rotate(12deg) translate(3px, -3px); }
                100% { transform: rotate(0deg) translate(0); }
              }
            styles:
              card:
                - overflow: visible
                - background: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/stovsuger')
                      ? 'var(--menu-selected)' 
                      : 'none'; ]]]
                - box-shadow: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/stovsuger')
                      ? 'var(--menu-selected-shadow)' 
                      : 'none'; ]]]
                - width: 70px
                - height: 60px
                - border-radius: var(--border-radius-1)
                - justify-content: center
                - align-items: center
              icon:
                - width: 34px
                - height: 34px
                - color: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/stovsuger')
                      ? 'var(--icon-farve)' 
                      : 'var(--icon-farve-2)'; ]]]
              custom_fields:
                extra_icon:
                  - position: absolute
                  - top: 15%
                  - left: 80%
                  - transform: translate(-50%, -50%)
                  - z-index: 2
                  - animation: null
                  - font-size: 12px
                  - color: var(--primary-color)
            custom_fields:
              extra_icon: |
                [[[
                  const iconSize = '20px'; // Change this to adjust icon size
                  const dockError = states['sensor.roborock_qrevo_edge_dock_dock_error'].state;

                  if ('[[active_path]]' !== '/wall-panel/stovsuger') {
                    
                    if (dockError === 'water_empty' || dockError === 'waste_water_tank_full') {
                      return `<ha-icon icon="mdi:water" style="color: blue; width: ${iconSize}; height: ${iconSize};"></ha-icon>`;
                    }
                    
                    if (states['binary_sensor.roborock_qrevo_edge_cleaning'].state === 'on') {
                      return states['sensor.roborock_qrevo_edge_cleaning_progress'].state + '%';
                    }
                  }

                  return '';
                ]]]
          - type: custom:stack-in-card
            keep:
              background: true
              box_shadow: true
              border_radius: true
            card_mod:
              style: |
                ha-card {
                  height: 60px;
                  background: none;
                }
            cards:
              - type: custom:button-card
                icon: mdi:washing-machine
                card_mod:
                  style: |
                    ha-state-icon {
                      clip-path: polygon(0 0, 0 100%, 35% 100%, 34% 68%, 60% 41%, 71% 56%, 65% 74%, 47% 79%, 32% 69%, 35% 100%, 100% 100%, 100% 0);
                    }
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/vaskemaskine
                styles:
                  card:
                    - overflow: visible
                    - background: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/vaskemaskine')
                          ? 'var(--menu-selected)' 
                          : 'none'; ]]]
                    - box-shadow: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/vaskemaskine')
                          ? 'var(--menu-selected-shadow)' 
                          : 'none'; ]]]
                    - width: 70px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - justify-content: center
                    - align-items: center
                  icon:
                    - width: 34px
                    - height: 34px
                    - color: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/vaskemaskine')
                          ? 'var(--icon-farve)' 
                          : 'var(--icon-farve-2)'; ]]]
                  custom_fields:
                    extra_icon:
                      - position: absolute
                      - top: 15%
                      - left: 80%
                      - transform: translate(-50%, -50%)
                      - z-index: 2
                      - animation: null
                      - font-size: 12px
                      - color: var(--primary-color)
                custom_fields:
                  extra_icon: |
                    [[[
                      if ('[[active_path]]' !== '/wall-panel/vaskemaskine') {
                        const iconSize = '20px';
                        const iconColor1 = 'rgb(102,255,51)';
                        const iconColor2 = 'var(--primary-color)';

                        const opState = states['sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate']?.state;
                        const programProgress = states['sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_programprogress']?.state;
                        const binaryState = states['binary_sensor.vaskemaskine_forsinket_start']?.state;

                        if (opState === 'Forsinket start' && binaryState === 'on') {
                          return `<ha-icon icon="mdi:clock-outline" style="width:${iconSize};height:${iconSize};color:${iconColor2};"></ha-icon>`;
                        } else if ((opState === 'Forsinket start' || opState === 'Kører') && binaryState === 'off') {
                          if (programProgress && programProgress !== 'unavailable') {
                            return programProgress + '%';
                          } else {
                            return '';
                          }
                        } else if (opState === 'Fuldført') {
                          return `<ha-icon icon="mdi:check" style="width:${iconSize};height:${iconSize};color:${iconColor1};"></ha-icon>`;
                        }
                      }
                      return '';
                    ]]]
              - type: custom:button-card
                icon: mdi:washing-machine
                card_mod:
                  style: |
                    ha-state-icon {
                      transform-origin: 50% 57%;
                      clip-path: circle(21.9% at 50% 56%);
                    }
                    ha-card {
                      top: -50px;
                    }
                state:
                  - operator: template
                    value: |
                      [[[
                        let opState = states['sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate'].state;
                        let binaryState = states['binary_sensor.vaskemaskine_forsinket_start'].state;
                        return ((opState === "Forsinket start" || opState === "Kører") && binaryState === "off");
                      ]]]
                    styles:
                      icon:
                        - animation: rotating 2.5s linear infinite
                styles:
                  card:
                    - background: none
                    - box-shadow: none
                    - justify-content: center
                    - align-items: center
                  icon:
                    - width: 34px
                    - height: 34px
                    - color: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/vaskemaskine')
                          ? 'var(--icon-farve)' 
                          : 'var(--icon-farve-2)'; ]]]
          - type: custom:stack-in-card
            keep:
              background: true
              box_shadow: true
              border_radius: true
            card_mod:
              style: |
                ha-card {
                  height: 60px;
                  background: none;
                }
            cards:
              - type: custom:button-card
                icon: mdi:tumble-dryer
                card_mod:
                  style: |
                    ha-state-icon {
                      clip-path: polygon(0% 0%, 0% 100%, 28% 100%, 27% 58%, 30% 45%, 40% 37%, 52% 35%, 63% 39%, 72% 50%, 73% 65%, 68% 74%, 58% 81%, 46% 81%, 33% 74%, 27% 58%, 29% 100%, 100% 100%, 100% 0%);
                    }
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/torretumbler
                styles:
                  card:
                    - overflow: visible
                    - background: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/torretumbler')
                          ? 'var(--menu-selected)' 
                          : 'none'; ]]]
                    - box-shadow: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/torretumbler')
                          ? 'var(--menu-selected-shadow)' 
                          : 'none'; ]]]
                    - width: 70px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - justify-content: center
                    - align-items: center
                  icon:
                    - width: 34px
                    - height: 34px
                    - color: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/torretumbler')
                          ? 'var(--icon-farve)' 
                          : 'var(--icon-farve-2)'; ]]]
                  custom_fields:
                    extra_icon:
                      - position: absolute
                      - top: 15%
                      - left: 80%
                      - transform: translate(-50%, -50%)
                      - z-index: 2
                      - animation: null
                      - font-size: 12px
                      - color: var(--primary-color)
                custom_fields:
                  extra_icon: |
                    [[[
                      if ('[[active_path]]' !== '/wall-panel/torretumbler') {
                        var iconSize = '20px';
                        var iconColor1 = 'rgb(102,255,51)';
                        var iconColor2 = 'var(--primary-color)';
                        var opState = states['sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate'].state;
                        var programProgress = states['sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress'].state;
                        var binaryState = states['binary_sensor.torretumbler_forsinket_start'].state;

                        if (opState === 'Forsinket start' && binaryState === 'on') {
                          return `<ha-icon icon="mdi:clock-outline" style="width:${iconSize};height:${iconSize};color:${iconColor2};"></ha-icon>`;
                        } else if ((opState === 'Forsinket start' || opState === 'Kører') && binaryState === 'off') {
                          return programProgress + '%';
                        } else if (opState === 'Fuldført') {
                          return `<ha-icon icon="mdi:check" style="width:${iconSize};height:${iconSize};color:${iconColor1};"></ha-icon>`;
                        }
                        return '';
                      }
                      return '';
                    ]]]
              - type: custom:button-card
                icon: mdi:tumble-dryer
                card_mod:
                  style: |
                    ha-state-icon {
                      transform-origin: 50% 57%;
                      clip-path: circle(24% at 50% 58%);
                    }
                    ha-card {
                      top: -50px;
                    }
                state:
                  - operator: template
                    value: |
                      [[[
                        let opState = states['sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate'].state;
                        let binaryState = states['binary_sensor.torretumbler_forsinket_start'].state;
                        return ((opState === "Forsinket start" || opState === "Kører") && binaryState === "off");
                      ]]]
                    styles:
                      icon:
                        - animation: rotating 2.5s linear infinite
                styles:
                  card:
                    - background: none
                    - box-shadow: none
                    - justify-content: center
                    - align-items: center
                  icon:
                    - width: 34px
                    - height: 34px
                    - color: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/torretumbler')
                          ? 'var(--icon-farve)' 
                          : 'var(--icon-farve-2)'; ]]]
          - type: custom:stack-in-card
            keep:
              background: true
              box_shadow: true
              border_radius: true
            card_mod:
              style: |
                ha-card {
                  height: 60px;
                  background: none;
                }
            cards:
              - type: custom:button-card
                icon: mdi:dishwasher
                card_mod:
                  style: |
                    ha-state-icon {
                      clip-path: polygon(0% 0%, 0% 100%, 30% 100%, 31% 39%, 70% 39%, 70% 80%, 30% 80%, 30% 100%, 100% 100%, 100% 0%);
                    }
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/opvaskemaskine
                styles:
                  card:
                    - overflow: visible
                    - background: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/opvaskemaskine')
                          ? 'var(--menu-selected)' 
                          : 'none'; ]]]
                    - box-shadow: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/opvaskemaskine')
                          ? 'var(--menu-selected-shadow)' 
                          : 'none'; ]]]
                    - width: 70px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - justify-content: center
                    - align-items: center
                  icon:
                    - width: 34px
                    - height: 34px
                    - color: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/opvaskemaskine')
                          ? 'var(--icon-farve)' 
                          : 'var(--icon-farve-2)'; ]]]
                  custom_fields:
                    extra_icon:
                      - position: absolute
                      - top: 15%
                      - left: 80%
                      - transform: translate(-50%, -50%)
                      - z-index: 2
                      - animation: null
                      - font-size: 12px
                      - color: var(--primary-color)
                custom_fields:
                  extra_icon: |
                    [[[
                      if ('[[active_path]]' !== '/wall-panel/opvaskemaskine') {
                        let washState = states['input_select.opvaskemaskine_status'].state;
                        let progress = states['sensor.siemens_014080389763001121_bsh_common_option_programprogress'].state;
                        let saltWarning = states['binary_sensor.opvaskemaskine_salt'].state;
                        let rinseAidWarning = states['binary_sensor.opvaskemaskine_afspaendingsmiddel'].state;

                        if (saltWarning === 'on') {
                          return `<span style="display:inline-block;width:20px;height:20px;background-color:var(--warning-color);
                                               -webkit-mask:url(/local/icons/salt.svg) no-repeat center;
                                               -webkit-mask-size:contain;
                                               mask:url(/local/icons/salt.svg) no-repeat center;
                                               mask-size:contain;"></span>`;
                        } else if (rinseAidWarning === 'on') {
                          return `<span style="display:inline-block;width:20px;height:20px;background-color:var(--warning-color);
                                               -webkit-mask:url(/local/icons/afspaending.svg) no-repeat center;
                                               -webkit-mask-size:contain;
                                               mask:url(/local/icons/afspaending.svg) no-repeat center;
                                               mask-size:contain;"></span>`;
                        } else if (washState === 'Vasker') {
                          return `${progress}%`;
                        } else if (washState === 'Forsinket start') {
                          return `<ha-icon icon="mdi:clock-outline"
                                          style="width:20px;height:20px;color:var(--primary-color);"></ha-icon>`;
                        } else if (washState === 'Fuldført') {
                          return `<ha-icon icon="mdi:check"
                                          style="width:20px;height:20px;color:rgb(102,255,51);"></ha-icon>`;
                        }
                      }
                      return '';
                    ]]]
              - type: custom:button-card
                icon: mdi:dishwasher
                card_mod:
                  style: |
                    ha-state-icon {
                      clip-path: polygon(30% 40%, 70% 40%, 70% 80%, 30% 80%);
                    }
                    ha-card {
                      top: -60px;
                    }
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/opvaskemaskine
                state:
                  - operator: template
                    value: |
                      [[[
                        return states['input_select.opvaskemaskine_status'].state === "Vasker"
                      ]]]
                    styles:
                      icon:
                        - animation: shake 2s ease-in infinite
                extra_styles: |
                  @keyframes shake {
                    0% { transform: translate(0px, -30px); }
                    30% { transform: translate(0px, 0px); }
                    40% { transform: translate(0px, 2px); }
                    50% { transform: translate(0px, 0px); }
                    100% { transform: translate(0px, 0px); }
                  }
                styles:
                  card:
                    - background: none
                    - box-shadow: none
                    - width: 70px
                    - height: 60px
                    - justify-content: center
                    - align-items: center
                  icon:
                    - width: 34px
                    - height: 34px
                    - color: >-
                        [[[ return ('[[active_path]]' ===
                        '/wall-panel/opvaskemaskine')
                          ? 'var(--icon-farve)' 
                          : 'var(--icon-farve-2)'; ]]]
          - type: custom:stack-in-card
            keep:
              background: true
              box_shadow: true
              border_radius: true
            card_mod:
              style: |
                ha-card {
                  height: 60px;
                  background: none;
                }
            cards:
              - type: custom:button-card
                icon: mdi:trash-can
                card_mod:
                  style: |
                    }
                    ha-state-icon {
                      clip-path: polygon(0 25%, 100% 25%, 100% 100%, 0 100%);
                    }
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/affald
                styles:
                  card:
                    - overflow: visible
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |-
                        [[[ return ('[[active_path]]' === '/wall-panel/affald')
                          ? 'var(--menu-selected)' 
                          : 'none'; ]]]
                    - box-shadow: |-
                        [[[ return ('[[active_path]]' === '/wall-panel/affald')
                          ? 'var(--menu-selected-shadow)' 
                          : 'none'; ]]]
                    - width: 70px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - justify-content: center
                    - align-items: center
                  icon:
                    - width: 34px
                    - height: 34px
                    - color: |-
                        [[[ return ('[[active_path]]' === '/wall-panel/affald')
                          ? 'var(--icon-farve)' 
                          : 'var(--icon-farve-2)'; ]]]
                  custom_fields:
                    extra_icon:
                      - position: absolute
                      - top: 15%
                      - left: 80%
                      - transform: translate(-50%, -50%)
                      - z-index: 2
                      - animation: null
                custom_fields:
                  extra_icon: |
                    [[[
                      if ('[[active_path]]' !== '/wall-panel/affald') {
                        let state = states['sensor.affalddk_baermosehojen_71_naeste_afhentning'].state;
                        if (state === '0') {
                          return `<ha-icon icon="mdi:circle"
                                    style="width:14px;height:14px;color:rgb(102,255,51);"></ha-icon>`;
                        } else if (state === '1') {
                          return `<ha-icon icon="mdi:circle"
                                    style="width:14px;height:14px;color:blue;"></ha-icon>`;
                        }
                      }
                      return '';
                    ]]]
              - type: custom:button-card
                icon: mdi:trash-can
                card_mod:
                  style: |
                    ha-state-icon {
                      clip-path: polygon(0 0, 100% 0, 100% 27%, 0 27%);
                    }
                    ha-card {
                      top: -60px;
                    }
                state:
                  - operator: template
                    value: |
                      [[[
                        return states['sensor.affalddk_baermosehojen_71_naeste_afhentning'].state === "0"
                      ]]]
                    styles:
                      icon:
                        - animation: empty 3s linear infinite
                extra_styles: |
                  @keyframes empty {
                    0% { transform: rotate(0deg) translate(0); }
                    20% { transform: rotate(45deg) translate(-8px, -4px); }
                    60% { transform: rotate(45deg) translate(-8px, -4px); }
                    80% { transform: rotate(0deg) translate(0); }
                  }
                styles:
                  card:
                    - background: none
                    - width: 70px
                    - height: 60px
                    - justify-content: center
                    - align-items: center
                  icon:
                    - width: 34px
                    - height: 34px
                    - color: |-
                        [[[ return ('[[active_path]]' === '/wall-panel/affald')
                          ? 'var(--icon-farve)' 
                          : 'var(--icon-farve-2)'; ]]]
          - type: custom:button-card
            icon: mdi:cog
            tap_action:
              action: navigate
              navigation_path: /wall-panel/system
            styles:
              card:
                - overflow: visible
                - background: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/system')
                      ? 'var(--menu-selected)' 
                      : 'none'; ]]]
                - box-shadow: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/system')
                      ? 'var(--menu-selected-shadow)' 
                      : 'none'; ]]]
                - width: 70px
                - height: 60px
                - border-radius: var(--border-radius-1)
                - justify-content: center
                - align-items: center
              icon:
                - width: 34px
                - height: 34px
                - color: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/system')
                      ? 'var(--icon-farve)' 
                      : 'var(--icon-farve-2)'; ]]]
                - animation: |-
                    [[[ return ('[[active_path]]' === '/wall-panel/system')
                      ? 'rotating 4s linear infinite' 
                      : 'none'; ]]]
title: Wall-panel
kiosk_mode:
  kiosk: true
  admin_settings:
    hide_header: false
views:
  - title: Hjem
    path: hjem
    layout:
      max_cols: 3
      max_width: 390
      width: 430
      height: null
    type: custom:vertical-layout
    icon: mdi:home
    badges: []
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_state: false
            styles:
              card:
                - background: none
                - height: 120px
              grid:
                - position: absolute
              custom_fields:
                time:
                  - font-size: 5rem
                  - font-weight: null
                  - position: absolute
                  - justify-self: center
                date:
                  - font-size: 22px
                  - position: absolute
                  - justify-self: center
                  - top: 90px
            custom_fields:
              time: |
                [[[ return states['sensor.time'].state; ]]]
              date: |
                [[[ return states['sensor.dato_dk'].state; ]]]
            tap_action:
              action: none
          - type: custom:button-card
            entity: sensor.vejrudsigt_hjemme
            show_icon: false
            show_name: false
            show_state: false
            styles:
              card:
                - background: none
                - height: 110px
                - padding: 0px
                - margin-bottom: '-15px'
                - overflow: visible
              grid:
                - position: absolute
              custom_fields:
                icon:
                  - position: absolute
                temp:
                  - font-size: 36px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 10px
                feels_like:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 55px
                condition:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 75px
                wind:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 95px
            custom_fields:
              icon: >
                [[[ return '<img src="' + entity.attributes.now_icon + '"
                width="150" height="150">'; ]]]
              temp: |
                [[[ return entity.attributes.now_temp + '°C' ]]]
              feels_like: >
                [[[

                return 'Føles som:&nbsp;&nbsp;&nbsp;' +
                entity.attributes.now_feels_like + '°C';

                ]]]
              condition: >
                [[[

                return entity.attributes.now_condition +
                '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                entity.attributes.now_precipitation + ' mm' ]]]
              wind: >
                [[[

                return entity.attributes.now_wind_description +
                '&nbsp;&nbsp;·&nbsp;&nbsp;' + entity.attributes.now_wind_speed +
                ' m/s' ]]]
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  size: wide
                  dismissable: true
                  content:
                    square: false
                    type: grid
                    cards:
                      - square: false
                        type: grid
                        cards:
                          - type: vertical-stack
                            cards:
                              - type: horizontal-stack
                                cards:
                                  - type: custom:local-conditional-card
                                    id: vejret_nu
                                    default: show
                                    card:
                                      square: false
                                      type: grid
                                      cards:
                                        - type: custom:button-card
                                          entity: sensor.vejrudsigt_hjemme
                                          show_icon: false
                                          show_name: false
                                          show_state: false
                                          styles:
                                            card:
                                              - box-shadow: var(--box-shadow-off)
                                              - background: var(--custom-button-gradient-1)
                                              - border-radius: var(--border-radius-1)
                                              - height: 632px
                                              - padding: 0px
                                            grid:
                                              - position: absolute
                                            custom_fields:
                                              overskrift:
                                                - color: var(--text-primary-color)
                                                - font-size: 16px
                                                - font-weight: bold
                                                - position: absolute
                                                - justify-self: center
                                                - left: 7%
                                                - top: 20px
                                              icon:
                                                - position: absolute
                                                - top: 20px
                                                - left: 50%
                                                - transform: translateX(-50%)
                                              temp:
                                                - color: var(--text-primary-color)
                                                - font-size: 70px
                                                - position: absolute
                                                - top: 300px
                                                - left: 50%
                                                - transform: translateX(-50%)
                                              feels_like:
                                                - color: var(--text-primary-color)
                                                - font-size: 12px
                                                - position: absolute
                                                - justify-self: center
                                                - left: 50%
                                                - transform: translateX(-50%)
                                                - top: 380px
                                              condition:
                                                - color: var(--text-primary-color)
                                                - font-size: 12px
                                                - position: absolute
                                                - justify-self: center
                                                - left: 50%
                                                - transform: translateX(-50%)
                                                - top: 400px
                                              wind:
                                                - color: var(--text-primary-color)
                                                - font-size: 12px
                                                - position: absolute
                                                - justify-self: center
                                                - left: 50%
                                                - transform: translateX(-50%)
                                                - top: 420px
                                              uv:
                                                - color: var(--text-primary-color)
                                                - font-size: 12px
                                                - position: absolute
                                                - justify-self: center
                                                - left: 50%
                                                - transform: translateX(-50%)
                                                - top: 440px
                                          custom_fields:
                                            overskrift: Vejret nu
                                            icon: >
                                              [[[ return '<img src="' +
                                              entity.attributes.now_icon + '"
                                              width="300" height="300">'; ]]]
                                            temp: >
                                              [[[ return entity.attributes.now_temp +
                                              '°C' ]]]
                                            feels_like: >
                                              [[[ return 'Føles
                                              som:&nbsp;&nbsp;&nbsp;' +
                                              entity.attributes.now_feels_like + '°C';
                                              ]]]
                                            condition: >
                                              [[[ return
                                              entity.attributes.now_condition +
                                              '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                              entity.attributes.now_precipitation + '
                                              mm' ]]]
                                            wind: >
                                              [[[ return
                                              entity.attributes.now_wind_description +
                                              '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                              entity.attributes.now_wind_speed + '
                                              m/s' + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                              entity.attributes.now_wind_direction ]]]
                                            uv: >
                                              [[[ return 'UV index:&nbsp;&nbsp;&nbsp;'
                                              + entity.attributes.now_uv_index ]]]
                                          tap_action:
                                            action: fire-dom-event
                                            local_conditional_card:
                                              action: set
                                              ids:
                                                - vejret_nu: hide
                                                - vejret_idag: show
                                      columns: 1
                                  - type: custom:local-conditional-card
                                    id: vejret_idag
                                    default: hide
                                    card:
                                      square: false
                                      type: grid
                                      cards:
                                        - type: custom:button-card
                                          entity: sensor.vejrudsigt_hjemme
                                          show_icon: false
                                          show_name: false
                                          show_state: false
                                          styles:
                                            card:
                                              - box-shadow: var(--box-shadow-off)
                                              - background: var(--custom-button-gradient-1)
                                              - border-radius: var(--border-radius-1)
                                              - height: 632px
                                              - padding: 0px
                                            grid:
                                              - position: absolute
                                            custom_fields:
                                              overskrift:
                                                - color: var(--text-primary-color)
                                                - font-size: 16px
                                                - font-weight: bold
                                                - position: absolute
                                                - justify-self: center
                                                - left: 7%
                                                - top: 20px
                                              icon:
                                                - position: absolute
                                                - top: 20px
                                                - left: 50%
                                                - transform: translateX(-50%)
                                              temp:
                                                - color: var(--text-primary-color)
                                                - font-size: 70px
                                                - position: absolute
                                                - top: 300px
                                                - left: 50%
                                                - transform: translateX(-50%)
                                              temp_low:
                                                - color: var(--text-primary-color)
                                                - font-size: 12px
                                                - position: absolute
                                                - justify-self: center
                                                - left: 50%
                                                - transform: translateX(-50%)
                                                - top: 380px
                                              feels_like:
                                                - color: var(--text-primary-color)
                                                - font-size: 12px
                                                - position: absolute
                                                - justify-self: center
                                                - left: 50%
                                                - transform: translateX(-50%)
                                                - top: 400px
                                              condition:
                                                - color: var(--text-primary-color)
                                                - font-size: 12px
                                                - position: absolute
                                                - justify-self: center
                                                - left: 50%
                                                - transform: translateX(-50%)
                                                - top: 420px
                                              wind:
                                                - color: var(--text-primary-color)
                                                - font-size: 12px
                                                - position: absolute
                                                - justify-self: center
                                                - left: 50%
                                                - transform: translateX(-50%)
                                                - top: 440px
                                              uv:
                                                - color: var(--text-primary-color)
                                                - font-size: 12px
                                                - position: absolute
                                                - justify-self: center
                                                - left: 50%
                                                - transform: translateX(-50%)
                                                - top: 460px
                                          custom_fields:
                                            overskrift: Vejret i dag
                                            icon: >
                                              [[[ return '<img src="' +
                                              entity.attributes.today_icon + '"
                                              width="300" height="300">'; ]]]
                                            temp: >
                                              [[[ return entity.attributes.today_temp
                                              + '°C' ]]]
                                            temp_low: >
                                              [[[ return 'Lav temp:&nbsp;&nbsp;&nbsp;'
                                              + entity.attributes.today_temp_low +
                                              '°C'; ]]]
                                            feels_like: >
                                              [[[ return 'Føles
                                              som:&nbsp;&nbsp;&nbsp;' +
                                              entity.attributes.today_feels_like +
                                              '°C'; ]]]
                                            condition: >
                                              [[[ return
                                              entity.attributes.today_condition +
                                              '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                              entity.attributes.today_precipitation +
                                              ' mm' ]]]
                                            wind: >
                                              [[[ return
                                              entity.attributes.today_wind_description
                                              + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                              entity.attributes.today_wind_speed + '
                                              m/s' + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                              entity.attributes.today_wind_direction
                                              ]]]
                                            uv: >
                                              [[[ return 'UV index:&nbsp;&nbsp;&nbsp;'
                                              + entity.attributes.today_uv_index ]]]
                                          tap_action:
                                            action: fire-dom-event
                                            local_conditional_card:
                                              action: set
                                              ids:
                                                - vejret_nu: show
                                                - vejret_idag: hide
                                      columns: 1
                          - square: false
                            type: grid
                            cards:
                              - type: custom:button-card
                                entity: sensor.vejrudsigt_hjemme
                                show_icon: false
                                show_name: false
                                show_state: false
                                styles:
                                  card:
                                    - box-shadow: var(--box-shadow-off)
                                    - background: var(--custom-button-gradient-1)
                                    - border-radius: var(--border-radius-1)
                                    - height: 120px
                                    - padding: 0px
                                  grid:
                                    - position: absolute
                                  custom_fields:
                                    dag:
                                      - color: var(--text-primary-color)
                                      - font-size: 16px
                                      - font-weight: bold
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 20px
                                    icon:
                                      - position: absolute
                                      - top: 50%
                                      - right: 3%
                                      - transform: translate(0%, -50%)
                                    temp:
                                      - color: var(--text-primary-color)
                                      - font-size: 40px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 42px
                                    temp_low:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 90px
                                    feels_like:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 30px
                                      - left: 38%
                                    condition:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 50px
                                      - left: 38%
                                    wind:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 70px
                                      - left: 38%
                                    uv:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 90px
                                      - left: 38%
                                custom_fields:
                                  temp_low: >
                                    [[[ return 'Lav temp:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast1_temp_low + '°C';
                                    ]]]
                                  dag: >
                                    [[[ let day =
                                    helpers.formatDateWeekday(entity.attributes.forecast1_datetime);
                                    return day.charAt(0).toUpperCase() +
                                    day.slice(1); ]]]
                                  icon: >
                                    [[[ return '<img src="' +
                                    entity.attributes.forecast1_icon + '"
                                    width="120" height="120">'; ]]]
                                  temp: >
                                    [[[ return entity.attributes.forecast1_temp
                                    + '°C' ]]]
                                  feels_like: >
                                    [[[ return 'Føles som:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast1_feels_like +
                                    '°C'; ]]]
                                  condition: >
                                    [[[ return
                                    entity.attributes.forecast1_condition +
                                    '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast1_precipitation +
                                    ' mm' ]]]
                                  wind: >
                                    [[[ return
                                    entity.attributes.forecast1_wind_description
                                    + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast1_wind_speed + '
                                    m/s' + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast1_wind_direction
                                    ]]]
                                  uv: >
                                    [[[ return 'UV index:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast1_uv_index ]]]
                                tap_action:
                                  action: none
                              - type: custom:button-card
                                entity: sensor.vejrudsigt_hjemme
                                show_icon: false
                                show_name: false
                                show_state: false
                                styles:
                                  card:
                                    - box-shadow: var(--box-shadow-off)
                                    - background: var(--custom-button-gradient-1)
                                    - border-radius: var(--border-radius-1)
                                    - height: 120px
                                    - padding: 0px
                                  grid:
                                    - position: absolute
                                  custom_fields:
                                    dag:
                                      - color: var(--text-primary-color)
                                      - font-size: 16px
                                      - font-weight: bold
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 20px
                                    icon:
                                      - position: absolute
                                      - top: 50%
                                      - right: 3%
                                      - transform: translate(0%, -50%)
                                    temp:
                                      - color: var(--text-primary-color)
                                      - font-size: 40px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 42px
                                    temp_low:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 90px
                                    feels_like:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 30px
                                      - left: 38%
                                    condition:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 50px
                                      - left: 38%
                                    wind:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 70px
                                      - left: 38%
                                    uv:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 90px
                                      - left: 38%
                                custom_fields:
                                  temp_low: >
                                    [[[ return 'Lav temp:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast2_temp_low + '°C';
                                    ]]]
                                  dag: >
                                    [[[ let day =
                                    helpers.formatDateWeekday(entity.attributes.forecast2_datetime);
                                    return day.charAt(0).toUpperCase() +
                                    day.slice(1); ]]]
                                  icon: >
                                    [[[ return '<img src="' +
                                    entity.attributes.forecast2_icon + '"
                                    width="120" height="120">'; ]]]
                                  temp: >
                                    [[[ return entity.attributes.forecast2_temp
                                    + '°C' ]]]
                                  feels_like: >
                                    [[[ return 'Føles som:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast2_feels_like +
                                    '°C'; ]]]
                                  condition: >
                                    [[[ return
                                    entity.attributes.forecast2_condition +
                                    '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast2_precipitation +
                                    ' mm' ]]]
                                  wind: >
                                    [[[ return
                                    entity.attributes.forecast2_wind_description
                                    + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast2_wind_speed + '
                                    m/s' + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast2_wind_direction
                                    ]]]
                                  uv: >
                                    [[[ return 'UV index:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast2_uv_index ]]]
                                tap_action:
                                  action: none
                              - type: custom:button-card
                                entity: sensor.vejrudsigt_hjemme
                                show_icon: false
                                show_name: false
                                show_state: false
                                styles:
                                  card:
                                    - box-shadow: var(--box-shadow-off)
                                    - background: var(--custom-button-gradient-1)
                                    - border-radius: var(--border-radius-1)
                                    - height: 120px
                                    - padding: 0px
                                  grid:
                                    - position: absolute
                                  custom_fields:
                                    dag:
                                      - color: var(--text-primary-color)
                                      - font-size: 16px
                                      - font-weight: bold
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 20px
                                    icon:
                                      - position: absolute
                                      - top: 50%
                                      - right: 3%
                                      - transform: translate(0%, -50%)
                                    temp:
                                      - color: var(--text-primary-color)
                                      - font-size: 40px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 42px
                                    temp_low:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 90px
                                    feels_like:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 30px
                                      - left: 38%
                                    condition:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 50px
                                      - left: 38%
                                    wind:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 70px
                                      - left: 38%
                                    uv:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 90px
                                      - left: 38%
                                custom_fields:
                                  temp_low: >
                                    [[[ return 'Lav temp:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast3_temp_low + '°C';
                                    ]]]
                                  dag: >
                                    [[[ let day =
                                    helpers.formatDateWeekday(entity.attributes.forecast3_datetime);
                                    return day.charAt(0).toUpperCase() +
                                    day.slice(1); ]]]
                                  icon: >
                                    [[[ return '<img src="' +
                                    entity.attributes.forecast3_icon + '"
                                    width="120" height="120">'; ]]]
                                  temp: >
                                    [[[ return entity.attributes.forecast3_temp
                                    + '°C' ]]]
                                  feels_like: >
                                    [[[ return 'Føles som:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast3_feels_like +
                                    '°C'; ]]]
                                  condition: >
                                    [[[ return
                                    entity.attributes.forecast3_condition +
                                    '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast3_precipitation +
                                    ' mm' ]]]
                                  wind: >
                                    [[[ return
                                    entity.attributes.forecast3_wind_description
                                    + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast3_wind_speed + '
                                    m/s' + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast3_wind_direction
                                    ]]]
                                  uv: >
                                    [[[ return 'UV index:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast3_uv_index ]]]
                                tap_action:
                                  action: none
                              - type: custom:button-card
                                entity: sensor.vejrudsigt_hjemme
                                show_icon: false
                                show_name: false
                                show_state: false
                                styles:
                                  card:
                                    - box-shadow: var(--box-shadow-off)
                                    - background: var(--custom-button-gradient-1)
                                    - border-radius: var(--border-radius-1)
                                    - height: 120px
                                    - padding: 0px
                                  grid:
                                    - position: absolute
                                  custom_fields:
                                    dag:
                                      - color: var(--text-primary-color)
                                      - font-size: 16px
                                      - font-weight: bold
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 20px
                                    icon:
                                      - position: absolute
                                      - top: 50%
                                      - right: 3%
                                      - transform: translate(0%, -50%)
                                    temp:
                                      - color: var(--text-primary-color)
                                      - font-size: 40px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 42px
                                    temp_low:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 90px
                                    feels_like:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 30px
                                      - left: 38%
                                    condition:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 50px
                                      - left: 38%
                                    wind:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 70px
                                      - left: 38%
                                    uv:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 90px
                                      - left: 38%
                                custom_fields:
                                  temp_low: >
                                    [[[ return 'Lav temp:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast4_temp_low + '°C';
                                    ]]]
                                  dag: >
                                    [[[ let day =
                                    helpers.formatDateWeekday(entity.attributes.forecast4_datetime);
                                    return day.charAt(0).toUpperCase() +
                                    day.slice(1); ]]]
                                  icon: >
                                    [[[ return '<img src="' +
                                    entity.attributes.forecast4_icon + '"
                                    width="120" height="120">'; ]]]
                                  temp: >
                                    [[[ return entity.attributes.forecast4_temp
                                    + '°C' ]]]
                                  feels_like: >
                                    [[[ return 'Føles som:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast4_feels_like +
                                    '°C'; ]]]
                                  condition: >
                                    [[[ return
                                    entity.attributes.forecast4_condition +
                                    '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast4_precipitation +
                                    ' mm' ]]]
                                  wind: >
                                    [[[ return
                                    entity.attributes.forecast4_wind_description
                                    + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast4_wind_speed + '
                                    m/s' + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast4_wind_direction
                                    ]]]
                                  uv: >
                                    [[[ return 'UV index:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast4_uv_index ]]]
                                tap_action:
                                  action: none
                              - type: custom:button-card
                                entity: sensor.vejrudsigt_hjemme
                                show_icon: false
                                show_name: false
                                show_state: false
                                styles:
                                  card:
                                    - box-shadow: var(--box-shadow-off)
                                    - background: var(--custom-button-gradient-1)
                                    - border-radius: var(--border-radius-1)
                                    - height: 120px
                                    - padding: 0px
                                  grid:
                                    - position: absolute
                                  custom_fields:
                                    dag:
                                      - color: var(--text-primary-color)
                                      - font-size: 16px
                                      - font-weight: bold
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 20px
                                    icon:
                                      - position: absolute
                                      - top: 50%
                                      - right: 3%
                                      - transform: translate(0%, -50%)
                                    temp:
                                      - color: var(--text-primary-color)
                                      - font-size: 40px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 42px
                                    temp_low:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - left: 7%
                                      - top: 90px
                                    feels_like:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 30px
                                      - left: 38%
                                    condition:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 50px
                                      - left: 38%
                                    wind:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 70px
                                      - left: 38%
                                    uv:
                                      - color: var(--text-primary-color)
                                      - font-size: 12px
                                      - position: absolute
                                      - justify-self: center
                                      - top: 90px
                                      - left: 38%
                                custom_fields:
                                  temp_low: >
                                    [[[ return 'Lav temp:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast5_temp_low + '°C';
                                    ]]]
                                  dag: >
                                    [[[ let day =
                                    helpers.formatDateWeekday(entity.attributes.forecast5_datetime);
                                    return day.charAt(0).toUpperCase() +
                                    day.slice(1); ]]]
                                  icon: >
                                    [[[ return '<img src="' +
                                    entity.attributes.forecast5_icon + '"
                                    width="120" height="120">'; ]]]
                                  temp: >
                                    [[[ return entity.attributes.forecast5_temp
                                    + '°C' ]]]
                                  feels_like: >
                                    [[[ return 'Føles som:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast5_feels_like +
                                    '°C'; ]]]
                                  condition: >
                                    [[[ return
                                    entity.attributes.forecast5_condition +
                                    '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast5_precipitation +
                                    ' mm' ]]]
                                  wind: >
                                    [[[ return
                                    entity.attributes.forecast5_wind_description
                                    + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast5_wind_speed + '
                                    m/s' + '&nbsp;&nbsp;·&nbsp;&nbsp;' +
                                    entity.attributes.forecast5_wind_direction
                                    ]]]
                                  uv: >
                                    [[[ return 'UV index:&nbsp;&nbsp;&nbsp;' +
                                    entity.attributes.forecast5_uv_index ]]]
                                tap_action:
                                  action: none
                            columns: 1
                        columns: 2
                    columns: 1
                  timeout: 30000
                  card_mod:
                    style:
                      ha-dialog$: |
                        div.mdc-dialog__container {
                          --vertical-align-dialog: center !important;
                        }
                      .: |
                        ha-dialog {
                          --dialog-backdrop-filter: blur(0.8em); 
                        }
                target: {}
        columns: 1
        view_layout:
          column: 1
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: alarm_control_panel.alarmo
                    state: disarmed
                card:
                  type: custom:button-card
                  icon: mdi:shield-home
                  name: Alarm
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 70px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        dismissable: true
                        content:
                          type: custom:alarmo-card
                          entity: alarm_control_panel.alarmo
                          name: Alarm
                          use_clear_icon: true
                          button_scale_actions: 2.2
                          button_scale_keypad: 2.2
                          states:
                            armed_home:
                              hide: true
                            armed_away:
                              button_label: Aktiver alarm
                            disarmed:
                              button_label: Deaktiver alarm
                          show_messages: true
                          show_ready_indicator: true
                          show_bypassed_sensors: true
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
              - type: conditional
                conditions:
                  - condition: state
                    entity: alarm_control_panel.alarmo
                    state: arming
                card:
                  type: custom:button-card
                  icon: mdi:shield-home
                  name: Aktiverer alarm
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 70px
                      - animation:
                          - blink 2s linear infinite
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        dismissable: true
                        content:
                          type: custom:alarmo-card
                          entity: alarm_control_panel.alarmo
                          name: Alarm
                          keep_keypad_visible: false
                          use_clear_icon: true
                          button_scale_actions: 2.2
                          button_scale_keypad: 2.2
                          states:
                            armed_home:
                              hide: true
                            armed_away:
                              button_label: Aktiver alarm
                            disarmed:
                              button_label: Deaktiver alarm
                          show_messages: true
                          show_ready_indicator: true
                          show_bypassed_sensors: true
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
              - type: conditional
                conditions:
                  - condition: state
                    entity: alarm_control_panel.alarmo
                    state: pending
                card:
                  type: custom:button-card
                  icon: mdi:shield-home
                  name: Afventer...
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 70px
                      - animation:
                          - blink 2s linear infinite
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        dismissable: true
                        content:
                          type: custom:alarmo-card
                          entity: alarm_control_panel.alarmo
                          name: Alarm
                          keep_keypad_visible: false
                          use_clear_icon: true
                          button_scale_actions: 2.2
                          button_scale_keypad: 2.2
                          states:
                            armed_home:
                              hide: true
                            armed_away:
                              button_label: Aktiver alarm
                            disarmed:
                              button_label: Deaktiver alarm
                          show_messages: true
                          show_ready_indicator: true
                          show_bypassed_sensors: true
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
              - type: conditional
                conditions:
                  - condition: state
                    entity: alarm_control_panel.alarmo
                    state: armed_away
                card:
                  type: custom:button-card
                  icon: mdi:shield-home
                  name: Alarm aktiveret
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-4)
                      - height: 70px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        dismissable: true
                        content:
                          type: custom:alarmo-card
                          entity: alarm_control_panel.alarmo
                          name: Alarm
                          keep_keypad_visible: false
                          use_clear_icon: true
                          button_scale_actions: 2.2
                          button_scale_keypad: 2.2
                          states:
                            armed_home:
                              hide: true
                            armed_away:
                              button_label: Aktiver alarm
                            disarmed:
                              button_label: Deaktiver alarm
                          show_messages: true
                          show_ready_indicator: true
                          show_bypassed_sensors: true
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
              - type: conditional
                conditions:
                  - condition: state
                    entity: alarm_control_panel.alarmo
                    state: triggered
                card:
                  type: custom:button-card
                  icon: mdi:shield-home
                  name: ALARM UDLØST!
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 70px
                      - animation:
                          - blink 1s linear infinite
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        dismissable: true
                        content:
                          type: custom:alarmo-card
                          entity: alarm_control_panel.alarmo
                          name: Alarm
                          keep_keypad_visible: false
                          use_clear_icon: true
                          button_scale_actions: 2.2
                          button_scale_keypad: 2.2
                          states:
                            armed_home:
                              hide: true
                            armed_away:
                              button_label: Aktiver alarm
                            disarmed:
                              button_label: Deaktiver alarm
                          show_messages: true
                          show_ready_indicator: true
                          show_bypassed_sensors: true
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
              - type: custom:button-card
                icon: mdi:cctv
                name: Indkørsel
                show_icon: true
                show_name: true
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                    - height: 70px
                  icon:
                    - color: var(--icon-farve)
                    - height: 40px
                  name:
                    - color: var(--text-primary-color)
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      content:
                        type: picture-elements
                        elements:
                          - type: icon
                            style:
                              left: 97%
                              top: 6%
                              '--mdc-icon-size': 50px
                            icon: mdi:light-flood-down
                            tap_action:
                              action: call-service
                              service: switch.toggle
                              target:
                                entity_id: switch.indkorsel_white_light
                            hold_action:
                              action: none
                            card_mod:
                              style: |
                                :host {
                                  color: {% if is_state('switch.indkorsel_white_light', 'on') %} rgb(255, 204, 0) {% else %} white {% endif %};
                                }
                        camera_image: camera.driveway
                        camera_view: live
                      card_mod:
                        style:
                          ha-dialog$: |
                            div.mdc-dialog__container {
                              --vertical-align-dialog: center !important;
                            }
                          .: |
                            ha-dialog {
                              --dialog-backdrop-filter: blur(0.8em); 
                            }
                      timeout: 20000
                      size: wide
              - type: custom:button-card
                icon: mdi:cctv
                name: Fordør
                show_icon: true
                show_name: true
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                    - height: 70px
                  icon:
                    - color: var(--icon-farve)
                    - height: 40px
                  name:
                    - color: var(--text-primary-color)
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      content:
                        type: picture-elements
                        elements: []
                        camera_image: camera.front_door
                        camera_view: live
                      card_mod:
                        style:
                          ha-dialog$: |
                            div.mdc-dialog__container {
                              --vertical-align-dialog: center !important;
                            }
                          .: |
                            ha-dialog {
                              --dialog-backdrop-filter: blur(0.8em); 
                            }
                      timeout: 20000
                      size: wide
            columns: 3
        columns: 1
        title: SIKKERHED
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: picture-elements
            elements:
              - type: image
                image: /local/tesla/ladybug_wall2_small.png?v=2
                style:
                  top: 50%
                  left: 50%
                  width: 100%
                  height: 100%
                  pointer-events: all
                  transform: translate(-50%, -50%)
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/biler
              - type: conditional
                conditions:
                  - condition: state
                    entity: script.ladybug_sync_charge_limit
                    state: 'off'
                elements:
                  - type: state-label
                    style:
                      left: 80%
                      top: 30%
                      font-size: 50px
                    entity: sensor.ladybug_battery_level
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: script.ladybug_sync_charge_limit
                    state: 'on'
                elements:
                  - type: state-label
                    style:
                      left: 80%
                      top: 30%
                      font-size: 50px
                      animation: smooth-blink 2s ease-in-out 2
                    entity: input_number.ladybug_charge_limit
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: state-label
                style:
                  left: 80%
                  top: 70%
                  font-size: 18px
                entity: sensor.ladybug_battery_range
                tap_action:
                  action: none
                hold_action:
                  action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'on'
                  - condition: state
                    entity: sensor.johansen_status
                    state: charging
                elements:
                  - type: state-label
                    style:
                      left: 80%
                      top: 93%
                      font-size: 14px
                      color: grey
                    entity: sensor.johansen_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: icon
                    style:
                      left: 62%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: rgb(102, 255, 51)
                    icon: mdi:lightning-bolt
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'on'
                elements:
                  - type: icon
                    style:
                      left: 56%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: rgb(102, 255, 51)
                    icon: mdi:leaf
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.ladybug
                    state: home
                elements:
                  - type: image
                    image: /local/icons/home_circle.png
                    style:
                      left: 48%
                      top: 15%
                      width: 5%
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.ladybug_charge_cable
                        state: 'on'
                      - condition: state
                        entity: switch.ladybug_smart_charging_ev_connected
                        state: 'off'
                elements:
                  - type: icon
                    style:
                      left: 56%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: grey
                    icon: mdi:connection
                    tap_action:
                      action: none
                    hold_action:
                      action: none
            image: /local/tesla/ladybug_wall2_small.png?v=2
            tap_action:
              action: call-service
              service: browser_mod.popup
              service_data:
                dismissable: true
                browser_id: e3859d0a4c72bc075212054772606ab9
                content:
                  type: map
                  entities:
                    - entity: person.ladybug
                  theme_mode: auto
                timeout: 30000
            card_mod:
              style: |
                ha-card {
                  background: none;
                }
                @keyframes smooth-blink {
                  0%, 100% {
                    opacity: 1;
                  }
                  50% {
                    opacity: 0;
                  }
                }
          - type: vertical-stack
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - position: absolute
                    - padding: 0
                    - margin-top: 5px
                    - margin-bottom: 5px
                    - height: 8px
                    - box-shadow: none
                    - border-radius: var(--border-radius-1)
                    - background: |
                        [[[
                          const battery = parseFloat(states['sensor.ladybug_battery_level'].state) || 0;
                          let barColor;

                          if (battery < 10) {
                            barColor = 'rgb(255, 51, 51)';
                          } else if (battery < 20) {
                            barColor = 'rgb(255, 153, 51)';
                          } else if (battery < 40) {
                            barColor = 'rgb(255, 255, 0)';
                          } else {
                            barColor = 'rgb(102, 255, 51)';
                          }

                          return `linear-gradient(
                            to right,
                            ${barColor} ${battery}%,
                            rgb(204, 204, 204) ${battery}%
                          )`;
                        ]]]
              - type: custom:my-slider-v2
                entity: input_number.ladybug_charge_limit
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 50
                max: 100
                step: 5
                styles:
                  container:
                    - border-radius: var(--border-radius-1)
                    - overflow: visible
                    - margin-top: '-7px'
                  card:
                    - height: 20px
                    - background: none
                  progress:
                    - background: none
                  thumb:
                    - width: 16px
                    - height: 16px
                    - background: >-
                        radial-gradient(circle, rgba(208,208,208,1) 0%,
                        rgba(153,153,153,1) 88%)
                    - border-radius: 20px
                  track:
                    - background: none
                    - box-shadow: none
                    - border: none
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                entity: person.ladybug
                content: >-
                  {% if is_state('sensor.ladybug_shift_state', 'd') or
                  is_state('sensor.ladybug_shift_state', 'r') %}

                  Kører...

                  {% elif is_state('device_tracker.ladybug_location', 'home') %}

                  Hjemme

                  {% elif is_state('device_tracker.ladybug_location',
                  'not_home') %}

                  Ude

                  {% else %}

                  {{ states('device_tracker.ladybug_location') }}

                  {% endif %}
                icon: >-
                  {% if is_state('sensor.ladybug_shift_state', 'd') or
                  is_state('sensor.ladybug_shift_state', 'r') %} mdi:tire {%
                  else %} mdi:map-marker {% endif %}
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      content:
                        type: map
                        entities:
                          - entity: person.ladybug
                        theme_mode: auto
                      timeout: 30000
                      card_mod:
                        style:
                          ha-dialog$: |
                            div.mdc-dialog__container {
                              --vertical-align-dialog: center !important;
                            }
                          .: |
                            ha-dialog {
                              --dialog-backdrop-filter: blur(0.8em); 
                            }
                alignment: left
                card_mod:
                  style:
                    mushroom-template-chip:nth-child(1)$: |
                      ha-state-icon {
                        {{ 'animation: rotation 2s linear infinite;' if is_state('sensor.ladybug_shift_state', 'd') or is_state('sensor.ladybug_shift_state', 'r') }}
                      }
                      @keyframes rotation {
                        0% {
                          transform: rotate(0deg)
                        }
                        100% {
                          transform: rotate(360deg);
                        }
                      }
              - type: entity
                entity: sensor.ladybug_smart_charging_status_dk
                icon: mdi:leaf
                tap_action:
                  action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.ladybug_charging
                    state: 'off'
                chip:
                  type: entity
                  entity: sensor.ladybug_smart_charging_scheduled
                  tap_action:
                    action: none
                  hold_action:
                    action: none
                  double_tap_action:
                    action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.ladybug_charging
                    state: 'on'
                  - condition: state
                    entity: binary_sensor.ladybug_charge_cable
                    state: 'on'
                chip:
                  type: template
                  tap_action:
                    action: none
                  hold_action:
                    action: none
                  double_tap_action:
                    action: none
                  icon: mdi:flag-checkered
                  content: '{{ states(''sensor.ladybug_charging_time'') }}'
            alignment: justify
            card_mod:
              style: |
                ha-card {
                  --chip-border-width: 0;
                  --chip-box-shadow: none;
                  --chip-background: none;
                  margin: -10px 0px -10px;
                }
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'on'
                  - condition: or
                    conditions:
                      - condition: state
                        entity: sensor.johansen_status
                        state: awaiting_start
                      - condition: state
                        entity: sensor.johansen_status
                        state: ready_to_charge
                      - condition: state
                        entity: sensor.johansen_status
                        state: completed
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: |
                    [[[ 
                      return states['script.ladybug_start_manuel_opladning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:play';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_start_manuel_opladning'].state === 'on'
                        ? 'Afvent start...'
                        : 'Start opladning';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.ladybug_start_manuel_opladning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_start_manuel_opladning
                card_mod:
                  style: |
                    @keyframes blink {
                      0%, 100% { opacity: 1; }
                      50% { opacity: 0; }
                    }
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'on'
                  - condition: state
                    entity: sensor.johansen_status
                    state: charging
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: |
                    [[[ 
                      return states['script.ladybug_stop_manuel_opladning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:stop';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_stop_manuel_opladning'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Stop opladning';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.ladybug_stop_manuel_opladning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_stop_manuel_opladning
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: mdi:play
                  name: Start opladning
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: var(--box-shadow-off)
                      - background: var(--custom-button-infobox)
                      - height: 65px
                    icon:
                      - color: rgba(120, 120, 120, 1)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.ladybug_start_manuel_opladning'].state === 'on'
                              ? 'blink 2s ease infinite'
                              : 'none';
                          ]]]
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: rgba(120, 120, 120, 1)
                  tap_action:
                    action: none
                card_mod:
                  style: |
                    @keyframes blink {
                      0%, 100% { opacity: 1; }
                      50% { opacity: 0; }
                    }
              - type: custom:button-card
                icon: mdi:ev-plug-type2
                name: Opl. indstillinger
                show_icon: true
                show_name: true
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                    - height: 65px
                  icon:
                    - color: var(--icon-farve)
                    - height: 40px
                  name:
                    - color: var(--text-primary-color)
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/ladybug-opladning
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.ladybug_climate
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: |
                    [[[ 
                      return states['script.ladybug_start_klima'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:fan';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_start_klima'].state === 'on'
                        ? 'Afvent start...'
                        : 'Klima A/C';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.ladybug_start_klima'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        size: normal
                        dismissable: true
                        content:
                          square: false
                          type: grid
                          cards:
                            - type: picture
                              image: /local/tesla/ladybug_wall3.png
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none !important;
                                    margin-top: 20px;
                                  }
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: LADYBUG KLIMA
                            - type: custom:layout-card
                              layout_type: custom:grid-layout
                              layout:
                                grid-template-columns: 1fr 1fr 1fr
                                padding: 0px 0px
                                margin: '-4px'
                              cards:
                                - square: false
                                  type: grid
                                  cards:
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.ladybug_start_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Slukket
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.ladybug_start_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent start...
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.ladybug_stop_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Tændt
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_stop_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.ladybug_stop_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent stop
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_stop_klima
                                  columns: 1
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 70px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['sensor.ladybug_inside_temperature'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                  view_layout:
                                    grid-column: 2 / span 2
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: TEMPERATUR
                            - square: false
                              type: grid
                              cards:
                                - type: custom:button-card
                                  icon: mdi:minus
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-6)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.decrement
                                    target:
                                      entity_id: input_number.ladybug_klima_temp
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 30px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['input_number.ladybug_klima_temp'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                - type: custom:button-card
                                  icon: mdi:plus
                                  name: Add
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-1)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.increment
                                    target:
                                      entity_id: input_number.ladybug_klima_temp
                              columns: 3
                          columns: 1
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                      target: {}
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.ladybug_climate
                    state: heat_cool
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: |
                    [[[ 
                      return states['script.ladybug_stop_klima'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:fan';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_stop_klima'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Sluk';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.ladybug_stop_klima'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'rotating 2s linear infinite';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        size: normal
                        dismissable: true
                        content:
                          square: false
                          type: grid
                          cards:
                            - type: picture
                              image: /local/tesla/ladybug_wall3.png
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none !important;
                                    margin-top: 20px;
                                  }
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: LADYBUG KLIMA
                            - type: custom:layout-card
                              layout_type: custom:grid-layout
                              layout:
                                grid-template-columns: 1fr 1fr 1fr
                                padding: 0px 0px
                                margin: '-4px'
                              cards:
                                - square: false
                                  type: grid
                                  cards:
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.ladybug_start_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Slukket
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.ladybug_start_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent start...
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.ladybug_stop_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Tændt
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_stop_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.ladybug_stop_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent stop
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_stop_klima
                                  columns: 1
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 70px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['sensor.ladybug_inside_temperature'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                  view_layout:
                                    grid-column: 2 / span 2
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: TEMPERATUR
                            - square: false
                              type: grid
                              cards:
                                - type: custom:button-card
                                  icon: mdi:minus
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-6)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.decrement
                                    target:
                                      entity_id: input_number.ladybug_klima_temp
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 30px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['input_number.ladybug_klima_temp'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                - type: custom:button-card
                                  icon: mdi:plus
                                  name: Add
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-1)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.increment
                                    target:
                                      entity_id: input_number.ladybug_klima_temp
                              columns: 3
                          columns: 1
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                      target: {}
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_defrost_mode
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.ladybug_defrost_mode
                  icon: |
                    [[[ 
                      return states['script.ladybug_start_afrimning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:car-defrost-front';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_start_afrimning'].state === 'on'
                        ? 'Afvent start...'
                        : 'Afrim bil';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.ladybug_start_afrimning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_start_afrimning
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_defrost_mode
                    state: 'on'
                card:
                  type: custom:button-card
                  entity: switch.ladybug_defrost_mode
                  icon: |
                    [[[ 
                      return states['script.ladybug_stop_afrimning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:car-defrost-front';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_stop_afrimning'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Sluk';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.ladybug_stop_afrimning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_stop_afrimning
            columns: 4
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - box-shadow: none
                - background-color: transparent
                - margin-bottom: '-10px'
          - type: picture-elements
            elements:
              - type: image
                image: /local/tesla/milky_wall2_small.png?v=2
                style:
                  top: 50%
                  left: 50%
                  width: 100%
                  height: 100%
                  pointer-events: all
                  transform: translate(-50%, -50%)
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/biler
              - type: conditional
                conditions:
                  - condition: state
                    entity: script.milky_sync_charge_limit
                    state: 'off'
                elements:
                  - type: state-label
                    style:
                      left: 80%
                      top: 30%
                      font-size: 50px
                    entity: sensor.milky_battery_level
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: script.milky_sync_charge_limit
                    state: 'on'
                elements:
                  - type: state-label
                    style:
                      left: 80%
                      top: 30%
                      font-size: 50px
                      animation: smooth-blink 2s ease-in-out 2
                    entity: input_number.milky_charge_limit
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: state-label
                style:
                  left: 80%
                  top: 70%
                  font-size: 18px
                entity: sensor.milky_battery_range
                tap_action:
                  action: none
                hold_action:
                  action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'on'
                  - condition: state
                    entity: sensor.johansen_status
                    state: charging
                elements:
                  - type: state-label
                    style:
                      left: 80%
                      top: 93%
                      font-size: 14px
                      color: grey
                    entity: sensor.johansen_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: icon
                    style:
                      left: 62%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: rgb(102, 255, 51)
                    icon: mdi:lightning-bolt
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'on'
                elements:
                  - type: icon
                    style:
                      left: 56%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: rgb(102, 255, 51)
                    icon: mdi:leaf
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.milky
                    state: home
                elements:
                  - type: image
                    image: /local/icons/home_circle.png
                    style:
                      left: 48%
                      top: 15%
                      width: 5%
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.milky_charge_cable
                        state: 'on'
                      - condition: state
                        entity: switch.milky_smart_charging_ev_connected
                        state: 'off'
                elements:
                  - type: icon
                    style:
                      left: 56%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: grey
                    icon: mdi:connection
                    tap_action:
                      action: none
                    hold_action:
                      action: none
            image: /local/tesla/milky_wall2_small.png?v=2
            tap_action:
              action: call-service
              service: browser_mod.popup
              service_data:
                dismissable: true
                browser_id: e3859d0a4c72bc075212054772606ab9
                content:
                  type: map
                  entities:
                    - entity: person.milky
                  theme_mode: auto
                timeout: 30000
            card_mod:
              style: |
                ha-card {
                  background: none;
                }
                @keyframes smooth-blink {
                  0%, 100% {
                    opacity: 1;
                  }
                  50% {
                    opacity: 0;
                  }
                }
          - type: vertical-stack
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - position: absolute
                    - padding: 0
                    - margin-top: 5px
                    - margin-bottom: 5px
                    - height: 8px
                    - box-shadow: none
                    - border-radius: var(--border-radius-1)
                    - background: |
                        [[[
                          const battery = parseFloat(states['sensor.milky_battery_level'].state) || 0;
                          let barColor;

                          if (battery < 10) {
                            barColor = 'rgb(255, 51, 51)';
                          } else if (battery < 20) {
                            barColor = 'rgb(255, 153, 51)';
                          } else if (battery < 40) {
                            barColor = 'rgb(255, 255, 0)';
                          } else {
                            barColor = 'rgb(102, 255, 51)';
                          }

                          return `linear-gradient(
                            to right,
                            ${barColor} ${battery}%,
                            rgb(204, 204, 204) ${battery}%
                          )`;
                        ]]]
              - type: custom:my-slider-v2
                entity: input_number.milky_charge_limit
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 50
                max: 100
                step: 5
                styles:
                  container:
                    - border-radius: var(--border-radius-1)
                    - overflow: visible
                    - margin-top: '-7px'
                  card:
                    - height: 20px
                    - background: none
                  progress:
                    - background: none
                  thumb:
                    - width: 16px
                    - height: 16px
                    - background: >-
                        radial-gradient(circle, rgba(208,208,208,1) 0%,
                        rgba(153,153,153,1) 88%)
                    - border-radius: 20px
                  track:
                    - background: none
                    - box-shadow: none
                    - border: none
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                entity: person.milky
                content: >-
                  {% if is_state('sensor.milky_shift_state', 'd') or
                  is_state('sensor.milky_shift_state', 'r') %}

                  Kører...

                  {% elif is_state('device_tracker.milky_location', 'home') %}

                  Hjemme

                  {% elif is_state('device_tracker.milky_location', 'not_home')
                  %}

                  Ude

                  {% else %}

                  {{ states('device_tracker.milky_location') }}

                  {% endif %}
                icon: >-
                  {% if is_state('sensor.milky_shift_state', 'd') or
                  is_state('sensor.milky_shift_state', 'r') %} mdi:tire {% else
                  %} mdi:map-marker {% endif %}
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      content:
                        type: map
                        entities:
                          - entity: person.milky
                        theme_mode: auto
                      timeout: 30000
                      card_mod:
                        style:
                          ha-dialog$: |
                            div.mdc-dialog__container {
                              --vertical-align-dialog: center !important;
                            }
                          .: |
                            ha-dialog {
                              --dialog-backdrop-filter: blur(0.8em); 
                            }
                alignment: left
                card_mod:
                  style:
                    mushroom-template-chip:nth-child(1)$: |
                      ha-state-icon {
                        {{ 'animation: rotation 2s linear infinite;' if is_state('sensor.milky_shift_state', 'd') or is_state('sensor.milky_shift_state', 'r') }}
                      }
                      @keyframes rotation {
                        0% {
                          transform: rotate(0deg)
                        }
                        100% {
                          transform: rotate(360deg);
                        }
                      }
              - type: entity
                entity: sensor.milky_smart_charging_status_dk
                icon: mdi:leaf
                tap_action:
                  action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.milky_charging
                    state: 'off'
                chip:
                  type: entity
                  entity: sensor.milky_smart_charging_scheduled
                  tap_action:
                    action: none
                  hold_action:
                    action: none
                  double_tap_action:
                    action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.milky_charging
                    state: 'on'
                  - condition: state
                    entity: binary_sensor.milky_charge_cable
                    state: 'on'
                chip:
                  type: template
                  tap_action:
                    action: none
                  hold_action:
                    action: none
                  double_tap_action:
                    action: none
                  icon: mdi:flag-checkered
                  content: '{{ states(''sensor.milky_charging_time'') }}'
            alignment: justify
            card_mod:
              style: |
                ha-card {
                  --chip-border-width: 0;
                  --chip-box-shadow: none;
                  --chip-background: none;
                  margin: -10px 0px -10px;
                }
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'on'
                  - condition: or
                    conditions:
                      - condition: state
                        entity: sensor.johansen_status
                        state: awaiting_start
                      - condition: state
                        entity: sensor.johansen_status
                        state: ready_to_charge
                      - condition: state
                        entity: sensor.johansen_status
                        state: completed
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: |
                    [[[ 
                      return states['script.milky_start_manuel_opladning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:play';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_start_manuel_opladning'].state === 'on'
                        ? 'Afvent start...'
                        : 'Start opladning';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.milky_start_manuel_opladning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_start_manuel_opladning
                card_mod:
                  style: |
                    @keyframes blink {
                      0%, 100% { opacity: 1; }
                      50% { opacity: 0; }
                    }
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'on'
                  - condition: state
                    entity: sensor.johansen_status
                    state: charging
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: |
                    [[[ 
                      return states['script.milky_stop_manuel_opladning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:stop';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_stop_manuel_opladning'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Stop opladning';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.milky_stop_manuel_opladning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_stop_manuel_opladning
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: mdi:play
                  name: Start opladning
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: var(--box-shadow-off)
                      - background: var(--custom-button-infobox)
                      - height: 65px
                    icon:
                      - color: rgba(120, 120, 120, 1)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.milky_start_manuel_opladning'].state === 'on'
                              ? 'blink 2s ease infinite'
                              : 'none';
                          ]]]
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: rgba(120, 120, 120, 1)
                  tap_action:
                    action: none
                card_mod:
                  style: |
                    @keyframes blink {
                      0%, 100% { opacity: 1; }
                      50% { opacity: 0; }
                    }
              - type: custom:button-card
                icon: mdi:ev-plug-type2
                name: Opl. indstillinger
                show_icon: true
                show_name: true
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                    - height: 65px
                  icon:
                    - color: var(--icon-farve)
                    - height: 40px
                  name:
                    - color: var(--text-primary-color)
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/milky-opladning
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.milky_climate
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: |
                    [[[ 
                      return states['script.milky_start_klima'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:fan';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_start_klima'].state === 'on'
                        ? 'Afvent start...'
                        : 'Klima A/C';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.milky_start_klima'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        size: normal
                        dismissable: true
                        content:
                          square: false
                          type: grid
                          cards:
                            - type: picture
                              image: /local/tesla/milky_wall3.png
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none !important;
                                    margin-top: 20px;
                                  }
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: MILKY KLIMA
                            - type: custom:layout-card
                              layout_type: custom:grid-layout
                              layout:
                                grid-template-columns: 1fr 1fr 1fr
                                padding: 0px 0px
                                margin: '-4px'
                              cards:
                                - square: false
                                  type: grid
                                  cards:
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.milky_start_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Slukket
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.milky_start_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent start...
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.milky_stop_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Tændt
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_stop_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.milky_stop_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent stop
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_stop_klima
                                  columns: 1
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 70px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['sensor.milky_inside_temperature'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                  view_layout:
                                    grid-column: 2 / span 2
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: TEMPERATUR
                            - square: false
                              type: grid
                              cards:
                                - type: custom:button-card
                                  icon: mdi:minus
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-6)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.decrement
                                    target:
                                      entity_id: input_number.milky_klima_temp
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 30px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['input_number.milky_klima_temp'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                - type: custom:button-card
                                  icon: mdi:plus
                                  name: Add
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-1)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.increment
                                    target:
                                      entity_id: input_number.milky_klima_temp
                              columns: 3
                          columns: 1
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                      target: {}
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.milky_climate
                    state: heat_cool
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: |
                    [[[ 
                      return states['script.milky_stop_klima'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:fan';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_stop_klima'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Sluk';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 40px
                      - animation: |
                          [[[
                            return states['script.milky_stop_klima'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'rotating 2s linear infinite';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        size: normal
                        dismissable: true
                        content:
                          square: false
                          type: grid
                          cards:
                            - type: picture
                              image: /local/tesla/milky_wall3.png
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none !important;
                                    margin-top: 20px;
                                  }
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: MILKY KLIMA
                            - type: custom:layout-card
                              layout_type: custom:grid-layout
                              layout:
                                grid-template-columns: 1fr 1fr 1fr
                                padding: 0px 0px
                                margin: '-4px'
                              cards:
                                - square: false
                                  type: grid
                                  cards:
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.milky_start_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Slukket
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.milky_start_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent start...
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.milky_stop_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Tændt
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_stop_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.milky_stop_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent stop
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_stop_klima
                                  columns: 1
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 70px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['sensor.milky_inside_temperature'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                  view_layout:
                                    grid-column: 2 / span 2
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: TEMPERATUR
                            - square: false
                              type: grid
                              cards:
                                - type: custom:button-card
                                  icon: mdi:minus
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-6)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.decrement
                                    target:
                                      entity_id: input_number.milky_klima_temp
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 30px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['input_number.milky_klima_temp'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                - type: custom:button-card
                                  icon: mdi:plus
                                  name: Add
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-1)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.increment
                                    target:
                                      entity_id: input_number.milky_klima_temp
                              columns: 3
                          columns: 1
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                      target: {}
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_defrost_mode
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.milky_defrost_mode
                  icon: |
                    [[[ 
                      return states['script.milky_start_afrimning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:car-defrost-front';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_start_afrimning'].state === 'on'
                        ? 'Afvent start...'
                        : 'Afrim bil';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.milky_start_afrimning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_start_afrimning
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_defrost_mode
                    state: 'on'
                card:
                  type: custom:button-card
                  entity: switch.milky_defrost_mode
                  icon: |
                    [[[ 
                      return states['script.milky_stop_afrimning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:car-defrost-front';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_stop_afrimning'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Sluk';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 65px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.milky_stop_afrimning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_stop_afrimning
            columns: 4
        columns: 1
        title: BILER
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                icon: mdi:transmission-tower
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: |
                        [[[
                          if (states["sensor.watts_live_effekt"].state == '0.0') return 'var(--custom-button-gradient-4)';
                          if (states["sensor.watts_live_returneret_effekt"].state == '0.0') return 'var(--custom-button-infobox)';
                        ]]]
                    - height: 130px
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 7%
                    - color: |
                        [[[
                          if (states["sensor.watts_live_effekt"].state == '0.0') return 'var(--icon-farve)';
                          if (states["sensor.watts_live_returneret_effekt"].state == '0.0') return 'var(--icon-farve-2)';
                        ]]]
                  grid:
                    - position: absolute
                  custom_fields:
                    timepris:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 15px
                      - color: |
                          [[[
                            if (states["sensor.watts_live_effekt"].state == '0.0') return 'var(--icon-farve)';
                            if (states["sensor.watts_live_returneret_effekt"].state == '0.0') return 'var(--icon-farve-2)';
                          ]]]
                    idag:
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 40px
                      - color: |
                          [[[
                            if (states["sensor.watts_live_effekt"].state == '0.0') return 'var(--icon-farve)';
                            if (states["sensor.watts_live_returneret_effekt"].state == '0.0') return 'var(--icon-farve-2)';
                          ]]]
                    imorgen:
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 60px
                      - color: |
                          [[[
                            if (states["sensor.watts_live_effekt"].state == '0.0') return 'var(--icon-farve)';
                            if (states["sensor.watts_live_returneret_effekt"].state == '0.0') return 'var(--icon-farve-2)';
                          ]]]
                    power:
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 80px
                      - color: |
                          [[[
                            if (states["sensor.watts_live_effekt"].state == '0.0') return 'var(--icon-farve)';
                            if (states["sensor.watts_live_returneret_effekt"].state == '0.0') return 'var(--icon-farve-2)';
                          ]]]
                    total:
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 100px
                      - color: |
                          [[[
                            if (states["sensor.watts_live_effekt"].state == '0.0') return 'var(--icon-farve)';
                            if (states["sensor.watts_live_returneret_effekt"].state == '0.0') return 'var(--icon-farve-2)';
                          ]]]
                custom_fields:
                  timepris: |
                    [[[
                      var price = parseFloat(states['sensor.stromligning_pris_nu'].state).toFixed(2);
                      price = price.replace('.', ','); // Replace period with comma
                      return 'Timepris nu: &nbsp;&nbsp;' + price + ' kr.';
                    ]]]
                  idag: |
                    [[[
                      var sensor = states['sensor.stromligning_pris_nu'];
                      if (!sensor || !sensor.attributes || !sensor.attributes.lowest_today || sensor.attributes.lowest_today.length === 0) {
                        return 'I dag: &nbsp;&nbsp;Ingen data';
                      }

                      var entry = sensor.attributes.lowest_today[0];
                      var minPrice = parseFloat(entry.price).toFixed(2);
                      var minTime = new Date(entry.time).toLocaleTimeString('da-DK', { hour: '2-digit', minute: '2-digit' });

                      // Replace periods with commas
                      minPrice = minPrice.replace('.', ',');

                      return 'I dag: &nbsp;&nbsp;' + minPrice + ' kr. &nbsp;· &nbsp;&nbsp;kl. ' + minTime;
                    ]]]
                  imorgen: |
                    [[[
                      var sensor = states['sensor.stromligning_pris_nu'];
                      if (!sensor || !sensor.attributes || !sensor.attributes.lowest_tomorrow || sensor.attributes.lowest_tomorrow.length === 0) {
                        return 'I morgen: &nbsp;&nbsp;Ingen data';
                      }

                      var entry = sensor.attributes.lowest_tomorrow[0];
                      var minPrice = parseFloat(entry.price).toFixed(2);
                      var minTime = new Date(entry.time).toLocaleTimeString('da-DK', { hour: '2-digit', minute: '2-digit' });

                      minPrice = minPrice.replace('.', ',');

                      return 'I morgen: &nbsp;&nbsp;' + minPrice + ' kr. &nbsp;· &nbsp;&nbsp;kl. ' + minTime;
                    ]]]
                  power: |
                    [[[
                      var power;
                      var prefix;
                      if (states["sensor.watts_live_effekt"].state !== '0.0') {
                        power = parseFloat(states["sensor.watts_live_effekt"].state).toLocaleString('da-DK', { maximumFractionDigits: 0 });
                        prefix = 'Forbrug nu: &nbsp;&nbsp;';
                      } else if (states["sensor.watts_live_returneret_effekt"].state !== '0.0') {
                        power = parseFloat(states["sensor.watts_live_returneret_effekt"].state).toLocaleString('da-DK', { maximumFractionDigits: 0 });
                        prefix = 'Produktion nu: &nbsp;&nbsp;';
                      } else {
                        power = '0';
                        prefix = 'Forbrug nu: &nbsp;&nbsp;';
                      }
                      return prefix + power + ' W';
                    ]]]
                  total: |
                    [[[ 
                      const positive = states['sensor.watts_live_energiforbrug_kwh_daily_energy_cost']?.state || 0;
                      const negative = states['sensor.watts_live_returneret_energi_kwh_daily_energy_cost']?.state || 0;
                      const difference = (parseFloat(positive) - parseFloat(negative)).toFixed(2);
                      return 'Total i dag: &nbsp;&nbsp;' + difference.replace('.', ',') + ' kr.';
                    ]]]
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/strom
              - type: custom:button-card
                entity: light.alle_lys
                show_name: false
                show_state: false
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - height: 70px
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 7%
                    - color: |
                        [[[
                          if (states['light.alle_lys'].state === 'on') {
                            return 'var(--primary-color)';
                          }
                          return '';
                        ]]]
                  grid:
                    - position: absolute
                  custom_fields:
                    antal:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 15px
                    power:
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 40px
                custom_fields:
                  antal: >
                    [[[ return 'Tændte lys: &nbsp;&nbsp;'+
                    states['sensor.all_lights_on'].state + ' af ' +
                    states['sensor.all_lights'].state; ]]]
                  power: |
                    [[[
                      var power = parseFloat(states['sensor.alle_lys_power'].state).toFixed(1);
                      power = power.replace('.', ','); // Replace period with comma
                      return 'Forbrug nu: &nbsp;&nbsp;' + power + ' W';
                    ]]]
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/lys
              - type: custom:button-card
                entity: climate.udespa
                show_name: false
                show_state: false
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: |
                        [[[
                          if (states['sensor.climate_udespa_custom'].state === 'Varmer') {
                            return 'var(--custom-button-gradient-1)';
                          }
                          return 'var(--custom-button-infobox)';
                        ]]]
                    - height: 90px
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 7%
                    - color: |
                        [[[
                          if (states['sensor.climate_udespa_custom'].state === 'Varmer') {
                            return 'var(--icon-farve)';
                          }
                          return 'var(--icon-farve-2)';
                        ]]]
                  grid:
                    - position: absolute
                  custom_fields:
                    temperature:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 15px
                      - color: |
                          [[[
                            if (states['sensor.climate_udespa_custom'].state === 'Varmer') {
                              return 'var(--icon-farve)';
                            }
                            return 'var(--icon-farve-2)';
                          ]]]
                    target:
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 40px
                      - color: |
                          [[[
                            if (states['sensor.climate_udespa_custom'].state === 'Varmer') {
                              return 'var(--icon-farve)';
                            }
                            return 'var(--icon-farve-2)';
                          ]]]
                    vand:
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 60px
                      - color: |
                          [[[
                            if (states['sensor.climate_udespa_custom'].state === 'Varmer') {
                              return 'var(--icon-farve)';
                            }
                            return 'var(--icon-farve-2)';
                          ]]]
                custom_fields:
                  temperature: |
                    [[[
                      if (states['climate.udespa'].attributes.current_temperature === null) {
                        return 'Nuværende: ' + '°C';
                      } else {
                        return 'Nuværende: &nbsp;&nbsp;' + states['climate.udespa'].attributes.current_temperature + ' °C';
                      }
                    ]]]
                  target: |
                    [[[
                      return 'Mål: &nbsp;&nbsp;' + states['climate.udespa'].attributes.temperature + ' °C';
                    ]]]
                  vand: |
                    [[[
                      let ph = states['sensor.udespa_ph_korrigeret'].state;
                      let orp = states['sensor.udespa_oxydo_reduction_potential'].state;
                      let tds = states['sensor.udespa_tds'].state;
                      
                      let status = (ph < 7.2 || ph > 7.7 || orp < 550 || orp > 800 || tds > 1500) ? 'Kontroller' : 'Ok';
                      
                      return 'Vand: &nbsp;&nbsp;' + status;
                    ]]]
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/udespa
              - type: custom:button-card
                show_name: false
                show_state: false
                icon: mdi:trash-can-outline
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: |
                        [[[
                          if (states['sensor.affalddk_baermosehojen_71_naeste_afhentning'].state === '0') {
                            return 'var(--custom-button-gradient-4)';
                          }
                          return 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 7%
                    - color: |
                        [[[
                          if (states['sensor.affalddk_baermosehojen_71_naeste_afhentning'].state === '0') {
                            return 'var(--icon-farve)';
                          }
                          return 'var(--icon-farve-2)';
                        ]]]
                  grid:
                    - position: absolute
                  custom_fields:
                    dato:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 15px
                      - color: |
                          [[[
                            if (states['sensor.affalddk_baermosehojen_71_naeste_afhentning'].state === '0') {
                              return 'var(--icon-farve)';
                            }
                            return 'var(--icon-farve-2)';
                          ]]]
                    emne:
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 40px
                      - color: |
                          [[[
                            if (states['sensor.affalddk_baermosehojen_71_naeste_afhentning'].state === '0') {
                              return 'var(--icon-farve)';
                            }
                            return 'var(--icon-farve-2)';
                          ]]]
                custom_fields:
                  dato: |
                    [[[
                      const rawDate = states['sensor.affalddk_baermosehojen_71_naeste_afhentning'].attributes.date;
                      if (!rawDate) return 'Næste tømning: &nbsp;Ingen dato'; // Fallback for missing date

                      // Parse the date and get today's date for comparison
                      const date = new Date(rawDate);
                      const today = new Date();
                      today.setHours(0, 0, 0, 0); // Reset time to midnight for accurate comparison
                      date.setHours(0, 0, 0, 0);

                      // Calculate the difference in days
                      const diffTime = date.getTime() - today.getTime();
                      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // Convert to days

                      // Determine the output text based on the difference
                      let text;
                      if (diffDays === 0) {
                        text = 'I dag';
                      } else if (diffDays === 1) {
                        text = 'I morgen';
                      } else if (diffDays > 1) {
                        text = `${diffDays} dage`;
                      } else {
                        text = 'Dato er overskredet'; // Optional handling for past dates
                      }

                      return 'Næste tømning: &nbsp;&nbsp;' + text;
                    ]]]
                  emne: |
                    [[[  
                      const description = states['sensor.affalddk_baermosehojen_71_naeste_afhentning'].attributes.description;
                      if (!description) return 'Ingen data'; // Fallback if no description
                      
                      const parts = description.split(' | ');
                      const uniqueParts = [...new Set(parts)]; // Remove duplicates

                      const formatted = uniqueParts.length > 1
                        ? uniqueParts.slice(0, -1).join(', ') + ' og ' + uniqueParts.slice(-1)
                        : uniqueParts[0];

                      return formatted;
                    ]]]
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/affald
            columns: 1
        columns: 1
        title: INFO CENTER
        view_layout:
          column: 1
      - square: false
        type: grid
        columns: 4
        title: FAMILIE
        cards:
          - type: custom:mushroom-person-card
            entity: person.thomas_molbaek_johansen
            layout: vertical
            icon_type: entity-picture
            primary_info: none
            secondary_info: none
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  dismissable: true
                  content:
                    type: map
                    entities:
                      - entity: person.thomas_molbaek_johansen
                    theme_mode: auto
                  timeout: 30000
                  card_mod:
                    style:
                      ha-dialog$: |
                        div.mdc-dialog__container {
                          --vertical-align-dialog: center !important;
                        }
                      .: |
                        ha-dialog {
                          --dialog-backdrop-filter: blur(0.8em); 
                        }
              target: {}
            card_mod:
              style: |
                ha-card {
                  --icon-size: 70px;
                  --badge-size: 25px;
                  box-shadow: none;
                  background: transparent;
                  margin-bottom: -10px;
                  margin-top: -10px;
                }
          - type: custom:mushroom-person-card
            entity: person.rikke_kroer_johansen
            layout: vertical
            icon_type: entity-picture
            primary_info: none
            secondary_info: none
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  dismissable: true
                  content:
                    type: map
                    entities:
                      - entity: person.rikke_kroer_johansen
                    theme_mode: auto
                  timeout: 30000
                  card_mod:
                    style:
                      ha-dialog$: |
                        div.mdc-dialog__container {
                          --vertical-align-dialog: center !important;
                        }
                      .: |
                        ha-dialog {
                          --dialog-backdrop-filter: blur(0.8em); 
                        }
              target: {}
            card_mod:
              style: |
                ha-card {
                  --icon-size: 70px;
                  --badge-size: 25px;
                  box-shadow: none;
                  background: transparent;
                  margin-bottom: -10px;
                  margin-top: -10px;
                }
          - type: custom:mushroom-person-card
            entity: person.christine_kroer_molbaek_johansen
            layout: vertical
            icon_type: entity-picture
            primary_info: none
            secondary_info: none
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  dismissable: true
                  content:
                    type: map
                    entities:
                      - entity: person.christine_kroer_molbaek_johansen
                    theme_mode: auto
                  timeout: 30000
                  card_mod:
                    style:
                      ha-dialog$: |
                        div.mdc-dialog__container {
                          --vertical-align-dialog: center !important;
                        }
                      .: |
                        ha-dialog {
                          --dialog-backdrop-filter: blur(0.8em); 
                        }
              target: {}
            card_mod:
              style: |
                ha-card {
                  --icon-size: 70px;
                  --badge-size: 25px;
                  box-shadow: none;
                  background: transparent;
                  margin-bottom: -10px;
                  margin-top: -10px;
                }
          - type: custom:mushroom-person-card
            entity: person.julian_kroer_molbaek_johansen
            layout: vertical
            icon_type: entity-picture
            primary_info: none
            secondary_info: none
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  dismissable: true
                  content:
                    type: map
                    entities:
                      - entity: person.julian_kroer_molbaek_johansen
                    theme_mode: auto
                  timeout: 30000
                  card_mod:
                    style:
                      ha-dialog$: |
                        div.mdc-dialog__container {
                          --vertical-align-dialog: center !important;
                        }
                      .: |
                        ha-dialog {
                          --dialog-backdrop-filter: blur(0.8em); 
                        }
              target: {}
            card_mod:
              style: |
                ha-card {
                  --icon-size: 70px;
                  --badge-size: 25px;
                  box-shadow: none;
                  background: transparent;
                  margin-bottom: -10px;
                  margin-top: -10px;
                }
        view_layout:
          column: 3
      - square: false
        type: grid
        cards:
          - entities:
              - calendar.rikke_kalender_kalender
              - calendar.thomas_kalender_calendar
            days_to_show: 2
            background_color: var(--custom-button-infobox)
            max_height: 460px
            show_week_numbers: iso
            day_separator_width: 1px
            show_location: false
            weather:
              position: date
              date:
                show_conditions: true
                show_high_temp: true
                show_low_temp: false
                icon_size: 14px
                font_size: 12px
                color: var(--primary-text-color)
              event:
                show_conditions: true
                show_temp: true
                icon_size: 14px
                font_size: 12px
                color: var(--primary-text-color)
            type: custom:calendar-card-pro
            card_mod:
              style: |
                ha-card {
                  box-shadow: var(--box-shadow-off);
                  border-radius: var(--border-radius-1)
                }
        columns: 1
        title: KALENDER
        view_layout:
          column: 3
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/hjem
  - type: custom:vertical-layout
    path: biler
    layout:
      max_cols: 2
      max_width: 580
      width: 630
      height: null
    title: Biler
    icon: mdi:car
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 61px
                - box-shadow: none
                - background-color: transparent
          - type: picture-elements
            elements:
              - type: image
                image: /local/tesla/milky_wall2.png
                style:
                  top: 50%
                  left: 50%
                  width: 100%
                  height: 100%
                  pointer-events: all
                  transform: translate(-50%, -50%)
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      content:
                        type: map
                        entities:
                          - entity: person.milky
                        theme_mode: auto
                      timeout: 30000
                      card_mod:
                        style:
                          ha-dialog$: |
                            div.mdc-dialog__container {
                              --vertical-align-dialog: center !important;
                            }
                          .: |
                            ha-dialog {
                              --dialog-backdrop-filter: blur(0.8em); 
                            }
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: script.milky_sync_charge_limit
                        state: 'off'
                      - condition: state
                        entity: input_select.ev_battery_soc_range
                        state: Percent
                elements:
                  - type: state-label
                    style:
                      left: 0%
                      top: 10%
                      font-size: 60px
                      transform: none
                    entity: sensor.milky_battery_level
                    tap_action:
                      action: perform-action
                      perform_action: input_select.select_next
                      target:
                        entity_id: input_select.ev_battery_soc_range
                      data:
                        cycle: true
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: script.milky_sync_charge_limit
                        state: 'off'
                      - condition: state
                        entity: input_select.ev_battery_soc_range
                        state: Range
                elements:
                  - type: state-label
                    style:
                      left: 0%
                      top: 10%
                      font-size: 50px
                      transform: none
                    entity: sensor.milky_battery_range
                    tap_action:
                      action: perform-action
                      perform_action: input_select.select_next
                      target:
                        entity_id: input_select.ev_battery_soc_range
                      data:
                        cycle: true
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: script.milky_sync_charge_limit
                    state: 'on'
                elements:
                  - type: state-label
                    style:
                      left: 0%
                      top: 10%
                      font-size: 60px
                      transform: none
                      animation: smooth-blink 2s ease-in-out 2
                    entity: input_number.milky_charge_limit
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'on'
                  - condition: state
                    entity: sensor.johansen_status
                    state: charging
                elements:
                  - type: state-label
                    style:
                      left: 6%
                      top: 60%
                      font-size: 16px
                      transform: none
                    entity: sensor.johansen_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: state-label
                    style:
                      left: 6%
                      top: 75%
                      font-size: 16px
                      transform: none
                    entity: sensor.elbil_opladning_fra_solceller
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: icon
                    style:
                      left: 3%
                      top: 65%
                      '--mdc-icon-size': 18px
                      transform: none
                    icon: mdi:lightning-bolt
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: icon
                    style:
                      left: 3%
                      top: 80%
                      color: yellow
                      '--mdc-icon-size': 18px
                      transform: none
                    icon: mdi:white-balance-sunny
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: icon
                    style:
                      left: 37%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: rgb(102, 255, 51)
                    icon: mdi:lightning-bolt
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'on'
                elements:
                  - type: icon
                    style:
                      left: 42%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: rgb(102, 255, 51)
                    icon: mdi:leaf
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.milky
                    state: home
                elements:
                  - type: image
                    image: /local/icons/home_circle.png
                    style:
                      left: 50%
                      top: 15%
                      width: 5%
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.milky_charge_cable
                        state: 'on'
                      - condition: state
                        entity: switch.milky_smart_charging_ev_connected
                        state: 'off'
                elements:
                  - type: icon
                    style:
                      left: 35%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: grey
                    icon: mdi:connection
                    tap_action:
                      action: none
                    hold_action:
                      action: none
            image: /local/tesla/milky_wall2.png
            card_mod:
              style: |
                ha-card {
                  background: none;
                }
                @keyframes smooth-blink {
                  0%, 100% {
                    opacity: 1;
                  }
                  50% {
                    opacity: 0;
                  }
                }
          - type: vertical-stack
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - position: absolute
                    - padding: 0
                    - margin-top: 5px
                    - margin-bottom: 5px
                    - height: 8px
                    - box-shadow: none
                    - border-radius: var(--border-radius-1)
                    - background: |
                        [[[
                          const battery = parseFloat(states['sensor.milky_battery_level'].state) || 0;
                          let barColor;

                          if (battery < 10) {
                            barColor = 'rgb(255, 51, 51)';
                          } else if (battery < 20) {
                            barColor = 'rgb(255, 153, 51)';
                          } else if (battery < 40) {
                            barColor = 'rgb(255, 255, 0)';
                          } else {
                            barColor = 'rgb(102, 255, 51)';
                          }

                          return `linear-gradient(
                            to right,
                            ${barColor} ${battery}%,
                            rgb(204, 204, 204) ${battery}%
                          )`;
                        ]]]
              - type: custom:my-slider-v2
                entity: input_number.milky_charge_limit
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 50
                max: 100
                step: 5
                styles:
                  container:
                    - border-radius: var(--border-radius-1)
                    - overflow: visible
                    - margin-top: '-7px'
                  card:
                    - height: 20px
                    - background: none
                  progress:
                    - background: none
                  thumb:
                    - width: 16px
                    - height: 16px
                    - background: >-
                        radial-gradient(circle, rgba(208,208,208,1) 0%,
                        rgba(153,153,153,1) 88%)
                    - border-radius: 20px
                  track:
                    - background: none
                    - box-shadow: none
                    - border: none
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: lock.milky_lock
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: person.milky
                    content: >-
                      {% if is_state('sensor.milky_shift_state', 'd') or
                      is_state('sensor.milky_shift_state', 'r') %}

                      Kører...

                      {% elif is_state('device_tracker.milky_location', 'home')
                      %}

                      Hjemme

                      {% elif is_state('device_tracker.milky_location',
                      'not_home') %}

                      Ude

                      {% else %}

                      {{ states('device_tracker.milky_location') }}

                      {% endif %}
                    icon: >-
                      {% if is_state('sensor.milky_shift_state', 'd') or
                      is_state('sensor.milky_shift_state', 'r') %} mdi:tire {%
                      else %} mdi:map-marker {% endif %}
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        data:
                          dismissable: true
                          content:
                            type: map
                            entities:
                              - entity: person.milky
                            theme_mode: auto
                          timeout: 30000
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                card_mod:
                  style:
                    mushroom-template-chip:nth-child(1)$: |
                      ha-state-icon {
                        {{ 'animation: rotation 2s linear infinite;' if is_state('sensor.milky_shift_state', 'd') or is_state('sensor.milky_shift_state', 'r') }}
                      }
                      @keyframes rotation {
                        0% {
                          transform: rotate(0deg)
                        }
                        100% {
                          transform: rotate(360deg);
                        }
                      }
                    style: |
                      ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin: -10px 0px 0px;
                      }
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.milky_odometer
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.milky_inside_temperature
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
            columns: 4
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.milky_charger_custom
                    icon: mdi:connection
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: number.milky_charge_limit
                    icon: mdi:arrow-up-down-bold
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.milky_charging
                    state: 'on'
                  - condition: state
                    entity: binary_sensor.milky_charge_cable
                    state: 'on'
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.milky_charging_time'') }}'
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.milky_charging
                    state: 'off'
                  - condition: state
                    entity: binary_sensor.milky_charge_cable
                    state: 'on'
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.milky_charging_time'') }}'
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                        --primary-text-color: grey;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.milky_charging
                    state: 'off'
                  - condition: state
                    entity: binary_sensor.milky_charge_cable
                    state: 'off'
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.milky_charging_time'') }}'
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                        --primary-text-color: grey;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: sensor.milky_time_to_arrival
                    state: unavailable
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.milky_arrival_time'') }}'
                  alignment: left
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                        --primary-text-color: grey;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: sensor.milky_time_to_arrival
                    state_not: unavailable
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.milky_arrival_time'') }}'
                  alignment: left
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                      }
            columns: 4
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'on'
                  - condition: or
                    conditions:
                      - condition: state
                        entity: sensor.johansen_status
                        state: awaiting_start
                      - condition: state
                        entity: sensor.johansen_status
                        state: ready_to_charge
                      - condition: state
                        entity: sensor.johansen_status
                        state: completed
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: |
                    [[[ 
                      return states['script.milky_start_manuel_opladning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:play';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_start_manuel_opladning'].state === 'on'
                        ? 'Afvent start...'
                        : 'Start opladning';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.milky_start_manuel_opladning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_start_manuel_opladning
                card_mod:
                  style: |
                    @keyframes blink {
                      0%, 100% { opacity: 1; }
                      50% { opacity: 0; }
                    }
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'on'
                  - condition: state
                    entity: sensor.johansen_status
                    state: charging
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: |
                    [[[ 
                      return states['script.milky_stop_manuel_opladning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:stop';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_stop_manuel_opladning'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Stop opladning';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.milky_stop_manuel_opladning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_stop_manuel_opladning
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: mdi:play
                  name: Start opladning
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-infobox)
                      - height: 90px
                    icon:
                      - color: rgba(120, 120, 120, 1)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.milky_start_manuel_opladning'].state === 'on'
                              ? 'blink 2s ease infinite'
                              : 'none';
                          ]]]
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: rgba(120, 120, 120, 1)
                  tap_action:
                    action: none
                card_mod:
                  style: |
                    @keyframes blink {
                      0%, 100% { opacity: 1; }
                      50% { opacity: 0; }
                    }
              - type: custom:button-card
                icon: mdi:ev-plug-type2
                name: Opl. indstillinger
                show_icon: true
                show_name: true
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                    - height: 90px
                  icon:
                    - color: var(--icon-farve)
                    - height: 50px
                  name:
                    - color: var(--text-primary-color)
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/milky-opladning
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.milky_climate
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: mdi:fan
                  name: Klima A/C
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        size: normal
                        dismissable: true
                        content:
                          square: false
                          type: grid
                          cards:
                            - type: picture
                              image: /local/tesla/milky_wall.png
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none !important;
                                    margin-top: 20px;
                                  }
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: MILKY KLIMA
                            - type: custom:layout-card
                              layout_type: custom:grid-layout
                              layout:
                                grid-template-columns: 1fr 1fr 1fr
                                padding: 0px 0px
                                margin: '-4px'
                              cards:
                                - square: false
                                  type: grid
                                  cards:
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.milky_start_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Slukket
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.milky_start_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent start...
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.milky_stop_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Tændt
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_stop_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.milky_stop_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent stop
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_stop_klima
                                  columns: 1
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 70px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['sensor.milky_inside_temperature'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                  view_layout:
                                    grid-column: 2 / span 2
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: TEMPERATUR
                            - square: false
                              type: grid
                              cards:
                                - type: custom:button-card
                                  icon: mdi:minus
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-6)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.decrement
                                    target:
                                      entity_id: input_number.milky_klima_temp
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 30px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['input_number.milky_klima_temp'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                - type: custom:button-card
                                  icon: mdi:plus
                                  name: Add
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-1)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.increment
                                    target:
                                      entity_id: input_number.milky_klima_temp
                              columns: 3
                          columns: 1
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                      target: {}
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.milky_climate
                    state: heat_cool
                card:
                  type: custom:button-card
                  entity: switch.milky_charging
                  icon: mdi:fan
                  name: Klima A/C
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation:
                          - rotating 2s linear infinite
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        size: normal
                        dismissable: true
                        content:
                          square: false
                          type: grid
                          cards:
                            - type: picture
                              image: /local/tesla/milky_wall.png
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none !important;
                                    margin-top: 20px;
                                  }
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: MILKY KLIMA
                            - type: custom:layout-card
                              layout_type: custom:grid-layout
                              layout:
                                grid-template-columns: 1fr 1fr 1fr
                                padding: 0px 0px
                                margin: '-4px'
                              cards:
                                - square: false
                                  type: grid
                                  cards:
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.milky_start_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Slukket
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.milky_start_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent start...
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.milky_stop_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Tændt
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_stop_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.milky_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.milky_stop_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent stop
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.milky_stop_klima
                                  columns: 1
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 70px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['sensor.milky_inside_temperature'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                  view_layout:
                                    grid-column: 2 / span 2
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: TEMPERATUR
                            - square: false
                              type: grid
                              cards:
                                - type: custom:button-card
                                  icon: mdi:minus
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-6)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.decrement
                                    target:
                                      entity_id: input_number.milky_klima_temp
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 30px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['input_number.milky_klima_temp'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                - type: custom:button-card
                                  icon: mdi:plus
                                  name: Add
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-1)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.increment
                                    target:
                                      entity_id: input_number.milky_klima_temp
                              columns: 3
                          columns: 1
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                      target: {}
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_defrost_mode
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.milky_defrost_mode
                  icon: |
                    [[[ 
                      return states['script.milky_start_afrimning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:car-defrost-front';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_start_afrimning'].state === 'on'
                        ? 'Afvent start...'
                        : 'Afrim bil';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.milky_start_afrimning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_start_afrimning
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_defrost_mode
                    state: 'on'
                card:
                  type: custom:button-card
                  entity: switch.milky_defrost_mode
                  icon: |
                    [[[ 
                      return states['script.milky_stop_afrimning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:car-defrost-front';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.milky_stop_afrimning'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Sluk';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.milky_stop_afrimning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_stop_afrimning
            columns: 4
          - type: custom:mushroom-title-card
            title: ''
            subtitle: SMART CHARGING
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:leaf
            styles:
              card:
                - padding: px
                - border-radius: var(--border-radius-1)
                - box-shadow: var(--box-shadow-off)
                - background: var(--custom-button-infobox)
                - height: 150px
              icon:
                - width: 65px
                - height: 65px
                - color: |
                    [[[ 
                      return states['switch.milky_smart_charging_ev_connected']?.state === 'on' ? 'rgb(102, 255, 51)' : 'var(--icon-primary-color)'; 
                    ]]]
                - left: 7%
              grid:
                - position: absolute
              custom_fields:
                pris:
                  - position: absolute
                  - justify-self: center
                  - left: 140px
                smart:
                  - font-size: 16px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 15px
                tid:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 40px
                timeomkostning:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 60px
                dagomkostning:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 80px
                maanedomkostning:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 100px
                aaromkostning:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 120px
            custom_fields:
              pris: |
                [[[ 
                  // Only return formatted output if the switch is "on"
                  if (states['switch.milky_smart_charging_ev_connected']?.state !== 'on') {
                    return '';
                  }
                  
                  const sensorValue = parseFloat(states['sensor.stromligning_pris_nu']?.state);
                  if (isNaN(sensorValue)) {
                    return 'Ukendt';
                  }
                  
                  // Format sensor value to two decimals and replace the decimal point with a comma
                  const valueFormatted = sensorValue.toFixed(2).replace('.', ',');
                  
                  // Define spacing between the two lines (adjust as needed)
                  const spacing = '0px';
                  
                  // Each line is in its own div to allow individual styling and spacing
                  const stateLine = `<div style="font-size: 36px; font-weight: normal; margin-bottom: ${spacing};">${valueFormatted}</div>`;
                  const unitLine = `<div style="font-size: 14px; font-weight: normal;">kr/kWh</div>`;
                  
                  // Return the complete HTML
                  return stateLine + unitLine;
                ]]]
              smart: |
                [[[ 
                  const state = states['sensor.milky_smart_charging_status_dk']?.state || 'Ukendt';
                  return 'Status: &nbsp;&nbsp;' + state;
                ]]]
              tid: |
                [[[ 
                  const state = states['sensor.milky_smart_charging_scheduled']?.state || 'Ukendt';
                  return 'Start tid: &nbsp;&nbsp;' + state;
                ]]]
              timeomkostning: |
                [[[ 
                  const state = parseFloat(states['sensor.milky_home_charging_real_time_energy_cost']?.state || 0).toFixed(2).replace('.', ',');
                  return 'Realtime pris: &nbsp;&nbsp;' + state + ' kr. / time';
                ]]]
              dagomkostning: |
                [[[ 
                  const state = parseFloat(states['sensor.milky_home_charging_daily_energy_cost']?.state || 0).toFixed(2).replace('.', ',');
                  return 'Omkostninger: &nbsp;&nbsp;' + state + ' kr. / dag';
                ]]]
              maanedomkostning: |
                [[[ 
                  const state = parseFloat(states['sensor.milky_home_charging_monthly_energy_cost']?.state || 0).toFixed(2).replace('.', ',');
                  return state + ' kr. / md';
                ]]]
              aaromkostning: |
                [[[ 
                  const state = parseFloat(states['sensor.milky_home_charging_yearly_energy_cost']?.state || 0).toFixed(2).replace('.', ',');
                  return state + ' kr. / år';
                ]]]
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: picture-elements
            elements:
              - type: image
                image: /local/tesla/ladybug_wall2.png
                style:
                  top: 50%
                  left: 50%
                  width: 100%
                  height: 100%
                  pointer-events: all
                  transform: translate(-50%, -50%)
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      dismissable: true
                      content:
                        type: map
                        entities:
                          - entity: person.ladybug
                        theme_mode: auto
                      timeout: 30000
                      card_mod:
                        style:
                          ha-dialog$: |
                            div.mdc-dialog__container {
                              --vertical-align-dialog: center !important;
                            }
                          .: |
                            ha-dialog {
                              --dialog-backdrop-filter: blur(0.8em); 
                            }
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: script.ladybug_sync_charge_limit
                        state: 'off'
                      - condition: state
                        entity: input_select.ev_battery_soc_range
                        state: Percent
                elements:
                  - type: state-label
                    style:
                      right: 0%
                      top: 10%
                      font-size: 60px
                      transform: none
                    entity: sensor.ladybug_battery_level
                    tap_action:
                      action: perform-action
                      perform_action: input_select.select_next
                      target:
                        entity_id: input_select.ev_battery_soc_range
                      data:
                        cycle: true
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: script.ladybug_sync_charge_limit
                        state: 'off'
                      - condition: state
                        entity: input_select.ev_battery_soc_range
                        state: Range
                elements:
                  - type: state-label
                    style:
                      right: 0%
                      top: 10%
                      font-size: 50px
                      transform: none
                    entity: sensor.ladybug_battery_range
                    tap_action:
                      action: perform-action
                      perform_action: input_select.select_next
                      target:
                        entity_id: input_select.ev_battery_soc_range
                      data:
                        cycle: true
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: script.ladybug_sync_charge_limit
                    state: 'on'
                elements:
                  - type: state-label
                    style:
                      right: 0%
                      top: 10%
                      font-size: 60px
                      transform: none
                      animation: smooth-blink 2s ease-in-out 2
                    entity: input_number.ladybug_charge_limit
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'on'
                  - condition: state
                    entity: sensor.johansen_status
                    state: charging
                elements:
                  - type: state-label
                    style:
                      right: 6%
                      top: 60%
                      font-size: 16px
                      transform: none
                    entity: sensor.johansen_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: state-label
                    style:
                      right: 6%
                      top: 75%
                      font-size: 16px
                      transform: none
                    entity: sensor.elbil_opladning_fra_solceller
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: icon
                    style:
                      right: 3%
                      top: 65%
                      '--mdc-icon-size': 18px
                      transform: none
                    icon: mdi:lightning-bolt
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: icon
                    style:
                      right: 3%
                      top: 80%
                      color: yellow
                      '--mdc-icon-size': 18px
                      transform: none
                    icon: mdi:white-balance-sunny
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                  - type: icon
                    style:
                      right: 30%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: rgb(102, 255, 51)
                    icon: mdi:lightning-bolt
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'on'
                elements:
                  - type: icon
                    style:
                      right: 35%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: rgb(102, 255, 51)
                    icon: mdi:leaf
                    tap_action:
                      action: none
                    hold_action:
                      action: none
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.ladybug
                    state: home
                elements:
                  - type: image
                    image: /local/icons/home_circle.png
                    style:
                      right: 43%
                      top: 15%
                      width: 5%
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.ladybug_charge_cable
                        state: 'on'
                      - condition: state
                        entity: switch.ladybug_smart_charging_ev_connected
                        state: 'off'
                elements:
                  - type: icon
                    style:
                      right: 35%
                      top: 15%
                      '--mdc-icon-size': 30px
                      color: grey
                    icon: mdi:connection
                    tap_action:
                      action: none
                    hold_action:
                      action: none
            image: /local/tesla/ladybug_wall2.png
            card_mod:
              style: |
                ha-card {
                  background: none;
                }
                @keyframes smooth-blink {
                  0%, 100% {
                    opacity: 1;
                  }
                  50% {
                    opacity: 0;
                  }
                }
          - type: vertical-stack
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - position: absolute
                    - padding: 0
                    - margin-top: 5px
                    - margin-bottom: 5px
                    - height: 8px
                    - box-shadow: none
                    - border-radius: var(--border-radius-1)
                    - background: |
                        [[[
                          const battery = parseFloat(states['sensor.ladybug_battery_level'].state) || 0;
                          let barColor;

                          if (battery < 10) {
                            barColor = 'rgb(255, 51, 51)';
                          } else if (battery < 20) {
                            barColor = 'rgb(255, 153, 51)';
                          } else if (battery < 40) {
                            barColor = 'rgb(255, 255, 0)';
                          } else {
                            barColor = 'rgb(102, 255, 51)';
                          }

                          return `linear-gradient(
                            to right,
                            ${barColor} ${battery}%,
                            rgb(204, 204, 204) ${battery}%
                          )`;
                        ]]]
              - type: custom:my-slider-v2
                entity: input_number.ladybug_charge_limit
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 50
                max: 100
                step: 5
                styles:
                  container:
                    - border-radius: var(--border-radius-1)
                    - overflow: visible
                    - margin-top: '-7px'
                  card:
                    - height: 20px
                    - background: none
                  progress:
                    - background: none
                  thumb:
                    - width: 16px
                    - height: 16px
                    - background: >-
                        radial-gradient(circle, rgba(208,208,208,1) 0%,
                        rgba(153,153,153,1) 88%)
                    - border-radius: 20px
                  track:
                    - background: none
                    - box-shadow: none
                    - border: none
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: lock.ladybug_lock
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: person.ladybug
                    content: >-
                      {% if is_state('sensor.ladybug_shift_state', 'd') or
                      is_state('sensor.ladybug_shift_state', 'r') %}

                      Kører...

                      {% elif is_state('device_tracker.ladybug_location',
                      'home') %}

                      Hjemme

                      {% elif is_state('device_tracker.ladybug_location',
                      'not_home') %}

                      Ude

                      {% else %}

                      {{ states('device_tracker.ladybug_location') }}

                      {% endif %}
                    icon: >-
                      {% if is_state('sensor.ladybug_shift_state', 'd') or
                      is_state('sensor.ladybug_shift_state', 'r') %} mdi:tire {%
                      else %} mdi:map-marker {% endif %}
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        data:
                          dismissable: true
                          content:
                            type: map
                            entities:
                              - entity: person.ladybug
                            theme_mode: auto
                          timeout: 30000
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                card_mod:
                  style:
                    mushroom-template-chip:nth-child(1)$: |
                      ha-state-icon {
                        {{ 'animation: rotation 2s linear infinite;' if is_state('sensor.ladybug_shift_state', 'd') or is_state('sensor.ladybug_shift_state', 'r') }}
                      }
                      @keyframes rotation {
                        0% {
                          transform: rotate(0deg)
                        }
                        100% {
                          transform: rotate(360deg);
                        }
                      }
                    style: |
                      ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin: -10px 0px 0px;
                      }
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.ladybug_odometer
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.ladybug_inside_temperature
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
            columns: 4
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.ladybug_charger_custom
                    icon: mdi:connection
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: number.ladybug_charge_limit
                    icon: mdi:arrow-up-down-bold
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin: -10px 0px 0px;
                        }
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.ladybug_charging
                    state: 'on'
                  - condition: state
                    entity: binary_sensor.ladybug_charge_cable
                    state: 'on'
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.ladybug_charging_time'') }}'
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.ladybug_charging
                    state: 'off'
                  - condition: state
                    entity: binary_sensor.ladybug_charge_cable
                    state: 'on'
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.ladybug_charging_time'') }}'
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                        --primary-text-color: grey;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.ladybug_charging
                    state: 'off'
                  - condition: state
                    entity: binary_sensor.ladybug_charge_cable
                    state: 'off'
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.ladybug_charging_time'') }}'
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                        --primary-text-color: grey;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: sensor.ladybug_time_to_arrival
                    state: unavailable
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.ladybug_arrival_time'') }}'
                  alignment: left
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                        --primary-text-color: grey;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: sensor.ladybug_time_to_arrival
                    state_not: unavailable
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: template
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      icon: mdi:clock-outline
                      content: '{{ states(''sensor.ladybug_arrival_time'') }}'
                  alignment: left
                  card_mod:
                    style: |
                      ha-card {
                        --chip-border-width: 0;
                        --chip-box-shadow: none;
                        --chip-background: none;
                        margin: -10px 0px 5px;
                      }
            columns: 4
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'on'
                  - condition: or
                    conditions:
                      - condition: state
                        entity: sensor.johansen_status
                        state: awaiting_start
                      - condition: state
                        entity: sensor.johansen_status
                        state: ready_to_charge
                      - condition: state
                        entity: sensor.johansen_status
                        state: completed
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: |
                    [[[ 
                      return states['script.ladybug_start_manuel_opladning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:play';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_start_manuel_opladning'].state === 'on'
                        ? 'Afvent start...'
                        : 'Start opladning';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.ladybug_start_manuel_opladning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_start_manuel_opladning
                card_mod:
                  style: |
                    @keyframes blink {
                      0%, 100% { opacity: 1; }
                      50% { opacity: 0; }
                    }
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'on'
                  - condition: state
                    entity: sensor.johansen_status
                    state: charging
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: |
                    [[[ 
                      return states['script.ladybug_stop_manuel_opladning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:stop';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_stop_manuel_opladning'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Stop opladning';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.ladybug_stop_manuel_opladning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_stop_manuel_opladning
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: mdi:play
                  name: Start opladning
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-infobox)
                      - height: 90px
                    icon:
                      - color: rgba(120, 120, 120, 1)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.ladybug_start_manuel_opladning'].state === 'on'
                              ? 'blink 2s ease infinite'
                              : 'none';
                          ]]]
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: rgba(120, 120, 120, 1)
                  tap_action:
                    action: none
                card_mod:
                  style: |
                    @keyframes blink {
                      0%, 100% { opacity: 1; }
                      50% { opacity: 0; }
                    }
              - type: custom:button-card
                icon: mdi:ev-plug-type2
                name: Opl. indstillinger
                show_icon: true
                show_name: true
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                    - height: 90px
                  icon:
                    - color: var(--icon-farve)
                    - height: 50px
                  name:
                    - color: var(--text-primary-color)
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/ladybug-opladning
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.ladybug_climate
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: mdi:fan
                  name: Klima A/C
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        size: normal
                        dismissable: true
                        content:
                          square: false
                          type: grid
                          cards:
                            - type: picture
                              image: /local/tesla/ladybug_wall3.png
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none !important;
                                    margin-top: 20px;
                                  }
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: LADYBUG KLIMA
                            - type: custom:layout-card
                              layout_type: custom:grid-layout
                              layout:
                                grid-template-columns: 1fr 1fr 1fr
                                padding: 0px 0px
                                margin: '-4px'
                              cards:
                                - square: false
                                  type: grid
                                  cards:
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.ladybug_start_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Slukket
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.ladybug_start_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent start...
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.ladybug_stop_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Tændt
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_stop_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.ladybug_stop_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent stop
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_stop_klima
                                  columns: 1
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 70px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['sensor.ladybug_inside_temperature'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                  view_layout:
                                    grid-column: 2 / span 2
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: TEMPERATUR
                            - square: false
                              type: grid
                              cards:
                                - type: custom:button-card
                                  icon: mdi:minus
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-6)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.decrement
                                    target:
                                      entity_id: input_number.ladybug_klima_temp
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 30px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['input_number.ladybug_klima_temp'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                - type: custom:button-card
                                  icon: mdi:plus
                                  name: Add
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-1)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.increment
                                    target:
                                      entity_id: input_number.ladybug_klima_temp
                              columns: 3
                          columns: 1
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                      target: {}
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.ladybug_climate
                    state: heat_cool
                card:
                  type: custom:button-card
                  entity: switch.ladybug_charging
                  icon: mdi:fan
                  name: Klima A/C
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation:
                          - rotating 2s linear infinite
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        size: normal
                        dismissable: true
                        content:
                          square: false
                          type: grid
                          cards:
                            - type: picture
                              image: /local/tesla/ladybug_wall3.png
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none !important;
                                    margin-top: 20px;
                                  }
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: LADYBUG KLIMA
                            - type: custom:layout-card
                              layout_type: custom:grid-layout
                              layout:
                                grid-template-columns: 1fr 1fr 1fr
                                padding: 0px 0px
                                margin: '-4px'
                              cards:
                                - square: false
                                  type: grid
                                  cards:
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.ladybug_start_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Slukket
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: 'off'
                                        - condition: state
                                          entity: script.ladybug_start_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent start...
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: null
                                          icon:
                                            - color: var(--icon-farve-2)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_start_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.ladybug_stop_klima
                                          state: 'off'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:power
                                        show_icon: true
                                        show_name: true
                                        name: Tændt
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_stop_klima
                                    - type: conditional
                                      conditions:
                                        - condition: state
                                          entity: climate.ladybug_climate
                                          state: heat_cool
                                        - condition: state
                                          entity: script.ladybug_stop_klima
                                          state: 'on'
                                      card:
                                        type: custom:button-card
                                        icon: mdi:loading
                                        show_icon: true
                                        show_name: true
                                        name: Afvent stop
                                        styles:
                                          card:
                                            - height: 90px
                                            - border-radius: var(--border-radius-1)
                                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                            - background: var(--custom-button-gradient-4)
                                          icon:
                                            - color: var(--icon-farve)
                                            - animation: rotating 1s linear infinite
                                            - height: 50px
                                          name:
                                            - font-size: 10px
                                            - text-align: center
                                        tap_action:
                                          action: call-service
                                          service: script.ladybug_stop_klima
                                  columns: 1
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 70px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['sensor.ladybug_inside_temperature'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                  view_layout:
                                    grid-column: 2 / span 2
                            - type: custom:mushroom-title-card
                              title: ''
                              alignment: start
                              title_tap_action:
                                action: none
                              subtitle_tap_action:
                                action: none
                              subtitle: TEMPERATUR
                            - square: false
                              type: grid
                              cards:
                                - type: custom:button-card
                                  icon: mdi:minus
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-6)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.decrement
                                    target:
                                      entity_id: input_number.ladybug_klima_temp
                                - type: custom:button-card
                                  show_icon: false
                                  show_name: false
                                  show_state: false
                                  styles:
                                    card:
                                      - background: none
                                      - border-radius: var(--border-radius-1)
                                      - height: 90px
                                    grid:
                                      - position: absolute
                                    custom_fields:
                                      temp:
                                        - font-size: 30px
                                        - position: absolute
                                        - top: 50%
                                        - left: 50%
                                        - transform: translate(-50%, -50%)
                                  custom_fields:
                                    temp: >
                                      [[[ return
                                      states['input_number.ladybug_klima_temp'].state
                                      + '°C'; ]]]
                                  tap_action:
                                    action: none
                                - type: custom:button-card
                                  icon: mdi:plus
                                  name: Add
                                  show_icon: true
                                  show_name: false
                                  styles:
                                    card:
                                      - height: 90px
                                      - border-radius: var(--border-radius-1)
                                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                      - background: var(--custom-button-gradient-1)
                                    icon:
                                      - color: var(--icon-farve)
                                      - height: 50px
                                    name:
                                      - font-size: 10px
                                      - text-align: center
                                  tap_action:
                                    action: call-service
                                    service: input_number.increment
                                    target:
                                      entity_id: input_number.ladybug_klima_temp
                              columns: 3
                          columns: 1
                        timeout: 30000
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                      target: {}
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_defrost_mode
                    state: 'off'
                card:
                  type: custom:button-card
                  entity: switch.ladybug_defrost_mode
                  icon: |
                    [[[ 
                      return states['script.ladybug_start_afrimning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:car-defrost-front';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_start_afrimning'].state === 'on'
                        ? 'Afvent start...'
                        : 'Afrim bil';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-1)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.ladybug_start_afrimning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_start_afrimning
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_defrost_mode
                    state: 'on'
                card:
                  type: custom:button-card
                  entity: switch.ladybug_defrost_mode
                  icon: |
                    [[[ 
                      return states['script.ladybug_stop_afrimning'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:car-defrost-front';
                    ]]]
                  name: |
                    [[[ 
                      return states['script.ladybug_stop_afrimning'].state === 'on'
                        ? 'Afvent stop...'
                        : 'Sluk';
                    ]]]
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-2)
                      - height: 90px
                    icon:
                      - color: var(--icon-farve)
                      - height: 50px
                      - animation: |
                          [[[
                            return states['script.ladybug_stop_afrimning'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - color: var(--text-primary-color)
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_stop_afrimning
            columns: 4
          - type: custom:mushroom-title-card
            title: ''
            subtitle: SMART CHARGING
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:leaf
            styles:
              card:
                - padding: px
                - border-radius: var(--border-radius-1)
                - box-shadow: var(--box-shadow-off)
                - background: var(--custom-button-infobox)
                - height: 150px
              icon:
                - width: 65px
                - height: 65px
                - color: |
                    [[[ 
                      return states['switch.ladybug_smart_charging_ev_connected']?.state === 'on' ? 'rgb(102, 255, 51)' : 'var(--icon-primary-color)'; 
                    ]]]
                - left: 7%
              grid:
                - position: absolute
              custom_fields:
                pris:
                  - position: absolute
                  - justify-self: center
                  - left: 140px
                smart:
                  - font-size: 16px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 15px
                tid:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 40px
                timeomkostning:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 60px
                dagomkostning:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 80px
                maanedomkostning:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 100px
                aaromkostning:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 120px
            custom_fields:
              pris: |
                [[[ 
                  // Only return formatted output if the switch is "on"
                  if (states['switch.ladybug_smart_charging_ev_connected']?.state !== 'on') {
                    return '';
                  }
                  
                  const sensorValue = parseFloat(states['sensor.stromligning_pris_nu']?.state);
                  if (isNaN(sensorValue)) {
                    return 'Ukendt';
                  }
                  
                  // Format sensor value to two decimals and replace the decimal point with a comma
                  const valueFormatted = sensorValue.toFixed(2).replace('.', ',');
                  
                  // Define spacing between the two lines (adjust as needed)
                  const spacing = '0px';
                  
                  // Each line is in its own div to allow individual styling and spacing
                  const stateLine = `<div style="font-size: 36px; font-weight: normal; margin-bottom: ${spacing};">${valueFormatted}</div>`;
                  const unitLine = `<div style="font-size: 14px; font-weight: normal;">kr/kWh</div>`;
                  
                  // Return the complete HTML
                  return stateLine + unitLine;
                ]]]
              smart: |
                [[[ 
                  const state = states['sensor.ladybug_smart_charging_status_dk']?.state || 'Ukendt';
                  return 'Status: &nbsp;&nbsp;' + state;
                ]]]
              tid: |
                [[[ 
                  const state = states['sensor.ladybug_smart_charging_scheduled']?.state || 'Ukendt';
                  return 'Start tid: &nbsp;&nbsp;' + state;
                ]]]
              timeomkostning: |
                [[[ 
                  const state = parseFloat(states['sensor.ladybug_home_charging_real_time_energy_cost']?.state || 0).toFixed(2).replace('.', ',');
                  return 'Realtime pris: &nbsp;&nbsp;' + state + ' kr. / time';
                ]]]
              dagomkostning: |
                [[[ 
                  const state = parseFloat(states['sensor.ladybug_home_charging_daily_energy_cost']?.state || 0).toFixed(2).replace('.', ',');
                  return 'Omkostninger: &nbsp;&nbsp;' + state + ' kr. / dag';
                ]]]
              maanedomkostning: |
                [[[ 
                  const state = parseFloat(states['sensor.ladybug_home_charging_monthly_energy_cost']?.state || 0).toFixed(2).replace('.', ',');
                  return state + ' kr. / md';
                ]]]
              aaromkostning: |
                [[[ 
                  const state = parseFloat(states['sensor.ladybug_home_charging_yearly_energy_cost']?.state || 0).toFixed(2).replace('.', ',');
                  return state + ' kr. / år';
                ]]]
        columns: 1
        title: BILER
        view_layout:
          column: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/biler
  - type: custom:vertical-layout
    path: ladybug-opladning
    icon: mdi:ev-plug-type2
    title: LadyBug Opladning
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: OPLADNINGS GRÆNSE
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                icon: mdi:minus
                show_icon: true
                show_name: false
                size: 40%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.decrement
                  target:
                    entity_id: input_number.ladybug_charge_limit
              - type: custom:mushroom-title-card
                title: |
                  {{ states('input_number.ladybug_charge_limit') | int }}%
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --title-font-size: 36px;    /* Title font size */
                      --subtitle-font-size: 16px; /* Subtitle font size */
                    }
              - type: custom:button-card
                icon: mdi:plus
                name: Add
                show_icon: true
                show_name: false
                size: 40%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.increment
                  target:
                    entity_id: input_number.ladybug_charge_limit
            columns: 3
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: AMPERE
            card_mod:
              style: |
                ha-card {
                  margin-top: 8px;  # Adjust the value to your desired spacing
                }
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                icon: mdi:minus
                show_icon: true
                show_name: false
                size: 40%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.decrement
                  target:
                    entity_id: input_number.ladybug_charging_amps
              - type: custom:mushroom-title-card
                title: '{{ states(''input_number.ladybug_charging_amps'') | int }} A'
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --title-font-size: 36px;    /* Title font size */
                      --subtitle-font-size: 16px; /* Subtitle font size */
                    }
              - type: custom:button-card
                icon: mdi:plus
                name: Add
                show_icon: true
                show_name: false
                size: 40%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.increment
                  target:
                    entity_id: input_number.ladybug_charging_amps
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: START TIDLIGST
                card_mod:
                  style: |
                    ha-card {
                      margin-top: 8px;
                      margin-right: -50px;
                    }
              - type: custom:button-card
                icon: mdi:restore
                show_name: false
                styles:
                  card:
                    - margin-top: 20px
                    - margin-left: 90px
                    - background: none
                    - width: 50px
                  icon:
                    - height: 40px
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.ladybug_smart_charging_charge_start_time
                  data:
                    option: None
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: SLUT SENEST
                card_mod:
                  style: |
                    ha-card {
                      margin-top: 8px;
                      margin-right: -50px;
                    }
              - type: custom:button-card
                icon: mdi:restore
                show_name: false
                styles:
                  card:
                    - margin-top: 20px
                    - margin-left: 90px
                    - background: none
                    - width: 50px
                  icon:
                    - height: 40px
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.ladybug_smart_charging_charge_completion_time
                  data:
                    option: None
            columns: 4
          - square: false
            type: grid
            cards:
              - type: custom:custom-features-card
                features:
                  - type: custom:service-call
                    entries:
                      - type: dropdown
                        entity_id: select.ladybug_smart_charging_charge_start_time
                        options:
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: None
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: None
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                            label: Auto
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '00:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '00:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '00:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '00:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '01:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '01:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '01:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '01:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '02:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '02:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '02:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '02:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '03:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '03:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '03:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '03:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '04:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '04:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '04:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '04:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '05:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '05:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '05:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '05:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '06:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '06:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '06:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '06:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '07:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '07:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '07:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '07:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '08:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '08:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '08:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '08:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '09:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '09:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '09:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '09:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '10:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '10:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '10:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '10:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '11:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '11:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '11:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '11:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '12:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '12:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '12:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '12:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '13:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '13:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '13:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '13:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '14:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '14:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '14:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '14:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '15:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '15:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '15:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '15:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '16:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '16:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '16:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '16:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '17:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '17:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '17:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '17:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '18:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '18:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '18:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '18:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '19:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '19:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '19:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '19:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '20:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '20:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '20:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '20:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '21:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '21:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '21:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '21:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '22:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '22:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '22:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '22:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '23:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '23:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '23:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                          - entity_id: select.ladybug_smart_charging_charge_start_time
                            option: '23:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_start_time
                        styles: >-
                          :host {
                            height: 70px;
                            font-size: 36px;
                            --color: none;
                            --md-ripple-hover-color: none;
                            --md-ripple-pressed-color: none;
                            --mdc-menu-item-height: 50px;
                            --mdc-list-side-padding-right: 100px;
                            --mdc-list-side-padding-left: 20px;
                          }

                          .label {
                            justify-content: center;
                          }

                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "00:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "00:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "00:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "00:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "01:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "01:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "01:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "01:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "02:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "02:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "02:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "02:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "03:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "03:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "03:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "03:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "04:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "04:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "04:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "04:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "05:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "05:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "05:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "05:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "06:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "06:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "06:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "06:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "07:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "07:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "07:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "07:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "08:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "08:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "08:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_start_time
                            option: "08:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_start_time
                        haptics: true
                card_mod:
                  style: |
                    ha-card {
                      background: var(--custom-button-gradient-1);
                      box-shadow: var(--box-shadow-off);
                      border-radius: var(--border-radius-1);
                    }
              - type: custom:custom-features-card
                features:
                  - type: custom:service-call
                    entries:
                      - type: dropdown
                        entity_id: select.ladybug_smart_charging_charge_completion_time
                        options:
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: None
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: None
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                            label: Auto
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '00:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '00:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '00:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '00:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '01:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '01:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '01:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '01:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '02:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '02:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '02:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '02:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '03:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '03:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '03:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '03:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '04:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '04:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '04:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '04:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '05:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '05:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '05:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '05:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '06:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '06:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '06:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '06:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '07:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '07:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '07:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '07:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '08:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '08:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '08:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '08:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '09:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '09:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '09:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '09:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '10:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '10:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '10:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '10:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '11:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '11:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '11:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '11:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '12:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '12:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '12:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '12:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '13:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '13:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '13:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '13:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '14:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '14:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '14:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '14:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '15:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '15:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '15:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '15:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '16:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '16:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '16:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '16:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '17:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '17:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '17:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '17:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '18:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '18:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '18:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '18:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '19:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '19:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '19:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '19:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '20:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '20:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '20:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '20:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '21:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '21:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '21:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '21:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '22:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '22:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '22:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '22:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '23:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:00'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '23:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:15'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '23:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:30'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                          - entity_id: >-
                              select.ladybug_smart_charging_charge_completion_time
                            option: '23:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:45'
                              target:
                                entity_id: >-
                                  select.ladybug_smart_charging_charge_completion_time
                        styles: >-
                          :host {
                            height: 70px;
                            font-size: 36px;
                            --color: none;
                            --md-ripple-hover-color: none;
                            --md-ripple-pressed-color: none;
                            --mdc-menu-item-height: 50px;
                            --mdc-list-side-padding-right: 100px;
                            --mdc-list-side-padding-left: 20px;
                          }

                          .label {
                            justify-content: center;
                          }

                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "00:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "00:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "00:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "00:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "01:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "01:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "01:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "01:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "02:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "02:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "02:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "02:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "03:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "03:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "03:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "03:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "04:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "04:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "04:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "04:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "05:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "05:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "05:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "05:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "06:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "06:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "06:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "06:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "07:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "07:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "07:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "07:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "08:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:00"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "08:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:15"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "08:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:30"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                          - entity_id:
                          select.ladybug_smart_charging_charge_completion_time
                            option: "08:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:45"
                              target:
                                entity_id: select.ladybug_smart_charging_charge_completion_time
                        haptics: true
                card_mod:
                  style: |
                    ha-card {
                      background: var(--custom-button-gradient-1);
                      box-shadow: var(--box-shadow-off);
                      border-radius: var(--border-radius-1);
                    }
            columns: 2
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: INDSTILLINGER
            card_mod:
              style: |
                ha-card {
                  margin-top: 8px;  # Adjust the value to your desired spacing
                }
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_smart_charging_activated
                    state: 'on'
                card:
                  type: custom:button-card
                  icon: mdi:leaf
                  name: Smart Charging
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-4)
                    icon:
                      - color: var(--icon-farve)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: var(--text-primary-color)
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    target:
                      entity_id: switch.ladybug_smart_charging_smart_charging_activated
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_smart_charging_activated
                    state: 'off'
                card:
                  type: custom:button-card
                  icon: mdi:leaf
                  name: Smart Charging
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background-color: none
                    icon:
                      - color: var(--icon-farve-2)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    target:
                      entity_id: switch.ladybug_smart_charging_smart_charging_activated
                  data:
                    cycle: true
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'on'
                card:
                  type: custom:button-card
                  icon: mdi:connection
                  name: Forbundet
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-4)
                    icon:
                      - color: var(--icon-farve)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: var(--text-primary-color)
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    target:
                      entity_id: switch.ladybug_smart_charging_ev_connected
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_ev_connected
                    state: 'off'
                card:
                  type: custom:button-card
                  icon: mdi:connection
                  name: Forbundet
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background-color: none
                    icon:
                      - color: var(--icon-farve-2)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    target:
                      entity_id: switch.ladybug_smart_charging_ev_connected
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_keep_charger_on
                    state: 'on'
                card:
                  type: custom:button-card
                  icon: mdi:lightning-bolt
                  name: Holder lader tændt
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-4)
                    icon:
                      - color: var(--icon-farve)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: var(--text-primary-color)
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    target:
                      entity_id: switch.ladybug_smart_charging_keep_charger_on
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.ladybug_smart_charging_keep_charger_on
                    state: 'off'
                card:
                  type: custom:button-card
                  icon: mdi:lightning-bolt
                  name: Holder ikke lader tændt
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background-color: none
                    icon:
                      - color: var(--icon-farve-2)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    target:
                      entity_id: switch.ladybug_smart_charging_keep_charger_on
            columns: 3
        columns: 1
        title: LADYBUG INDSTILLINGER
        view_layout:
          column: 1
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - height: 63px
                    - box-shadow: none
                    - background-color: transparent
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - height: 64px
                    - box-shadow: none
                    - background-color: transparent
              - type: custom:button-card
                icon: mdi:car
                show_icon: true
                show_name: false
                styles:
                  card:
                    - padding: 10px
                    - height: 64px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-5)
                  icon:
                    - color: white
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/biler
                card_mod:
                  style: |
                    ha-card {
                      margin-top: 20px;
                    }
              - type: custom:button-card
                icon: mdi:home
                show_icon: true
                show_name: false
                styles:
                  card:
                    - padding: 10px
                    - height: 64px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-5)
                  icon:
                    - color: white
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/hjem
                card_mod:
                  style: |
                    ha-card {
                      margin-top: 20px;
                    }
            columns: 4
          - type: custom:mushroom-title-card
            title: ''
            subtitle: SMART OPLADNING OVERBLIK
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            card_mod:
              style: |
                ha-card {
                  margin-top: -20px;
                }
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Pris nu
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-top: -15px;
                      margin-bottom: -15px;
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Start pris
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      margin-top: -15px;
                      margin-bottom: -15px;
                    }
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Start tid
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      margin-top: -15px;
                      margin-bottom: -15px;
                    }
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.stromligning_pris_nu
                  attribute: null
                  prefix: kr.
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                    - margin-bottom: '-2px'
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(2)).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>`;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                triggers_update:
                  - switch.ladybug_smart_charging_ev_connected
                  - switch.ladybug_smart_charging_smart_charging_activated
                  - sensor.ladybug_smart_charging_charging
                variables:
                  prefix: kr.
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                    - margin-bottom: '-2px'
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[
                      const evOn = hass.states['switch.ladybug_smart_charging_ev_connected']?.state === 'on';
                      const scOn = hass.states['switch.ladybug_smart_charging_smart_charging_activated']?.state === 'on';

                      // If either switch is off → show grey dash
                      if (!evOn || !scOn) {
                        return `
                          <span style="font-size: ${variables.value_size}; font-weight: normal; color: rgba(102, 102, 102, 0.3);">–</span>
                        `;
                      }

                      // Read from ladybug sensor
                      const attrs = hass.states['sensor.ladybug_smart_charging_charging']?.attributes || {};
                      const startIso = attrs.charging_start_time;
                      const slots = attrs.raw_two_days;

                      if (!startIso || !Array.isArray(slots)) {
                        return `
                          <span style="font-size: ${variables.value_size}; font-weight: normal; color: rgba(102, 102, 102, 0.3);">–</span>
                        `;
                      }

                      // Find price matching charging_start_time
                      const target = new Date(startIso).getTime();
                      const match = slots.find(slot => {
                        if (!slot?.start || !slot?.end) return false;
                        const a = new Date(slot.start).getTime();
                        const b = new Date(slot.end).getTime();
                        return target >= a && target < b;
                      });

                      if (!match || typeof match.value !== 'number') {
                        return `
                          <span style="font-size: ${variables.value_size}; font-weight: normal; color: rgba(102, 102, 102, 0.3);">–</span>
                        `;
                      }

                      // Format and return price
                      const price = match.value.toFixed(2).replace('.', ',');
                      return `
                        <span style="font-size: ${variables.value_size}; font-weight: normal;">${price}</span>
                        <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>
                      `;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                triggers_update:
                  - switch.ladybug_smart_charging_ev_connected
                  - switch.ladybug_smart_charging_smart_charging_activated
                  - sensor.ladybug_smart_charging_charging
                styles:
                  card:
                    - height: 50px
                    - background: none
                    - margin-bottom: '-2px'
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                      - font-size: 50px
                custom_fields:
                  tilstand: |
                    [[[
                      const evOn = hass.states['switch.ladybug_smart_charging_ev_connected']?.state === 'on';
                      const scOn = hass.states['switch.ladybug_smart_charging_smart_charging_activated']?.state === 'on';

                      // If either switch is off → grey dash
                      if (!evOn || !scOn) {
                        return `<span style="color: rgba(102, 102, 102, 0.3);">–</span>`;
                      }

                      const attr = hass.states['sensor.ladybug_smart_charging_charging']?.attributes?.charging_start_time;
                      if (!attr) {
                        return `<span style="color: rgba(102, 102, 102, 0.3);">–</span>`;
                      }

                      // Parse and format as HH:MM (always with a colon)
                      const d = new Date(attr);
                      const hh = d.getHours().toString().padStart(2, '0');
                      const mm = d.getMinutes().toString().padStart(2, '0');
                      return `${hh}:${mm}`;
                    ]]]
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
              - type: custom:button-card
                entity: sensor.stromligning_pris_nu
                show_state: false
                show_icon: false
                show_label: false
                name: |
                  [[[
                    const evOn = hass.states['switch.ladybug_smart_charging_ev_connected']?.state === 'on';
                    const scOn = hass.states['switch.ladybug_smart_charging_smart_charging_activated']?.state === 'on';
                    if (!evOn || !scOn) return '';

                    const nowPrice = Number(hass.states['sensor.stromligning_pris_nu']?.state);
                    const attrs = hass.states['sensor.ladybug_smart_charging_charging']?.attributes || {};
                    const startIso = attrs.charging_start_time;
                    const slots = attrs.raw_two_days;

                    if (!isFinite(nowPrice) || nowPrice <= 0 || !startIso || !Array.isArray(slots)) return '';

                    const target = new Date(startIso).getTime();
                    const match = slots.find(s => s?.start && s?.end &&
                      target >= new Date(s.start).getTime() && target < new Date(s.end).getTime());

                    if (!match || typeof match.value !== 'number') return '';

                    const pct = ((match.value - nowPrice) / nowPrice) * 100;
                    const formatted = pct.toFixed(1).replace('.', ','); // e.g. -23,2
                    return `${formatted}%`;
                  ]]]
                styles:
                  card:
                    - background: none
                    - height: 10px
                    - margin-bottom: 10px
                  name:
                    - font-size: 16px
                    - color: |
                        [[[
                          const nowPrice = Number(hass.states['sensor.stromligning_pris_nu']?.state);
                          const attrs = hass.states['sensor.ladybug_smart_charging_charging']?.attributes || {};
                          const startIso = attrs.charging_start_time;
                          const slots = attrs.raw_two_days;

                          if (!isFinite(nowPrice) || nowPrice <= 0 || !startIso || !Array.isArray(slots)) {
                            return 'rgba(102, 102, 102, 0.6)';
                          }

                          const target = new Date(startIso).getTime();
                          const match = slots.find(s => s?.start && s?.end &&
                            target >= new Date(s.start).getTime() && target < new Date(s.end).getTime());

                          if (!match || typeof match.value !== 'number') {
                            return 'rgba(102, 102, 102, 0.6)';
                          }

                          const pct = ((match.value - nowPrice) / nowPrice) * 100;
                          return pct < 0 ? 'green' : 'red';
                        ]]]
              - type: custom:mushroom-title-card
            columns: 3
          - type: conditional
            conditions:
              - condition: state
                entity: switch.ladybug_smart_charging_ev_connected
                state: 'on'
            card:
              type: vertical-stack
              cards:
                - type: custom:apexcharts-card
                  now:
                    show: true
                    label: Nu
                    color: var(--icon-farve)
                  locale: en
                  header:
                    show: true
                    show_states: false
                  graph_span: 2d
                  yaxis:
                    - min: ~0
                      apex_config:
                        forceNiceScale: true
                  span:
                    start: day
                  apex_config:
                    legend:
                      show: false
                    plotOptions:
                      bar:
                        columnWidth: 10%
                    xaxis:
                      labels:
                        show: true
                        format: HH
                        rotate: -45
                        rotateAlways: true
                        hideOverlappingLabels: true
                        style:
                          fontSize: 10
                          fontWeight: 10
                  series:
                    - entity: sensor.ladybug_smart_charging_charging
                      name: El pris
                      unit: ' DKK/kWh'
                      data_generator: >
                        return entity.attributes.raw_two_days.filter((entry,
                        index) => index % 4 === 0)
                          .map((entry) => [new Date(entry.start), entry.value]);
                      type: line
                      float_precision: 2
                      show:
                        in_header: before_now
                      extend_to: false
                      color_threshold:
                        - value: -0.01
                          color: cyan
                        - value: 0
                          color: green
                        - value: 1.2
                          color: orange
                        - value: 2
                          color: red
                        - value: 3
                          color: black
                    - entity: sensor.ladybug_smart_charging_charging
                      name: Charging
                      data_generator: >
                        return entity.attributes.charging_schedule.map((entry)
                        => { return [new Date(entry.start), entry.value]; });
                      type: area
                      curve: stepline
                      color: rgb(102, 255, 255)
                      show:
                        in_header: false
                      extend_to: false
                  experimental:
                    color_threshold: true
                  card_mod:
                    style: |
                      ha-card {
                        border-radius: var(--border-radius-1);
                        background: var(--custom-button-infobox);
                        box-shadow: var(--box-shadow-off);
                      }
          - type: conditional
            conditions:
              - condition: state
                entity: switch.ladybug_smart_charging_ev_connected
                state: 'off'
            card:
              type: vertical-stack
              cards:
                - type: custom:apexcharts-card
                  now:
                    show: true
                    label: Nu
                    color: var(--icon-farve)
                  locale: en
                  header:
                    show: true
                    show_states: false
                    title: ''
                  graph_span: 2d
                  yaxis:
                    - min: ~0
                      apex_config:
                        forceNiceScale: true
                  span:
                    start: day
                  apex_config:
                    legend:
                      show: false
                    plotOptions:
                      bar:
                        columnWidth: 10%
                    xaxis:
                      labels:
                        show: true
                        format: HH
                        rotate: -45
                        rotateAlways: true
                        hideOverlappingLabels: true
                        style:
                          fontSize: 10
                          fontWeight: 10
                  series:
                    - entity: sensor.ladybug_smart_charging_charging
                      name: El pris
                      unit: ' DKK/kWh'
                      data_generator: >
                        return entity.attributes.raw_two_days.filter((entry,
                        index) => index % 4 === 0)
                          .map((entry) => [new Date(entry.start), entry.value]);
                      type: line
                      float_precision: 2
                      show:
                        in_header: before_now
                      extend_to: false
                      color_threshold:
                        - value: -0.01
                          color: cyan
                        - value: 0
                          color: green
                        - value: 1.2
                          color: orange
                        - value: 2
                          color: red
                        - value: 3
                          color: black
                  experimental:
                    color_threshold: true
                  card_mod:
                    style: |
                      ha-card {
                        border-radius: var(--border-radius-1);
                        background: var(--custom-button-infobox);
                        box-shadow: var(--box-shadow-off);
                      }
        columns: 1
        card_mod:
          style: |
            .card-header {
              visibility: hidden; /* Hides the grid title while keeping the space */
            }
        view_layout:
          column: 2
    layout:
      max_cols: 2
      max_width: 590
      width: 630
      height: null
  - title: Milky Opladning
    path: milky-opladning
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - height: 63px
                    - box-shadow: none
                    - background-color: transparent
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - height: 64px
                    - box-shadow: none
                    - background-color: transparent
              - type: custom:button-card
                icon: mdi:car
                show_icon: true
                show_name: false
                styles:
                  card:
                    - padding: 10px
                    - height: 64px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-5)
                  icon:
                    - color: white
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/biler
                card_mod:
                  style: |
                    ha-card {
                      margin-top: 20px;
                    }
              - type: custom:button-card
                icon: mdi:home
                show_icon: true
                show_name: false
                styles:
                  card:
                    - padding: 10px
                    - height: 64px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-5)
                  icon:
                    - color: white
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/hjem
                card_mod:
                  style: |
                    ha-card {
                      margin-top: 20px;
                    }
            columns: 4
          - type: custom:mushroom-title-card
            title: ''
            subtitle: SMART OPLADNING OVERBLIK
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            card_mod:
              style: |
                ha-card {
                  margin-top: -20px;
                }
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Pris nu
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-top: -15px;
                      margin-bottom: -15px;
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Start pris
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      margin-top: -15px;
                      margin-bottom: -15px;
                    }
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Start tid
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      margin-top: -15px;
                      margin-bottom: -15px;
                    }
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.stromligning_pris_nu
                  attribute: null
                  prefix: kr.
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                    - margin-bottom: '-2px'
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(2)).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>`;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                triggers_update:
                  - switch.milky_smart_charging_ev_connected
                  - switch.milky_smart_charging_smart_charging_activated
                  - sensor.milky_smart_charging_charging
                variables:
                  prefix: kr.
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                    - margin-bottom: '-2px'
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[
                      const evOn = hass.states['switch.milky_smart_charging_ev_connected']?.state === 'on';
                      const scOn = hass.states['switch.milky_smart_charging_smart_charging_activated']?.state === 'on';

                      // If either switch is off → show grey dash
                      if (!evOn || !scOn) {
                        return `
                          <span style="font-size: ${variables.value_size}; font-weight: normal; color: rgba(102, 102, 102, 0.3);">–</span>
                        `;
                      }

                      // Read from milky sensor
                      const attrs = hass.states['sensor.milky_smart_charging_charging']?.attributes || {};
                      const startIso = attrs.charging_start_time;
                      const slots = attrs.raw_two_days;

                      if (!startIso || !Array.isArray(slots)) {
                        return `
                          <span style="font-size: ${variables.value_size}; font-weight: normal; color: rgba(102, 102, 102, 0.3);">–</span>
                        `;
                      }

                      // Find price matching charging_start_time
                      const target = new Date(startIso).getTime();
                      const match = slots.find(slot => {
                        if (!slot?.start || !slot?.end) return false;
                        const a = new Date(slot.start).getTime();
                        const b = new Date(slot.end).getTime();
                        return target >= a && target < b;
                      });

                      if (!match || typeof match.value !== 'number') {
                        return `
                          <span style="font-size: ${variables.value_size}; font-weight: normal; color: rgba(102, 102, 102, 0.3);">–</span>
                        `;
                      }

                      // Format and return price
                      const price = match.value.toFixed(2).replace('.', ',');
                      return `
                        <span style="font-size: ${variables.value_size}; font-weight: normal;">${price}</span>
                        <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>
                      `;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                triggers_update:
                  - switch.milky_smart_charging_ev_connected
                  - switch.milky_smart_charging_smart_charging_activated
                  - sensor.milky_smart_charging_charging
                styles:
                  card:
                    - height: 50px
                    - background: none
                    - margin-bottom: '-2px'
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                      - font-size: 50px
                custom_fields:
                  tilstand: |
                    [[[
                      const evOn = hass.states['switch.milky_smart_charging_ev_connected']?.state === 'on';
                      const scOn = hass.states['switch.milky_smart_charging_smart_charging_activated']?.state === 'on';

                      // If either switch is off → grey dash
                      if (!evOn || !scOn) {
                        return `<span style="color: rgba(102, 102, 102, 0.3);">–</span>`;
                      }

                      const attr = hass.states['sensor.milky_smart_charging_charging']?.attributes?.charging_start_time;
                      if (!attr) {
                        return `<span style="color: rgba(102, 102, 102, 0.3);">–</span>`;
                      }

                      // Parse and format as HH:MM (always with a colon)
                      const d = new Date(attr);
                      const hh = d.getHours().toString().padStart(2, '0');
                      const mm = d.getMinutes().toString().padStart(2, '0');
                      return `${hh}:${mm}`;
                    ]]]
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
              - type: custom:button-card
                entity: sensor.stromligning_pris_nu
                show_state: false
                show_icon: false
                show_label: false
                name: |
                  [[[
                    const evOn = hass.states['switch.milky_smart_charging_ev_connected']?.state === 'on';
                    const scOn = hass.states['switch.milky_smart_charging_smart_charging_activated']?.state === 'on';
                    if (!evOn || !scOn) return '';

                    const nowPrice = Number(hass.states['sensor.stromligning_pris_nu']?.state);
                    const attrs = hass.states['sensor.milky_smart_charging_charging']?.attributes || {};
                    const startIso = attrs.charging_start_time;
                    const slots = attrs.raw_two_days;

                    if (!isFinite(nowPrice) || nowPrice <= 0 || !startIso || !Array.isArray(slots)) return '';

                    const target = new Date(startIso).getTime();
                    const match = slots.find(s => s?.start && s?.end &&
                      target >= new Date(s.start).getTime() && target < new Date(s.end).getTime());

                    if (!match || typeof match.value !== 'number') return '';

                    const pct = ((match.value - nowPrice) / nowPrice) * 100;
                    const formatted = pct.toFixed(1).replace('.', ','); // e.g. -23,2
                    return `${formatted}%`;
                  ]]]
                styles:
                  card:
                    - background: none
                    - height: 10px
                    - margin-bottom: 10px
                  name:
                    - font-size: 16px
                    - color: |
                        [[[
                          const nowPrice = Number(hass.states['sensor.stromligning_pris_nu']?.state);
                          const attrs = hass.states['sensor.milky_smart_charging_charging']?.attributes || {};
                          const startIso = attrs.charging_start_time;
                          const slots = attrs.raw_two_days;

                          if (!isFinite(nowPrice) || nowPrice <= 0 || !startIso || !Array.isArray(slots)) {
                            return 'rgba(102, 102, 102, 0.6)';
                          }

                          const target = new Date(startIso).getTime();
                          const match = slots.find(s => s?.start && s?.end &&
                            target >= new Date(s.start).getTime() && target < new Date(s.end).getTime());

                          if (!match || typeof match.value !== 'number') {
                            return 'rgba(102, 102, 102, 0.6)';
                          }

                          const pct = ((match.value - nowPrice) / nowPrice) * 100;
                          return pct < 0 ? 'green' : 'red';
                        ]]]
              - type: custom:mushroom-title-card
            columns: 3
          - type: conditional
            conditions:
              - condition: state
                entity: switch.milky_smart_charging_ev_connected
                state: 'on'
            card:
              type: vertical-stack
              cards:
                - type: custom:apexcharts-card
                  now:
                    show: true
                    label: Nu
                    color: var(--icon-farve)
                  locale: en
                  header:
                    show: true
                    show_states: false
                  graph_span: 2d
                  yaxis:
                    - min: ~0
                      apex_config:
                        forceNiceScale: true
                  span:
                    start: day
                  apex_config:
                    legend:
                      show: false
                    xaxis:
                      labels:
                        show: true
                        format: HH
                        rotate: -45
                        rotateAlways: true
                        hideOverlappingLabels: true
                        style:
                          fontSize: 10
                          fontWeight: 10
                  series:
                    - entity: sensor.milky_smart_charging_charging
                      name: El pris
                      unit: ' DKK/kWh'
                      data_generator: >
                        return entity.attributes.raw_two_days.filter((entry,
                        index) => index % 4 === 0)
                          .map((entry) => [new Date(entry.start), entry.value]);
                      type: line
                      float_precision: 2
                      show:
                        in_header: before_now
                      extend_to: false
                      color_threshold:
                        - value: -0.01
                          color: cyan
                        - value: 0
                          color: green
                        - value: 1.2
                          color: orange
                        - value: 2
                          color: red
                        - value: 3
                          color: black
                    - entity: sensor.milky_smart_charging_charging
                      name: Charging
                      data_generator: >
                        return entity.attributes.charging_schedule.map((entry)
                        => { return [new Date(entry.start), entry.value]; });
                      type: area
                      curve: stepline
                      color: rgb(102, 255, 255)
                      show:
                        in_header: false
                      extend_to: false
                  experimental:
                    color_threshold: true
                  card_mod:
                    style: |
                      ha-card {
                        border-radius: var(--border-radius-1);
                        background: var(--custom-button-infobox);
                        box-shadow: var(--box-shadow-off);
                      }
          - type: conditional
            conditions:
              - condition: state
                entity: switch.milky_smart_charging_ev_connected
                state: 'off'
            card:
              type: vertical-stack
              cards:
                - type: custom:apexcharts-card
                  now:
                    show: true
                    label: Nu
                    color: var(--icon-farve)
                  locale: en
                  header:
                    show: true
                    show_states: false
                    title: ''
                  graph_span: 2d
                  yaxis:
                    - min: ~0
                      apex_config:
                        forceNiceScale: true
                  span:
                    start: day
                  apex_config:
                    legend:
                      show: false
                    xaxis:
                      labels:
                        show: true
                        format: HH
                        rotate: -45
                        rotateAlways: true
                        hideOverlappingLabels: true
                        style:
                          fontSize: 10
                          fontWeight: 10
                  series:
                    - entity: sensor.milky_smart_charging_charging
                      name: El pris
                      unit: ' DKK/kWh'
                      data_generator: >
                        return entity.attributes.raw_two_days.filter((entry,
                        index) => index % 4 === 0)
                          .map((entry) => [new Date(entry.start), entry.value]);
                      type: line
                      float_precision: 2
                      show:
                        in_header: before_now
                      extend_to: false
                      color_threshold:
                        - value: -0.01
                          color: cyan
                        - value: 0
                          color: green
                        - value: 1.2
                          color: orange
                        - value: 2
                          color: red
                        - value: 3
                          color: black
                  experimental:
                    color_threshold: true
                  card_mod:
                    style: |
                      ha-card {
                        border-radius: var(--border-radius-1);
                        background: var(--custom-button-infobox);
                        box-shadow: var(--box-shadow-off);
                      }
        columns: 1
        card_mod:
          style: |
            .card-header {
              visibility: hidden; /* Hides the grid title while keeping the space */
            }
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: OPLADNINGS GRÆNSE
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                icon: mdi:minus
                show_icon: true
                show_name: false
                size: 40%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.decrement
                  target:
                    entity_id: input_number.milky_charge_limit
              - type: custom:mushroom-title-card
                title: |
                  {{ states('input_number.milky_charge_limit') | int }}%
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --title-font-size: 36px;    /* Title font size */
                      --subtitle-font-size: 16px; /* Subtitle font size */
                    }
              - type: custom:button-card
                icon: mdi:plus
                name: Add
                show_icon: true
                show_name: false
                size: 40%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.increment
                  target:
                    entity_id: input_number.milky_charge_limit
            columns: 3
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: AMPERE
            card_mod:
              style: |
                ha-card {
                  margin-top: 8px;  # Adjust the value to your desired spacing
                }
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                icon: mdi:minus
                show_icon: true
                show_name: false
                size: 40%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.decrement
                  target:
                    entity_id: input_number.milky_charging_amps
              - type: custom:mushroom-title-card
                title: '{{ states(''input_number.milky_charging_amps'') | int }} A'
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --title-font-size: 36px;    /* Title font size */
                      --subtitle-font-size: 16px; /* Subtitle font size */
                    }
              - type: custom:button-card
                icon: mdi:plus
                name: Add
                show_icon: true
                show_name: false
                size: 40%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.increment
                  target:
                    entity_id: input_number.milky_charging_amps
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: START TIDLIGST
                card_mod:
                  style: |
                    ha-card {
                      margin-top: 8px;
                      margin-right: -50px;
                    }
              - type: custom:button-card
                icon: mdi:restore
                show_name: false
                styles:
                  card:
                    - margin-top: 20px
                    - margin-left: 90px
                    - background: none
                    - width: 50px
                  icon:
                    - height: 40px
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.milky_smart_charging_charge_start_time
                  data:
                    option: None
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: SLUT SENEST
                card_mod:
                  style: |
                    ha-card {
                      margin-top: 8px;
                      margin-right: -50px;
                    }
              - type: custom:button-card
                icon: mdi:restore
                show_name: false
                styles:
                  card:
                    - margin-top: 20px
                    - margin-left: 90px
                    - background: none
                    - width: 50px
                  icon:
                    - height: 40px
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.milky_smart_charging_charge_completion_time
                  data:
                    option: None
            columns: 4
          - square: false
            type: grid
            cards:
              - type: custom:custom-features-card
                features:
                  - type: custom:service-call
                    entries:
                      - type: dropdown
                        entity_id: select.milky_smart_charging_charge_start_time
                        options:
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: None
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: None
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                            label: Auto
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '00:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '00:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '00:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '00:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '01:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '01:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '01:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '01:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '02:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '02:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '02:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '02:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '03:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '03:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '03:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '03:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '04:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '04:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '04:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '04:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '05:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '05:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '05:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '05:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '06:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '06:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '06:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '06:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '07:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '07:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '07:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '07:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '08:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '08:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '08:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '08:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '09:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '09:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '09:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '09:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '10:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '10:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '10:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '10:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '11:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '11:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '11:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '11:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '12:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '12:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '12:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '12:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '13:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '13:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '13:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '13:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '14:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '14:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '14:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '14:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '15:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '15:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '15:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '15:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '16:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '16:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '16:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '16:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '17:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '17:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '17:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '17:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '18:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '18:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '18:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '18:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '19:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '19:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '19:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '19:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '20:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '20:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '20:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '20:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '21:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '21:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '21:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '21:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '22:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '22:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '22:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '22:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '23:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:00'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '23:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:15'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '23:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:30'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id: select.milky_smart_charging_charge_start_time
                            option: '23:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:45'
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                        styles: >-
                          :host {
                            height: 70px;
                            font-size: 36px;
                            --color: none;
                            --md-ripple-hover-color: none;
                            --md-ripple-pressed-color: none;
                            --mdc-menu-item-height: 50px;
                            --mdc-list-side-padding-right: 100px;
                            --mdc-list-side-padding-left: 20px;
                          }

                          .label {
                            justify-content: center;
                          }

                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "00:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "00:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "00:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "00:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "01:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "01:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "01:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "01:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "02:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "02:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "02:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "02:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "03:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "03:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "03:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "03:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "04:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "04:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "04:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "04:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "05:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "05:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "05:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "05:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "06:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "06:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "06:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "06:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "07:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "07:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "07:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "07:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "08:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "08:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "08:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                          - entity_id:
                          select.milky_smart_charging_charge_start_time
                            option: "08:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_start_time
                        haptics: true
                card_mod:
                  style: |
                    ha-card {
                      background: var(--custom-button-gradient-1);
                      box-shadow: var(--box-shadow-off);
                      border-radius: var(--border-radius-1);
                    }
              - type: custom:custom-features-card
                features:
                  - type: custom:service-call
                    entries:
                      - type: dropdown
                        entity_id: select.milky_smart_charging_charge_completion_time
                        options:
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: None
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: None
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                            label: Auto
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '00:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '00:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '00:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '00:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '00:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '01:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '01:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '01:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '01:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '01:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '02:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '02:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '02:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '02:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '02:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '03:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '03:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '03:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '03:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '03:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '04:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '04:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '04:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '04:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '04:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '05:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '05:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '05:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '05:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '05:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '06:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '06:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '06:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '06:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '06:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '07:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '07:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '07:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '07:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '07:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '08:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '08:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '08:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '08:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '08:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '09:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '09:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '09:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '09:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '09:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '10:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '10:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '10:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '10:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '10:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '11:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '11:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '11:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '11:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '11:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '12:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '12:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '12:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '12:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '12:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '13:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '13:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '13:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '13:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '13:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '14:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '14:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '14:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '14:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '14:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '15:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '15:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '15:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '15:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '15:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '16:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '16:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '16:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '16:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '16:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '17:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '17:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '17:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '17:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '17:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '18:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '18:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '18:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '18:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '18:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '19:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '19:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '19:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '19:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '19:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '20:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '20:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '20:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '20:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '20:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '21:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '21:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '21:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '21:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '21:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '22:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '22:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '22:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '22:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '22:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '23:00'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:00'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '23:15'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:15'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '23:30'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:30'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                          - entity_id: select.milky_smart_charging_charge_completion_time
                            option: '23:45'
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: '23:45'
                              target:
                                entity_id: >-
                                  select.milky_smart_charging_charge_completion_time
                        styles: >-
                          :host {
                            height: 70px;
                            font-size: 36px;
                            --color: none;
                            --md-ripple-hover-color: none;
                            --md-ripple-pressed-color: none;
                            --mdc-menu-item-height: 50px;
                            --mdc-list-side-padding-right: 100px;
                            --mdc-list-side-padding-left: 20px;
                          }

                          .label {
                            justify-content: center;
                          }

                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "00:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "00:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "00:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "00:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "00:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "01:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "01:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "01:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "01:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "01:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "02:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "02:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "02:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "02:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "02:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "03:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "03:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "03:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "03:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "03:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "04:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "04:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "04:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "04:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "04:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "05:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "05:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "05:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "05:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "05:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "06:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "06:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "06:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "06:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "06:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "07:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "07:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "07:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "07:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "07:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "08:00"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:00"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "08:15"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:15"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "08:30"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:30"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                          - entity_id:
                          select.milky_smart_charging_charge_completion_time
                            option: "08:45"
                            tap_action:
                              action: perform-action
                              perform_action: select.select_option
                              data:
                                option: "08:45"
                              target:
                                entity_id: select.milky_smart_charging_charge_completion_time
                        haptics: true
                card_mod:
                  style: |
                    ha-card {
                      background: var(--custom-button-gradient-1);
                      box-shadow: var(--box-shadow-off);
                      border-radius: var(--border-radius-1);
                    }
            columns: 2
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: INDSTILLINGER
            card_mod:
              style: |
                ha-card {
                  margin-top: 8px;  # Adjust the value to your desired spacing
                }
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_smart_charging_activated
                    state: 'on'
                card:
                  type: custom:button-card
                  icon: mdi:leaf
                  name: Smart Charging
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-4)
                    icon:
                      - color: var(--icon-farve)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: var(--text-primary-color)
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    target:
                      entity_id: switch.milky_smart_charging_smart_charging_activated
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_smart_charging_activated
                    state: 'off'
                card:
                  type: custom:button-card
                  icon: mdi:leaf
                  name: Smart Charging
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background-color: none
                    icon:
                      - color: var(--icon-farve-2)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    target:
                      entity_id: switch.milky_smart_charging_smart_charging_activated
                  data:
                    cycle: true
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'on'
                card:
                  type: custom:button-card
                  icon: mdi:connection
                  name: Forbundet
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-4)
                    icon:
                      - color: var(--icon-farve)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: var(--text-primary-color)
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    target:
                      entity_id: switch.milky_smart_charging_ev_connected
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_ev_connected
                    state: 'off'
                card:
                  type: custom:button-card
                  icon: mdi:connection
                  name: Forbundet
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background-color: none
                    icon:
                      - color: var(--icon-farve-2)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    target:
                      entity_id: switch.milky_smart_charging_ev_connected
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_keep_charger_on
                    state: 'on'
                card:
                  type: custom:button-card
                  icon: mdi:lightning-bolt
                  name: Holder lader tændt
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-4)
                    icon:
                      - color: var(--icon-farve)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                      - color: var(--text-primary-color)
                  tap_action:
                    action: call-service
                    service: switch.turn_off
                    target:
                      entity_id: switch.milky_smart_charging_keep_charger_on
              - type: conditional
                conditions:
                  - condition: state
                    entity: switch.milky_smart_charging_keep_charger_on
                    state: 'off'
                card:
                  type: custom:button-card
                  icon: mdi:lightning-bolt
                  name: Holder ikke lader tændt
                  show_icon: true
                  show_name: true
                  styles:
                    card:
                      - padding: 10px
                      - height: 90px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background-color: none
                    icon:
                      - color: var(--icon-farve-2)
                      - '--mdc-icon-size': 55px
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    target:
                      entity_id: switch.milky_smart_charging_keep_charger_on
            columns: 3
        columns: 1
        title: MILKY INDSTILLINGER
        view_layout:
          column: 1
    layout:
      max_cols: 2
      max_width: 590
      width: 630
      height: null
    type: custom:vertical-layout
    icon: mdi:ev-plug-type2
  - title: LadyBug Klima
    path: ladybug-klima
    cards:
      - square: false
        type: grid
        cards:
          - type: picture
            image: /local/tesla/ladybug_wall.png
            card_mod:
              style: |
                ha-card {
                  background: none !important;
                  margin-top: 20px;
                }
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: KLIMA TILSTAND
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.ladybug_climate
                    state: 'off'
                card:
                  type: custom:button-card
                  icon: |
                    [[[ 
                      return states['script.ladybug_start_klima'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:power';
                    ]]]
                  show_icon: true
                  show_name: false
                  size: 50%
                  styles:
                    card:
                      - padding: 10px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: null
                    icon:
                      - color: var(--icon-farve-2)
                      - animation: |
                          [[[
                            return states['script.ladybug_start_klima'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_start_klima
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.ladybug_climate
                    state: heat_cool
                card:
                  type: custom:button-card
                  icon: |
                    [[[ 
                      return states['script.ladybug_stop_klima'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:power';
                    ]]]
                  show_icon: true
                  show_name: false
                  size: 50%
                  styles:
                    card:
                      - padding: 10px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-4)
                    icon:
                      - color: var(--icon-farve)
                      - animation: |
                          [[[
                            return states['script.ladybug_stop_klima'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.ladybug_stop_klima
              - type: custom:mushroom-title-card
                title: |
                  {% if states('climate.ladybug_climate') == 'heat_cool' %}
                    Tændt
                  {% elif states('climate.ladybug_climate') == 'off' %}
                    Slukket
                  {% else %}
                    {{ states('climate.ladybug_climate') }}
                  {% endif %}
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --title-font-size: 36px;    /* Title font size */
                      --subtitle-font-size: 16px; /* Subtitle font size */
                    }
            columns: 3
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: TEMPERATUR
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                icon: mdi:minus
                show_icon: true
                show_name: false
                size: 50%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.decrement
                  target:
                    entity_id: input_number.ladybug_klima_temp
              - type: custom:mushroom-title-card
                title: |
                  {{ states('input_number.ladybug_klima_temp') }} °C
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: >
                  {{ state_attr('climate.ladybug_climate',
                  'current_temperature') }} °C
                card_mod:
                  style: |
                    ha-card {
                      --title-font-size: 30px;
                      --subtitle-font-size: 16px;
                      margin-top: -10px; 
                    }
              - type: custom:button-card
                icon: mdi:plus
                name: Add
                show_icon: true
                show_name: false
                size: 50%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.increment
                  target:
                    entity_id: input_number.ladybug_klima_temp
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - height: 100px
                    - box-shadow: none
                    - background-color: transparent
            columns: 1
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                icon: mdi:car
                show_icon: true
                show_name: false
                size: 35%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-5)
                  icon:
                    - color: white
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/biler
              - square: false
                type: grid
                cards: []
              - type: custom:button-card
                icon: mdi:home
                show_icon: true
                show_name: false
                size: 35%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-5)
                  icon:
                    - color: white
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/hjem
            columns: 3
        columns: 1
        view_layout:
          column: 1
    type: custom:vertical-layout
    layout:
      max_cols: 2
      max_width: 500
      width: 350
      height: null
    icon: mdi:fan
  - title: Milky Klima
    path: milky-klima
    icon: mdi:fan
    type: custom:vertical-layout
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: TÆND / SLUK
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.milky_climate
                    state: 'off'
                card:
                  type: custom:button-card
                  icon: |
                    [[[ 
                      return states['script.milky_start_klima'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:power';
                    ]]]
                  show_icon: true
                  show_name: false
                  size: 50%
                  styles:
                    card:
                      - padding: 10px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: null
                    icon:
                      - color: var(--icon-farve-2)
                      - animation: |
                          [[[
                            return states['script.milky_start_klima'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_start_klima
              - type: conditional
                conditions:
                  - condition: state
                    entity: climate.milky_climate
                    state: heat_cool
                card:
                  type: custom:button-card
                  icon: |
                    [[[ 
                      return states['script.milky_stop_klima'].state === 'on'
                        ? 'mdi:loading'
                        : 'mdi:power';
                    ]]]
                  show_icon: true
                  show_name: false
                  size: 50%
                  styles:
                    card:
                      - padding: 10px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: var(--custom-button-gradient-4)
                    icon:
                      - color: var(--icon-farve)
                      - animation: |
                          [[[
                            return states['script.milky_stop_klima'].state === 'on'
                              ? 'rotating 1s linear infinite'
                              : 'none';
                          ]]]
                    name:
                      - font-size: 10px
                      - text-align: center
                  tap_action:
                    action: call-service
                    service: script.milky_stop_klima
              - type: custom:mushroom-title-card
                title: |
                  {% if states('climate.milky_climate') == 'heat_cool' %}
                    Tændt
                  {% elif states('climate.milky_climate') == 'off' %}
                    Slukket
                  {% else %}
                    {{ states('climate.milky_climate') }}
                  {% endif %}
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --title-font-size: 36px;    /* Title font size */
                      --subtitle-font-size: 16px; /* Subtitle font size */
                    }
            columns: 3
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: TEMPERATUR
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                icon: mdi:minus
                show_icon: true
                show_name: false
                size: 50%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.decrement
                  target:
                    entity_id: input_number.milky_klima_temp
              - type: custom:mushroom-title-card
                title: |
                  {{ states('input_number.milky_klima_temp') }} °C
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: >
                  {{ state_attr('climate.milky_climate', 'current_temperature')
                  }} °C
                card_mod:
                  style: |
                    ha-card {
                      --title-font-size: 30px;
                      --subtitle-font-size: 16px;
                      margin-top: -10px; 
                    }
              - type: custom:button-card
                icon: mdi:plus
                name: Add
                show_icon: true
                show_name: false
                size: 50%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-1)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: input_number.increment
                  target:
                    entity_id: input_number.milky_klima_temp
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                styles:
                  card:
                    - height: 100px
                    - box-shadow: none
                    - background-color: transparent
            columns: 1
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                icon: mdi:car
                show_icon: true
                show_name: false
                size: 35%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-5)
                  icon:
                    - color: white
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/biler
              - square: false
                type: grid
                cards: []
              - type: custom:button-card
                icon: mdi:home
                show_icon: true
                show_name: false
                size: 35%
                styles:
                  card:
                    - padding: 10px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-5)
                  icon:
                    - color: white
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/hjem
            columns: 3
        columns: 1
        title: MILKY KLIMA INDSTILLINGER
        view_layout:
          column: 1
    layout:
      max_cols: 2
      max_width: 500
      width: 350
      height: null
  - type: custom:vertical-layout
    path: strom
    title: Strøm
    icon: mdi:transmission-tower
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Forbrug
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -15px;
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Salg
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -15px;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.watts_live_energiforbrug_kwh_daily_energy_cost
                  attribute: cumulative_energy
                  prefix: kWh
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(2)).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>`;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.watts_live_returneret_energi_kwh_daily_energy_cost
                  attribute: cumulative_energy
                  prefix: kWh
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(2)).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>`;
                    ]]]
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Samlet pris i dag
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -15px;
                    }
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Selvforsyningsgrad
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {

                      margin-bottom: -15px;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id_1: sensor.watts_live_energiforbrug_kwh_daily_energy_cost
                  entity_id_2: sensor.watts_live_returneret_energi_kwh_daily_energy_cost
                  prefix: kr.
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[ 
                      let value1 = parseFloat(states[variables.entity_id_1]?.state) || 0;
                      let value2 = parseFloat(states[variables.entity_id_2]?.state) || 0;
                      let result = (value1 - value2).toFixed(2).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${result}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>`;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.watts_daglig_forbrug_af_solenergi
                  attribute: null
                  prefix: '%'
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(1)).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>`;
                    ]]]
            columns: 2
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              grid:
                - position: absolute
              card:
                - box-shadow: none
                - background-color: transparent
          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.stromligning_tomorrow_available_vat
                state: 'on'
            card:
              type: custom:apexcharts-card
              now:
                show: true
                label: Nu
                color: var(--primary-text-color)
              locale: en
              header:
                show: false
                show_states: true
              graph_span: 2d
              yaxis:
                - min: ~0
                  apex_config:
                    forceNiceScale: true
              span:
                start: day
              apex_config:
                grid:
                  borderColor: var(--primary-text-color)
                chart:
                  height: 330px
                legend:
                  show: false
                plotOptions:
                  bar:
                    columnWidth: 10%
                xaxis:
                  labels:
                    show: true
                    format: HH
                    rotate: -45
                    rotateAlways: true
                    hideOverlappingLabels: true
                    style:
                      fontSize: 10
                      fontWeight: 10
                tooltip:
                  enabledOnSeries:
                    - 0
              series:
                - entity: sensor.ladybug_smart_charging_charging
                  name: El pris
                  unit: ' DKK/kWh'
                  data_generator: >
                    return entity.attributes.raw_two_days.map((entry) => {
                    return [new Date(entry.start), entry.value]; });
                  type: column
                  float_precision: 2
                  show:
                    in_header: before_now
                  extend_to: false
                  color_threshold:
                    - value: -0.01
                      color: cyan
                    - value: 0
                      color: green
                    - value: 1.2
                      color: orange
                    - value: 2
                      color: red
                    - value: 3
                      color: black
                - entity: sensor.ladybug_smart_charging_charging
                  name: El pris
                  unit: ' DKK/kWh'
                  data_generator: >
                    return entity.attributes.raw_two_days.filter((entry, index)
                    => index % 4 === 0)
                      .map((entry) => [new Date(entry.start), entry.value]);
                  type: line
                  float_precision: 2
                  show:
                    in_header: before_now
                  extend_to: false
                  color_threshold:
                    - value: -0.01
                      color: cyan
                    - value: 0
                      color: green
                    - value: 1.2
                      color: orange
                    - value: 2
                      color: red
                    - value: 3
                      color: black
              experimental:
                color_threshold: true
              card_mod:
                style: |
                  ha-card {
                    border-radius: var(--border-radius-1);
                    background: var(--custom-button-infobox);
                    box-shadow: var(--box-shadow-off);
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.stromligning_tomorrow_available_vat
                state_not: 'on'
            card:
              type: custom:apexcharts-card
              now:
                show: true
                label: Nu
                color: var(--primary-text-color)
              locale: en
              header:
                show: false
                show_states: true
              graph_span: 1d
              yaxis:
                - min: ~0
                  apex_config:
                    forceNiceScale: true
              span:
                start: day
              apex_config:
                grid:
                  borderColor: var(--primary-text-color)
                chart:
                  height: 330px
                legend:
                  show: false
                plotOptions:
                  bar:
                    columnWidth: 10%
                xaxis:
                  labels:
                    show: true
                    format: HH
                    rotate: -45
                    rotateAlways: true
                    hideOverlappingLabels: true
                    style:
                      fontSize: 10
                      fontWeight: 10
                tooltip:
                  enabledOnSeries:
                    - 0
              series:
                - entity: sensor.ladybug_smart_charging_charging
                  name: El pris
                  unit: ' DKK/kWh'
                  data_generator: >
                    return entity.attributes.raw_two_days.map((entry) => {
                    return [new Date(entry.start), entry.value]; });
                  type: column
                  float_precision: 2
                  show:
                    in_header: before_now
                  extend_to: false
                  color_threshold:
                    - value: -0.01
                      color: cyan
                    - value: 0
                      color: green
                    - value: 1.2
                      color: orange
                    - value: 2
                      color: red
                    - value: 3
                      color: black
                - entity: sensor.ladybug_smart_charging_charging
                  name: El pris
                  unit: ' DKK/kWh'
                  data_generator: >
                    return entity.attributes.raw_two_days.filter((entry, index)
                    => index % 4 === 0)
                      .map((entry) => [new Date(entry.start), entry.value]);
                  type: line
                  float_precision: 2
                  show:
                    in_header: before_now
                  extend_to: false
                  color_threshold:
                    - value: -0.01
                      color: cyan
                    - value: 0
                      color: green
                    - value: 1.2
                      color: orange
                    - value: 2
                      color: red
                    - value: 3
                      color: black
              experimental:
                color_threshold: true
              card_mod:
                style: |
                  ha-card {
                    border-radius: var(--border-radius-1);
                    background: var(--custom-button-infobox);
                    box-shadow: var(--box-shadow-off);
                  }
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Pris
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -15px;
                    }
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Rå elpris
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -15px;
                    }
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Transport
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -15px;
                    }
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.stromligning_pris_nu
                  attribute: null
                  prefix: kr.
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(2)).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>`;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_a: sensor.stromligning_spotprice_vat
                  entity_b: sensor.stromligning_surcharge_vat
                  prefix: kr.
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[
                      const a = parseFloat(states[variables.entity_a]?.state) || 0;
                      const b = parseFloat(states[variables.entity_b]?.state) || 0;
                      const value = (a + b).toFixed(2).replace('.', ',');
                      return `
                        <span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span>
                        <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>
                      `;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.stromligning_distribution_vat
                  attribute: null
                  prefix: kr.
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(2)).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing};">${variables.prefix}</span>`;
                    ]]]
            columns: 3
          - type: picture-elements
            elements:
              - type: conditional
                conditions:
                  - entity: sensor.saj_combined_current_power_unit_of_measurement
                    state: W
                elements:
                  - type: state-label
                    entity: sensor.saj_combined_current_power
                    style:
                      top: 36%
                      left: 1%
                      transform: none
              - type: conditional
                conditions:
                  - entity: sensor.saj_combined_current_power_unit_of_measurement
                    state: kWh
                elements:
                  - type: state-label
                    entity: sensor.saj_combined_current_power_kwh
                    style:
                      top: 36%
                      left: 1%
                      transform: none
              - type: state-label
                entity: sensor.saj_combined_today
                style:
                  top: 42%
                  left: 1%
                  transform: none
              - type: conditional
                conditions:
                  - entity: sensor.watts_live_effekt
                    state: '0.0'
                elements:
                  - type: state-label
                    entity: sensor.watts_live_returneret_effekt
                    style:
                      top: 7%
                      left: 50%
                      font-size: 200%
                      color: green
              - type: conditional
                conditions:
                  - entity: sensor.watts_live_returneret_effekt
                    state: '0.0'
                elements:
                  - type: state-label
                    entity: sensor.watts_live_effekt
                    style:
                      top: 7%
                      left: 50%
                      font-size: 200%
                      color: var(--primary-color)
            image: /local/energi/hus.png
            card_mod:
              style: |
                ha-card {
                background: none;
                }
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - box-shadow: none
                - background-color: transparent
                - margin-bottom: '-20px'
          - type: custom:bar-card
            entities:
              - entity: sensor.watts_live_l1_strom
                name: L1
              - entity: sensor.watts_live_l2_strom
                name: L2
              - entity: sensor.watts_live_l3_strom
                name: L3
            entity_row: true
            direction: up
            stack: horizontal
            height: 100px
            width: 70px
            decimal: 2
            max: 25
            positions:
              icon: 'off'
              name: 'off'
        columns: 1
        title: STRØM
        view_layout:
          column: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/strom
    layout:
      max_cols: 2
      max_width: 550
      width: 630
      height: null
  - type: custom:vertical-layout
    title: Udespa
    path: udespa
    icon: mdi:hot-tub
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            subtitle: INDSTIL TEMPERATUR
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -40px;
                }
        columns: 1
        title: UDESPA
        view_layout:
          column: 1
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: minmax(0, 80%) minmax(0, 20%)
          grid-auto-rows: minmax(auto, 70px, 40px, 70px)
          margin: '-4px -4px -4px -4px'
          padding: 0
        cards:
          - type: custom:vertical-stack-in-card
            view_layout:
              grid-column: 1
              grid-row: 1 / span 4
            cards:
              - type: conditional
                conditions:
                  - entity: sensor.climate_udespa_custom
                    state: Varmer ikke
                  - entity: binary_sensor.udespa_circulation_pump
                    state: 'on'
                card:
                  type: picture-elements
                  elements:
                    - type: state-icon
                      entity: light.udespa_light
                      icon: mdi:lightbulb
                      tap_action:
                        action: toggle
                      style:
                        top: 30%
                        left: 75%
                  image: /local/spa/udespa2.png
                  card_mod:
                    style: |
                      ha-card {
                        background: none;
                        box-shadow: none;
                        height: 100%;
                        padding: 0;
                      }
              - type: conditional
                conditions:
                  - entity: sensor.climate_udespa_custom
                    state: Varmer ikke
                  - entity: binary_sensor.udespa_circulation_pump
                    state: 'off'
                card:
                  type: picture-elements
                  elements:
                    - type: state-icon
                      entity: light.udespa_light
                      icon: mdi:lightbulb
                      tap_action:
                        action: toggle
                      style:
                        top: 30%
                        left: 75%
                  image: /local/spa/udespa-stille2.png
                  card_mod:
                    style: |
                      ha-card {
                        background: none;
                        box-shadow: none;
                        height: 100%;
                        padding: 0;
                      }
              - type: conditional
                conditions:
                  - entity: sensor.climate_udespa_custom
                    state: Varmer
                card:
                  type: picture-elements
                  elements:
                    - type: state-icon
                      entity: light.udespa_light
                      icon: mdi:lightbulb
                      tap_action:
                        action: toggle
                      style:
                        top: 30%
                        left: 75%
                  image: /local/spa/udespa-heat2.png
                  card_mod:
                    style: |
                      ha-card {
                        background: none;
                        box-shadow: none;
                        height: 100%;
                        padding: 0;
                      }
            card_mod:
              style: |
                ha-card {
                  background: none;
                  box-shadow: none;
                }
          - type: custom:button-card
            view_layout:
              grid-column: 2
              grid-row: 2
            icon: mdi:plus
            show_icon: true
            show_name: false
            styles:
              card:
                - height: 70px
                - border-radius: var(--border-radius-1)
                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                - background: >-
                    linear-gradient(90deg, rgba(253,77,29,1) 0%,
                    rgba(255,168,55,1) 50%)
              icon:
                - color: var(--icon-farve)
              name:
                - font-size: 10px
                - text-align: center
            tap_action:
              action: call-service
              service: script.udespa_hav_temperatur
          - type: custom:button-card
            view_layout:
              grid-column: 2
              grid-row: 3
            show_icon: false
            show_name: false
            show_state: false
            styles:
              card:
                - background: none
                - border-radius: var(--border-radius-1)
                - height: 40px
              grid:
                - position: absolute
              custom_fields:
                temp:
                  - font-size: 30px
                  - position: absolute
                  - top: 50%
                  - left: 50%
                  - transform: translate(-50%, -50%)
            custom_fields:
              temp: >
                [[[ return states['climate.udespa'].attributes.temperature +
                '°C'; ]]]
            tap_action:
              action: none
          - type: custom:button-card
            view_layout:
              grid-column: 2
              grid-row: 4
            icon: mdi:minus
            show_icon: true
            show_name: false
            styles:
              card:
                - height: 70px
                - border-radius: var(--border-radius-1)
                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                - background: var(--custom-button-gradient-6)
              icon:
                - color: var(--icon-farve)
              name:
                - font-size: 10px
                - text-align: center
            tap_action:
              action: call-service
              service: script.udespa_sank_temperatur
        view_layout:
          column: 1
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            subtitle: VARMEPUMPE
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: input_select.udespa_varmepumpe_tilstand
                show_icon: false
                show_name: true
                name: Lydløs
                styles:
                  card:
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: Lydløs
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  target:
                    entity_id: input_select.udespa_varmepumpe_tilstand
                  data:
                    option: Lydløs
              - type: custom:button-card
                entity: input_select.udespa_varmepumpe_tilstand
                show_icon: false
                show_name: true
                name: Smart
                styles:
                  card:
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: Smart
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  target:
                    entity_id: input_select.udespa_varmepumpe_tilstand
                  data:
                    option: Smart
              - type: custom:button-card
                entity: input_select.udespa_varmepumpe_tilstand
                show_icon: false
                show_name: true
                name: Turbo
                styles:
                  card:
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: Turbo
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  target:
                    entity_id: input_select.udespa_varmepumpe_tilstand
                  data:
                    option: Turbo
            columns: 3
          - type: custom:mushroom-title-card
            title: ''
            subtitle: VARMELEGEME
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: switch.shelly_1_plus_varmelegeme_udespa_switch_0
                show_icon: false
                show_name: true
                name: Til
                styles:
                  card:
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: 'on'
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: switch.turn_on
                  target:
                    entity_id: switch.shelly_1_plus_varmelegeme_udespa_switch_0
              - type: custom:button-card
                entity: switch.shelly_1_plus_varmelegeme_udespa_switch_0
                show_icon: false
                show_name: true
                name: Fra
                styles:
                  card:
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: 'off'
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: switch.turn_off
                  target:
                    entity_id: switch.shelly_1_plus_varmelegeme_udespa_switch_0
              - type: custom:button-card
                entity: automation.udespa_taend_sluk_varmelegeme
                show_icon: false
                show_name: true
                name: Auto
                styles:
                  card:
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: 'on'
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                  - value: 'off'
                    styles:
                      card:
                        - background: var(--custom-button-infobox)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: automation.toggle
                  target:
                    entity_id: automation.udespa_taend_sluk_varmelegeme
            columns: 3
        columns: 1
        view_layout:
          column: 1
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - type: custom:mushroom-title-card
            title: ''
            subtitle: TEMPERATUR & KEMI
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: sensor.vejrudsigt_hjemme
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  card:
                    - background: none
                    - height: 100px
                    - margin-bottom: '-30px'
                  grid:
                    - position: absolute
                  custom_fields:
                    hottub:
                      - font-size: 70px
                      - position: absolute
                      - justify-self: center
                      - left: 5%
                      - top: 50%
                      - transform: translate(0%, -50%)
                    icon:
                      - position: absolute
                      - right: 150px
                      - top: 50%
                      - transform: translate(0%, -50%)
                    temp:
                      - font-size: 40px
                      - position: absolute
                      - right: 5%
                      - top: 50%
                      - transform: translate(0%, -50%)
                custom_fields:
                  hottub: |
                    [[[
                      let climateEntity = states['climate.udespa'];
                      let current_temp = climateEntity && climateEntity.attributes ? climateEntity.attributes.current_temperature : null;

                      if (current_temp !== null && current_temp !== undefined) {
                        return current_temp.toFixed(1) + '°C';
                      } else {
                        let sensorEntity = states['sensor.udespa_temperatur'];
                        let backup_temp = sensorEntity && sensorEntity.state ? parseFloat(sensorEntity.state) : 0;
                        return (Math.round(backup_temp * 2) / 2).toFixed(1) + '°C';
                      }
                    ]]]
                  icon: >
                    [[[ return '<img src="' + entity.attributes.now_icon + '"
                    width="100" height="100">'; ]]]
                  temp: |
                    [[[ return entity.attributes.now_temp + '°C' ]]]
                tap_action:
                  action: none
            columns: 1
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                subtitle: pH
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -15px;
                    }
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Klor
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -15px;
                    }
              - type: custom:mushroom-title-card
                title: ''
                subtitle: Batteri
                alignment: center
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -15px;
                    }
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.udespa_ph_korrigeret
                  attribute: null
                  prefix: ''
                  prefix_color: var(--primary-text-color)
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                      - color: |
                          [[[
                            let value = parseFloat(states[variables.entity_id]?.state) || 0;
                            if (value < 7.0) return "red";
                            if (value >= 7.0 && value < 7.2) return "yellow";
                            if (value >= 7.2 && value <= 7.6) return "rgb(102, 255, 255)";
                            if (value >= 7.7 && value <= 7.8) return "yellow";
                            return "red";
                          ]]]
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(1)).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing}; color: ${variables.prefix_color};">${variables.prefix}</span>`;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.udespa_oxydo_reduction_potential
                  attribute: null
                  prefix: mV
                  prefix_color: var(--primary-text-color)
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                      - color: |
                          [[[
                            let value = parseFloat(states[variables.entity_id]?.state) || 0;
                            if (value < 400) return "red";
                            if (value >= 400 && value < 550) return "yellow";
                            return "rgb(102, 255, 255)";
                          ]]]
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(0)).replace('.', ',');
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing}; color: ${variables.prefix_color};">${variables.prefix}</span>`;
                    ]]]
              - type: custom:button-card
                show_name: false
                show_icon: false
                variables:
                  entity_id: sensor.udespa_batteri
                  attribute: null
                  prefix: '%'
                  prefix_color: var(--primary-text-color)
                  value_size: 50px
                  prefix_size: 12px
                  spacing: 1px
                styles:
                  card:
                    - height: 50px
                    - background: none
                  grid:
                    - position: absolute
                  custom_fields:
                    tilstand:
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                      - color: |
                          [[[
                            let value = parseFloat(states[variables.entity_id]?.state) || 0;
                            if (value < 6) return "red";
                            if (value < 16) return "yellow";
                            return "rgb(102, 255, 255)";
                          ]]]
                custom_fields:
                  tilstand: |
                    [[[ 
                      let entityData = states[variables.entity_id];
                      let value = variables.attribute ? entityData.attributes[variables.attribute] : entityData.state;
                      value = (parseFloat(value).toFixed(0)).replace('.', ','); //
                      
                      return `<span style="font-size: ${variables.value_size}; font-weight: normal;">${value}</span> 
                              <span style="font-size: ${variables.prefix_size}; margin-left: ${variables.spacing}; color: ${variables.prefix_color};">${variables.prefix}</span>`;
                    ]]]
            columns: 3
          - type: custom:mushroom-title-card
            title: ''
            subtitle: >
              {% set e = expand('sensor.udespa_oxydo_reduction_potential') |
              first %}{% if e is not none %}{% set lu = e.last_updated |
              as_local %}Sidste opdatering: {% if lu.date() == now().date() %}I
              dag kl. {{ lu.strftime('%H:%M') }}{% elif lu.date() == (now() -
              timedelta(days=1)).date() %}I går kl. {{ lu.strftime('%H:%M') }}{%
              else %}{{ lu.strftime('%d/%m-%Y kl. %H:%M') }}{% endif %}{% else
              %}Sidste opdatering: ukendt{% endif %}
            alignment: center
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            card_mod:
              style: |
                ha-card {
                  margin-top: -25px;
                }
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - box-shadow: none
                - background-color: transparent
                - height: 20px
                - padding: 0
          - type: custom:mushroom-title-card
            title: ''
            subtitle: STATUS, STRØM & VEDLIGEHOLD
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - type: custom:swipe-card
            start_card: 1
            reset_after: 20
            parameters:
              effect: flip
              slideShadows: true
            cards:
              - type: grid
                square: false
                cards:
                  - square: false
                    type: grid
                    cards:
                      - type: grid
                        square: false
                        cards:
                          - type: custom:button-card
                            entity: input_select.udespa_status
                            show_name: false
                            show_state: false
                            icon: mdi:hot-tub
                            state:
                              - value: Fejl
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-2)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - box-shadow: var(--box-shadow-off)
                                - background: var(--custom-button-infobox)
                                - height: 89px
                              icon:
                                - width: 45px
                                - height: 45px
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                navn:
                                  - font-size: 16px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                udespa:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                                varmepumpe:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 60px
                            custom_fields:
                              navn: |
                                [[[
                                  const s = entity?.state;
                                  return (s && s !== 'unknown' && s !== 'unavailable') ? s : '-';
                                ]]]
                              udespa: |
                                [[[
                                  const val = states['sensor.udespa_fejl_log']?.state;
                                  if (val === "priming_mode") {
                                    return "Udespa:&nbsp;&nbsp;&nbsp;Ok";
                                  }
                                  return val && val.toLowerCase() === "ok"
                                    ? "Udespa:&nbsp;&nbsp;&nbsp;Ok"
                                    : "Udespa:&nbsp;&nbsp;&nbsp;Fejl";
                                ]]]
                              varmepumpe: |
                                [[[
                                  const val = states['sensor.varmepumpe_fejl_log']?.state;
                                  return val && val.toLowerCase() === "ok"
                                    ? "Varmepumpe:&nbsp;&nbsp;Ok"
                                    : "Varmepumpe:&nbsp;&nbsp;Fejl";
                                ]]]
                            tap_action:
                              action: none
                          - type: custom:button-card
                            entity: input_select.udespa_status
                            show_name: false
                            show_state: false
                            show_icon: false
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - box-shadow: var(--box-shadow-off)
                                - background: var(--custom-button-infobox)
                                - height: 129px
                              grid:
                                - position: absolute
                              custom_fields:
                                icon:
                                  - position: absolute
                                  - left: 7%
                                  - top: 50%
                                  - transform: translateY(-50%)
                                  - width: 45px
                                  - height: 45px
                                  - '-webkit-mask': >-
                                      url('/local/icons/water_flow.svg')
                                      no-repeat center / contain
                                  - mask: >-
                                      url('/local/icons/water_flow.svg')
                                      no-repeat center / contain
                                  - background-color: var(--primary-text-color)
                                navn:
                                  - font-size: 16px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                cirkulation:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                                dyser:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 60px
                                filter1:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 80px
                                filter2:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 100px
                            custom_fields:
                              icon: |
                                <div></div>
                              navn: Flow og filtrering
                              cirkulation: |
                                [[[
                                  const s = states['binary_sensor.udespa_circulation_pump']?.state;
                                  return s === 'on'
                                    ? 'Cirkulation:&nbsp;&nbsp;Til'
                                    : 'Cirkulation:&nbsp;&nbsp;Fra';
                                ]]]
                              dyser: |
                                [[[
                                  const s = states['fan.udespa_pump_1']?.state;
                                  return s === 'on'
                                    ? 'Dyser:&nbsp;&nbsp;Til'
                                    : 'Dyser:&nbsp;&nbsp;Fra';
                                ]]]
                              filter1: |
                                [[[
                                  const s = states['time.udespa_filter_cycle_1_start']?.state;
                                  const e = states['time.udespa_filter_cycle_1_end']?.state;

                                  if (!s || !e || s === 'unknown' || e === 'unknown' || s === 'unavailable' || e === 'unavailable') {
                                    return 'Filter cyklus 1:  Off';
                                  }

                                  const [sh, sm, ss = 0] = s.split(':').map(Number);
                                  const [eh, em, es = 0] = e.split(':').map(Number);

                                  const now = new Date();
                                  const start = new Date(now); start.setHours(sh, sm, ss, 0);
                                  const end   = new Date(now); end.setHours(eh, em, es, 0);

                                  let on;
                                  if (end.getTime() === start.getTime()) {
                                    on = false;
                                  } else if (end > start) {
                                    on = now >= start && now <= end;
                                  } else {
                                    on = (now >= start) || (now <= end);
                                  }

                                  return `Filter cyklus 1:&nbsp;&nbsp;${on ? 'Til' : 'Fra'}`;
                                ]]]
                              filter2: |
                                [[[
                                  const s = states['time.udespa_filter_cycle_2_start']?.state;
                                  const e = states['time.udespa_filter_cycle_2_end']?.state;

                                  if (!s || !e || s === 'unknown' || e === 'unknown' || s === 'unavailable' || e === 'unavailable') {
                                    return 'Filter cyklus 2:  Off';
                                  }

                                  const [sh, sm, ss = 0] = s.split(':').map(Number);
                                  const [eh, em, es = 0] = e.split(':').map(Number);

                                  const now = new Date();
                                  const start = new Date(now); start.setHours(sh, sm, ss, 0);
                                  const end   = new Date(now); end.setHours(eh, em, es, 0);

                                  let on;
                                  if (end.getTime() === start.getTime()) {
                                    on = false;
                                  } else if (end > start) {
                                    on = now >= start && now <= end;
                                  } else {
                                    on = (now >= start) || (now <= end);
                                  }

                                  return `Filter cyklus 2:&nbsp;&nbsp;${on ? 'Til' : 'Fra'}`;
                                ]]]
                            tap_action:
                              action: none
                        columns: 1
                      - square: false
                        type: grid
                        cards:
                          - type: custom:button-card
                            show_name: false
                            show_state: false
                            icon: mdi:lightning-bolt
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - box-shadow: var(--box-shadow-off)
                                - background: var(--custom-button-infobox)
                                - height: 109px
                              icon:
                                - width: 45px
                                - height: 45px
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                navn:
                                  - font-size: 16px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                l1:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                                l2:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 60px
                                l3:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 80px
                            custom_fields:
                              navn: |
                                [[[
                                  const val = parseFloat(states['sensor.udespa_kwh_maler_effekt'].state);
                                  if (isNaN(val)) return `Forbrug nu: &nbsp;&nbsp;-`;
                                  if (val < 1000) {
                                    return `Forbrug nu: &nbsp;&nbsp;${Math.round(val)} W`;
                                  } else {
                                    return `Forbrug nu: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                                  }
                                ]]]
                              l1: |
                                [[[
                                  const val = parseFloat(states['sensor.udespa_kwh_maler_power_phase_1'].state);
                                  if (isNaN(val)) return `Pumper: &nbsp;&nbsp;-`;
                                  if (val < 1000) {
                                    return `Pumper: &nbsp;&nbsp;${Math.round(val)} W`;
                                  } else {
                                    return `Pumper: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                                  }
                                ]]]
                              l2: |
                                [[[
                                  const val = parseFloat(states['sensor.udespa_kwh_maler_power_phase_2'].state);
                                  if (isNaN(val)) return `Elpatron og styring: &nbsp;&nbsp;-`;
                                  if (val < 1000) {
                                    return `Elpatron og styring: &nbsp;&nbsp;${Math.round(val)} W`;
                                  } else {
                                    return `Elpatron og styring: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                                  }
                                ]]]
                              l3: |
                                [[[
                                  const val = parseFloat(states['sensor.udespa_kwh_maler_power_phase_3'].state);
                                  if (isNaN(val)) return `Varmepumpe: &nbsp;&nbsp;-`;
                                  if (val < 1000) {
                                    return `Varmepumpe: &nbsp;&nbsp;${Math.round(val)} W`;
                                  } else {
                                    return `Varmepumpe: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                                  }
                                ]]]
                            tap_action:
                              action: none
                          - type: custom:button-card
                            entity: input_select.udespa_status
                            show_name: false
                            show_state: false
                            show_icon: false
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - box-shadow: var(--box-shadow-off)
                                - background: var(--custom-button-infobox)
                                - height: 109px
                              grid:
                                - position: absolute
                              custom_fields:
                                icon:
                                  - position: absolute
                                  - left: 7%
                                  - top: 50%
                                  - transform: translateY(-50%)
                                  - width: 45px
                                  - height: 45px
                                  - '-webkit-mask': >-
                                      url('/local/icons/coins.svg') no-repeat
                                      center / contain
                                  - mask: >-
                                      url('/local/icons/coins.svg') no-repeat
                                      center / contain
                                  - background-color: var(--primary-text-color)
                                price:
                                  - font-size: 16px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                week:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                                month:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 60px
                                year:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 80px
                            custom_fields:
                              icon: |
                                <div></div>
                              price: |
                                [[[
                                  const s = parseFloat(states['sensor.udespa_kwh_maler_import_daily_energy_cost']?.state);
                                  return `Pris i dag: &nbsp;&nbsp;${!isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-'}`;
                                ]]]
                              week: |
                                [[[
                                  const s = parseFloat(states['sensor.udespa_kwh_maler_import_weekly_energy_cost']?.state);
                                  return `Pris i dag: &nbsp;&nbsp;${!isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-'}`;
                                ]]]
                              month: |
                                [[[
                                  const s = parseFloat(states['sensor.udespa_kwh_maler_import_monthly_energy_cost']?.state);
                                  const months = ['jan','feb','mar','apr','maj','jun','jul','aug','sep','okt','nov','dec'];
                                  const m = months[new Date().getMonth()];
                                  const price = !isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-';
                                  return `Pris i ${m}: &nbsp;&nbsp;${price}`;
                                ]]]
                              year: |
                                [[[
                                  const s = parseFloat(states['sensor.udespa_kwh_maler_import_yearly_energy_cost']?.state);
                                  return `Pris i år: &nbsp;&nbsp;${!isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-'}`;
                                ]]]
                            tap_action:
                              action: none
                        columns: 1
                    columns: 2
                  - type: custom:button-card
                    show_name: false
                    show_icon: false
                    show_state: false
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    variables:
                      dot1_size: 40px
                      dot1_color: var(--icon-farve-2)
                      dot2_size: 20px
                      dot2_color: var(--icon-farve-2)
                      gap: 5px
                    styles:
                      card:
                        - background: none
                        - border: none
                        - box-shadow: none
                        - border-radius: 0
                        - padding: 0
                        - height: 20px
                      grid:
                        - grid-template-areas: '"dots"'
                        - grid-template-columns: 1fr
                        - grid-template-rows: 1fr
                        - height: 100%
                      custom_fields:
                        dots:
                          - display: flex
                          - align-items: center
                          - justify-content: center
                          - height: 100%
                          - width: 100%
                          - line-height: 0
                    custom_fields:
                      dots: |
                        [[[
                          const s1  = variables.dot1_size  || '18px';
                          const c1  = variables.dot1_color || 'var(--primary-text-color)';
                          const s2  = variables.dot2_size  || '18px';
                          const c2  = variables.dot2_color || 'var(--primary-text-color)';
                          const gap = variables.gap        || '8px';

                          return `
                            <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                            <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                          `;
                        ]]]
                columns: 1
              - type: grid
                square: false
                cards:
                  - square: false
                    type: grid
                    cards:
                      - square: false
                        type: grid
                        cards:
                          - type: custom:button-card
                            name: Start rengørings cyklus
                            show_icon: false
                            show_name: true
                            custom_fields:
                              icon: |
                                <div class="test"></div>
                            styles:
                              grid:
                                - grid-template-areas: '"icon" "n"'
                                - grid-template-rows: 1fr auto
                                - grid-template-columns: 1fr
                              card:
                                - height: 226px
                                - border-radius: var(--border-radius-1)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - background: var(--custom-button-infobox)
                              custom_fields:
                                icon:
                                  - position: absolute
                                  - top: 10%
                                  - width: 120px
                                  - height: 120px
                                  - justify-self: center
                                  - align-self: center
                                  - '-webkit-mask': >-
                                      url('/local/icons/clean_drop.svg')
                                      no-repeat center / contain
                                  - mask: >-
                                      url('/local/icons/clean_drop.svg')
                                      no-repeat center / contain
                                  - background-color: var(--icon-farve-2)
                              name:
                                - position: absolute
                                - color: var(--text-primary-color)
                                - font-size: 16px
                                - text-align: center
                                - bottom: 15%
                            tap_action:
                              action: perform-action
                              perform_action: script.udespa_rengoring_af_ror
                              target: {}
                            hold_action:
                              action: none
                        columns: 1
                      - square: false
                        type: grid
                        cards:
                          - type: custom:button-card
                            show_name: false
                            show_state: false
                            icon: mdi:water
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - box-shadow: var(--box-shadow-off)
                                - background: var(--custom-button-infobox)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                navn:
                                  - font-size: 16px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                dage:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              navn: Udespa badevand
                              dage: |
                                [[[
                                  return states['sensor.udespa_badevand_timer'].state;
                                ]]]
                            tap_action:
                              action: call-service
                              service: script.udespa_nulstil_badevand_timer
                              target: {}
                              confirmation:
                                text: Vil du nulstille timeren?
                          - type: custom:button-card
                            show_name: false
                            show_state: false
                            icon: mdi:air-filter
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - box-shadow: var(--box-shadow-off)
                                - background: var(--custom-button-infobox)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                navn:
                                  - font-size: 16px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                dage:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              navn: Udespa filter
                              dage: |
                                [[[
                                  return states['sensor.udespa_filter_timer'].state;
                                ]]]
                            tap_action:
                              action: call-service
                              service: script.udespa_nulstil_filter_timer
                              target: {}
                              confirmation:
                                text: Vil du nulstille timeren?
                          - type: custom:button-card
                            show_name: false
                            show_state: false
                            icon: mdi:snowflake
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - box-shadow: var(--box-shadow-off)
                                - background: var(--custom-button-infobox)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                navn:
                                  - font-size: 16px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                dage:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              navn: Isbad badevand
                              dage: |
                                [[[
                                  return states['sensor.udespa_isbad_timer'].state;
                                ]]]
                            tap_action:
                              action: call-service
                              service: script.isbad_nulstil_badevand_timer
                              target: {}
                              confirmation:
                                text: Vil du nulstille timeren?
                        columns: 1
                    columns: 2
                  - type: custom:button-card
                    show_name: false
                    show_icon: false
                    show_state: false
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    variables:
                      dot1_size: 20px
                      dot1_color: var(--icon-farve-2)
                      dot2_size: 40px
                      dot2_color: var(--icon-farve-2)
                      gap: 5px
                    styles:
                      card:
                        - background: none
                        - border: none
                        - box-shadow: none
                        - border-radius: 0
                        - padding: 0
                        - height: 20px
                      grid:
                        - grid-template-areas: '"dots"'
                        - grid-template-columns: 1fr
                        - grid-template-rows: 1fr
                        - height: 100%
                      custom_fields:
                        dots:
                          - display: flex
                          - align-items: center
                          - justify-content: center
                          - height: 100%
                          - width: 100%
                          - line-height: 0
                    custom_fields:
                      dots: |
                        [[[
                          const s1  = variables.dot1_size  || '18px';
                          const c1  = variables.dot1_color || 'var(--primary-text-color)';
                          const s2  = variables.dot2_size  || '18px';
                          const c2  = variables.dot2_color || 'var(--primary-text-color)';
                          const gap = variables.gap        || '8px';

                          return `
                            <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                            <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                          `;
                        ]]]
                columns: 1
        columns: 1
        view_layout:
          column: 2
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/udespa
    layout:
      max_cols: 2
      max_width: 580
      width: 630
      height: null
  - title: lys
    path: lys
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: LYS
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.alrum
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 70px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 308px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.alrum
                show_name: false
                show_state: false
                icon: mdi:silverware-variant
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_alrum'] &&
                          states['switch.ferie_alrum'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_alrum']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_alrum'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_alrum']
                          &&
                          states['switch.adaptive_lighting_adapt_color_alrum'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Alrum
                  tilstand: |
                    [[[ 
                      if (states['light.alrum'] && states['light.alrum'].state === 'on') {
                        const brightness = states['light.alrum'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.alrum_lys_power'] ? states['sensor.alrum_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_alrum'] ? states['sensor.lights_on_in_alrum'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_alrum'] ? states['sensor.lights_in_alrum'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/alrum
              - type: custom:my-slider-v2
                entity: light.alrum
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.christine
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 70px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 308px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.christine
                show_name: false
                show_state: false
                icon: mdi:teddy-bear
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_christine'] &&
                          states['switch.ferie_christine'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_christine']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_christine'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_christine']
                          &&
                          states['switch.adaptive_lighting_adapt_color_christine'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Christine
                  tilstand: |
                    [[[ 
                      if (states['light.christine'] && states['light.christine'].state === 'on') {
                        const brightness = states['light.christine'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.christine_lys_power'] ? states['sensor.christine_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_christine'] ? states['sensor.lights_on_in_christine'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_christine'] ? states['sensor.lights_in_christine'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/christine
              - type: custom:my-slider-v2
                entity: light.christine
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.have
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 70px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 308px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.have
                show_name: false
                show_state: false
                icon: mdi:tree
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_have'] &&
                          states['switch.ferie_have'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_have']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_have'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_have'] &&
                          states['switch.adaptive_lighting_adapt_color_have'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Have
                  tilstand: |
                    [[[ 
                      if (states['light.have'] && states['light.have'].state === 'on') {
                        const brightness = states['light.have'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.have_lys_power'] ? states['sensor.have_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_have'] ? states['sensor.lights_on_in_have'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_have'] ? states['sensor.lights_in_have'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/have
              - type: custom:my-slider-v2
                entity: light.have
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.opholdsrum
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 70px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 308px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.opholdsrum
                show_name: false
                show_state: false
                icon: mdi:human-male-female-child
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_opholdsrum'] &&
                          states['switch.ferie_opholdsrum'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_opholdsrum']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_opholdsrum'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_opholdsrum']
                          &&
                          states['switch.adaptive_lighting_adapt_color_opholdsrum'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Opholdsrum
                  tilstand: |
                    [[[ 
                      if (states['light.opholdsrum'] && states['light.opholdsrum'].state === 'on') {
                        const brightness = states['light.opholdsrum'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.opholdsrum_lys_power'] ? states['sensor.opholdsrum_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_opholdsrum'] ? states['sensor.lights_on_in_opholdsrum'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_opholdsrum'] ? states['sensor.lights_in_opholdsrum'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/opholdsrum
              - type: custom:my-slider-v2
                entity: light.opholdsrum
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
        columns: 1
        view_layout:
          column: 1
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.badevaerelse
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 35px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 320px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.badevaerelse
                show_name: false
                show_state: false
                icon: mdi:shower-head
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_badevaerelse'] &&
                          states['switch.ferie_badevaerelse'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_badevaerelse']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_badevaerelse'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_badevaerelse']
                          &&
                          states['switch.adaptive_lighting_adapt_color_badevaerelse'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Badeværelse
                  tilstand: |
                    [[[ 
                      if (states['light.badevaerelse'] && states['light.badevaerelse'].state === 'on') {
                        const brightness = states['light.badevaerelse'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.badevaerelse_lys_power'] ? states['sensor.badevaerelse_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_badevaerelse'] ? states['sensor.lights_on_in_badevaerelse'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_badevaerelse'] ? states['sensor.lights_in_badevaerelse'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/badevaerelse
              - type: custom:my-slider-v2
                entity: light.badevaerelse
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.entre
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 35px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 320px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.entre
                show_name: false
                show_state: false
                icon: mdi:door-open
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_entre'] &&
                          states['switch.ferie_entre'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_entre']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_entre'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_entre']
                          &&
                          states['switch.adaptive_lighting_adapt_color_entre'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Entre
                  tilstand: |
                    [[[ 
                      if (states['light.entre'] && states['light.entre'].state === 'on') {
                        const brightness = states['light.entre'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.entre_lys_power'] ? states['sensor.entre_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_entre'] ? states['sensor.lights_on_in_entre'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_entre'] ? states['sensor.lights_in_entre'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/entre
              - type: custom:my-slider-v2
                entity: light.entre
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.julian
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 35px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 320px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.julian
                show_name: false
                show_state: false
                icon: mdi:trophy-variant
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_julian'] &&
                          states['switch.ferie_julian'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_julian']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_julian'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_julian']
                          &&
                          states['switch.adaptive_lighting_adapt_color_julian'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Julian
                  tilstand: |
                    [[[ 
                      if (states['light.julian'] && states['light.julian'].state === 'on') {
                        const brightness = states['light.julian'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.julian_lys_power'] ? states['sensor.julian_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_julian'] ? states['sensor.lights_on_in_julian'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_julian'] ? states['sensor.lights_in_julian'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/julian
              - type: custom:my-slider-v2
                entity: light.julian
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.sovevaerelse
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 35px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 320px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.sovevaerelse
                show_name: false
                show_state: false
                icon: mdi:bed
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_sovevaerelse'] &&
                          states['switch.ferie_sovevaerelse'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_sovevaerelse']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_sovevaerelse'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_sovevaerelse']
                          &&
                          states['switch.adaptive_lighting_adapt_color_sovevaerelse'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Soveværelse
                  tilstand: |
                    [[[ 
                      if (states['light.sovevaerelse'] && states['light.sovevaerelse'].state === 'on') {
                        const brightness = states['light.sovevaerelse'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.sovevaerelse_lys_power'] ? states['sensor.sovevaerelse_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_sovevaerelse'] ? states['sensor.lights_on_in_sovevaerelse'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_sovevaerelse'] ? states['sensor.lights_in_sovevaerelse'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/sovevaerelse
              - type: custom:my-slider-v2
                entity: light.sovevaerelse
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-chips-card
            chips:
              - type: entity
                entity: sensor.alle_lys_power
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
              - type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:lightbulb-on
                content: >-
                  {{ states('sensor.all_lights_on') }} / {{
                  states('sensor.all_lights') }}
              - type: entity
                entity: sensor.alle_lys_daily_energy_cost
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:cash-multiple
            alignment: end
            card_mod:
              style: |
                ha-card {
                  --chip-border-width: 0;
                  --chip-box-shadow: none;
                  --chip-background: none;
                  margin-top: 20px;
                  margin-bottom: 8px;
                  margin-left: -100px;
                  --chip-icon-size: 24px;
                  --chip-font-size: 24px;
                  --chip-font-weight: normal;
                }
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.bryggers
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 35px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 320px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.bryggers
                show_name: false
                show_state: false
                icon: mdi:washing-machine
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_bryggers'] &&
                          states['switch.ferie_bryggers'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_bryggers']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_bryggers'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_bryggers']
                          &&
                          states['switch.adaptive_lighting_adapt_color_bryggers'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Bryggers
                  tilstand: |
                    [[[ 
                      if (states['light.bryggers'] && states['light.bryggers'].state === 'on') {
                        const brightness = states['light.bryggers'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.bryggers_lys_power'] ? states['sensor.bryggers_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_bryggers'] ? states['sensor.lights_on_in_bryggers'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_bryggers'] ? states['sensor.lights_in_bryggers'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/bryggers
              - type: custom:my-slider-v2
                entity: light.bryggers
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.garage
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 35px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 320px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.garage
                show_name: false
                show_state: false
                icon: mdi:garage-variant
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_garage'] &&
                          states['switch.ferie_garage'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_garage']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_garage'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_garage']
                          &&
                          states['switch.adaptive_lighting_adapt_color_garage'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Garage
                  tilstand: |
                    [[[ 
                      if (states['light.garage'] && states['light.garage'].state === 'on') {
                        const brightness = states['light.garage'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.garage_lys_power'] ? states['sensor.garage_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_garage'] ? states['sensor.lights_on_in_garage'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_garage'] ? states['sensor.lights_in_garage'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/garage
              - type: custom:my-slider-v2
                entity: light.garage
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.kokken
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 35px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 320px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.kokken
                show_name: false
                show_state: false
                icon: mdi:pot-mix
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_kokken'] &&
                          states['switch.ferie_kokken'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_kokken']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_kokken'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_kokken']
                          &&
                          states['switch.adaptive_lighting_adapt_color_kokken'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Køkken
                  tilstand: |
                    [[[ 
                      if (states['light.kokken'] && states['light.kokken'].state === 'on') {
                        const brightness = states['light.kokken'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.kokken_lys_power'] ? states['sensor.kokken_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_kokken'] ? states['sensor.lights_on_in_kokken'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_kokken'] ? states['sensor.lights_in_kokken'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/kokken
              - type: custom:my-slider-v2
                entity: light.kokken
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
          - type: vertical-stack
            cards:
              - type: custom:button-card
                entity: light.stue
                show_name: false
                state:
                  - value: 'on'
                    icon: mdi:toggle-switch
                    styles:
                      icon:
                        - color: var(--primary-color)
                  - value: 'off'
                    icon: mdi:toggle-switch-off-outline
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - box-shadow: null
                    - width: 35px
                    - height: 35px
                    - position: absolute
                    - z-index: 1
                    - top: 100px
                    - left: 320px
                  grid:
                    - position: absolute
                  icon:
                    - width: 30px
                    - height: 40px
                tap_action:
                  action: toggle
              - type: custom:button-card
                entity: light.stue
                show_name: false
                show_state: false
                icon: mdi:sofa
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: var(--light-icon-on)
                      card:
                        - background: var(--light-on)
                        - box-shadow: var(--box-shadow-on)
                      custom_fields:
                        rum:
                          - color: var(--light-text-on)
                        tilstand:
                          - color: var(--light-text-on)
                        power_icon:
                          - color: var(--light-chip-on)
                        power_data:
                          - color: var(--light-chip-on)
                        lys_icon:
                          - color: var(--light-chip-on)
                        lys_data:
                          - color: var(--light-chip-on)
                styles:
                  card:
                    - border-radius: var(--border-radius-1)
                    - background: var(--light-off)
                    - box-shadow: var(--box-shadow-off)
                    - height: 130px
                    - position: absolute
                  icon:
                    - width: 40px
                    - height: 40px
                    - color: var(--light-icon-off)
                    - left: 20px
                    - top: 10px
                  grid:
                    - position: absolute
                  custom_fields:
                    rum:
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - right: 20px
                      - top: 10px
                      - color: var(--light-text-off)
                    tilstand:
                      - font-size: 12px
                      - position: absolute
                      - right: 20px
                      - top: 35px
                      - color: var(--light-text-off)
                    power_icon:
                      - position: absolute
                      - left: 20px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    power_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 40px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_icon:
                      - position: absolute
                      - left: 100px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    lys_data:
                      - font-size: 12px
                      - font-weight: bold
                      - position: absolute
                      - left: 120px
                      - bottom: 10px
                      - color: var(--light-chip-off)
                    ferie_icon:
                      - position: absolute
                      - left: 180px
                      - bottom: 10px
                      - color: >
                          [[[ return states['switch.ferie_stue'] &&
                          states['switch.ferie_stue'].state === 'on' ?
                          'var(--light-chip-on)' : 'var(--light-chip-off)'; ]]]
                    brightness_icon:
                      - position: absolute
                      - left: 210px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_brightness_stue']
                          &&
                          states['switch.adaptive_lighting_adapt_brightness_stue'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]
                    farve_icon:
                      - position: absolute
                      - left: 240px
                      - bottom: 10px
                      - color: >
                          [[[ return
                          states['switch.adaptive_lighting_adapt_color_stue'] &&
                          states['switch.adaptive_lighting_adapt_color_stue'].state
                          === 'on' ? 'var(--light-chip-on)' :
                          'var(--light-chip-off)'; ]]]          
                custom_fields:
                  rum: Stue
                  tilstand: |
                    [[[ 
                      if (states['light.stue'] && states['light.stue'].state === 'on') {
                        const brightness = states['light.stue'].attributes.brightness || 0;
                        const percentage = Math.round((brightness / 255) * 100);
                        return `${percentage}%`;
                      } else {
                        return 'Slukket';
                      }
                    ]]]
                  power_icon: |
                    <ha-icon
                      icon="mdi:lightning-bolt"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  power_data: |
                    [[[
                      return states['sensor.stue_lys_power'] ? states['sensor.stue_lys_power'].state + ' W' : 'N/A';
                    ]]]
                  lys_icon: |
                    <ha-icon
                      icon="mdi:lightbulb-on"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  lys_data: |
                    [[[
                      const lightsOn = states['sensor.lights_on_in_stue'] ? states['sensor.lights_on_in_stue'].state : 'N/A';
                      const lightsIn = states['sensor.lights_in_stue'] ? states['sensor.lights_in_stue'].state : 'N/A';
                      
                      if (lightsOn !== 'N/A' && lightsIn !== 'N/A') {
                        return `${lightsOn} / ${lightsIn}`;
                      } else {
                        return 'N/A';
                      }
                    ]]]
                  ferie_icon: |
                    <ha-icon
                      icon="mdi:home-export-outline"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  brightness_icon: |
                    <ha-icon
                      icon="mdi:brightness-4"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                  farve_icon: |
                    <ha-icon
                      icon="mdi:sun-thermometer"
                      style="--mdc-icon-size: 16px;"></ha-icon>
                tap_action:
                  action: navigate
                  navigation_path: /wall-panel/stue
              - type: custom:my-slider-v2
                entity: light.stue
                allowTapping: false
                allowSliding: true
                showMin: true
                min: 1
                max: 100
                styles:
                  container:
                    - box-shadow: |
                        [[[ 
                          return entity.state === 'on' 
                            ? 'var(--box-shadow-on)' 
                            : 'none'; 
                        ]]]
                    - border-radius: var(--border-radius-1)
                    - justify-self: center
                  card:
                    - height: 30px
                    - width: 95%
                    - justify-self: center
                    - margin-top: 50px
                    - margin-bottom: 40px
                    - border-radius: var(--border-radius-1)
                  progress:
                    - background: |
                        [[[
                          const light = entity;
                          if (light.state === 'off' || !light.attributes.rgb_color) {
                            return 'rgba(217, 217, 217, 0.5)';
                          }
                          const rgb = light.attributes.rgb_color;
                          return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                        ]]]
                  thumb:
                    - width: 1px
                    - height: 50%
                    - background: '#ffffff'
                    - top: 26%
                    - margin-right: 12px
                  track:
                    - background: rgba(217, 217, 217, 0.5)
        columns: 1
        view_layout:
          column: 3
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
    type: custom:vertical-layout
    layout:
      max_cols: 3
      max_width: 380
      width: 430
      height: null
    icon: mdi:lightbulb-group
  - type: custom:vertical-layout
    path: alrum
    title: Alrum
    icon: mdi:silverware-variant
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ALRUM
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_alrum
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_alrum
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_alrum
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_alrum
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_alrum
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_alrum
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.alrum_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_alrum') }} / {{
                      states('sensor.lights_in_alrum') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.alrum
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - margin-top: 20px
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.alrum
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.alrum
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum
                      tilstand: |
                        [[[ 
                          if (states['light.alrum'] && states['light.alrum'].state === 'on') {
                            const brightness = states['light.alrum'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.alrum
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.alrum_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_alrum'].state === 'on' && 
                                states['input_text.set_scene_alrum'].state === 'scene.alrum_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_alrum'].state === 'scene.alrum_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_alrum'].state !== 'scene.alrum_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_alrum
                          service_data:
                            scene: scene.alrum_1_klar
                      - type: custom:button-card
                        entity: scene.alrum_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_alrum'].state === 'on' && 
                                states['input_text.set_scene_alrum'].state === 'scene.alrum_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_alrum'].state === 'scene.alrum_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_alrum'].state !== 'scene.alrum_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_alrum
                          service_data:
                            scene: scene.alrum_2_koncentration
                      - type: custom:button-card
                        entity: scene.alrum_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_alrum'].state === 'on' && 
                                states['input_text.set_scene_alrum'].state === 'scene.alrum_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_alrum'].state === 'scene.alrum_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_alrum'].state !== 'scene.alrum_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_alrum
                          service_data:
                            scene: scene.alrum_3_daempet
                      - type: custom:button-card
                        entity: scene.alrum_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_alrum'].state === 'on' && 
                                states['input_text.set_scene_alrum'].state === 'scene.alrum_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_alrum'].state === 'scene.alrum_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_alrum'].state !== 'scene.alrum_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_alrum
                          service_data:
                            scene: scene.alrum_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.alrum_1_klar
                        name: Sunset
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/sunset.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.alrum_1_klar
                        name: Party
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/party.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.alrum_1_klar
                        name: Romantik
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/romantik.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.alrum_1_klar
                        name: Jul
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/christmas.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_alrum
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_alrum
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_alrum
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.alrum_1
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - margin-top: 20px
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - margin-top: 20px
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.alrum_1
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.alrum_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 1
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_1'] && states['light.alrum_1'].state === 'on') {
                            const brightness = states['light.alrum_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.alrum_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.alrum_2
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - margin-top: 20px
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - margin-top: 20px
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.alrum_2
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.alrum_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 2
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_2'] && states['light.alrum_2'].state === 'on') {
                            const brightness = states['light.alrum_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.alrum_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.alrum_3
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - margin-top: 20px
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - margin-top: 20px
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.alrum_3
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.alrum_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 3
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_3'] && states['light.alrum_3'].state === 'on') {
                            const brightness = states['light.alrum_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.alrum_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_4
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.alrum_4
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - margin-top: 20px
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - margin-top: 20px
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.alrum_4
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.alrum_4
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 4
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_4'] && states['light.alrum_4'].state === 'on') {
                            const brightness = states['light.alrum_4'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.alrum_4
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_5
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.alrum_5
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - margin-top: 20px
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.alrum_5
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.alrum_5
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 5
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_5'] && states['light.alrum_5'].state === 'on') {
                            const brightness = states['light.alrum_5'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.alrum_5
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_6
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.alrum_6
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - margin-top: 20px
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.alrum_6
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.alrum_6
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 6
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_6'] && states['light.alrum_6'].state === 'on') {
                            const brightness = states['light.alrum_6'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.alrum_6
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_7
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.alrum_7
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - margin-top: 20px
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.alrum_7
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.alrum_7
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 7
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_7'] && states['light.alrum_7'].state === 'on') {
                            const brightness = states['light.alrum_7'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.alrum_7
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.spisebord_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.spisebord_1
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - margin-top: 20px
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.spisebord_1
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.spisebord_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Spisebord 1
                      tilstand: |
                        [[[ 
                          if (states['light.spisebord_1'] && states['light.spisebord_1'].state === 'on') {
                            const brightness = states['light.spisebord_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.spisebord_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.spisebord_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        target: {}
                        data:
                          dismissable: true
                          content:
                            type: vertical-stack
                            cards:
                              - type: custom:my-slider-v2
                                entity: light.spisebord_2
                                mode: temperature
                                allowTapping: true
                                allowSliding: true
                                styles:
                                  container:
                                    - box-shadow: |
                                        [[[ 
                                          return entity.state === 'on' 
                                            ? 'var(--box-shadow-on)' 
                                            : 'none'; 
                                        ]]]
                                    - border-radius: var(--border-radius-1)
                                    - justify-self: center
                                  card:
                                    - height: 70px
                                    - width: 90%
                                    - justify-self: center
                                    - margin-top: 20px
                                    - border-radius: var(--border-radius-1)
                                  progress:
                                    - background: null
                                  thumb:
                                    - width: 14px
                                    - height: 100%
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                        60%, rgba(255,255,255,1) 55%)
                                  track:
                                    - background: >-
                                        linear-gradient(270deg,
                                        rgba(255,138,0,1) 0%,
                                        rgba(255,180,100,1) 20%,
                                        rgba(255,220,180,1) 40%,
                                        rgba(230,240,255,1) 60%,
                                        rgba(200,230,255,1) 80%,
                                        rgba(180,220,255,1) 100%)
                              - shorten_cards: false
                                consolidate_entities: false
                                child_card: false
                                hide_header: true
                                show_header_icon: false
                                header: ''
                                color_wheel: false
                                persist_features: false
                                brightness: false
                                color_temp: false
                                white_value: false
                                color_picker: true
                                speed: false
                                intensity: false
                                force_features: false
                                show_slider_percent: false
                                full_width_sliders: false
                                brightness_icon: weather-sunny
                                white_icon: file-word-box
                                temperature_icon: thermometer
                                speed_icon: speedometer
                                intensity_icon: transit-connection-horizontal
                                type: custom:light-entity-card
                                entity: light.spisebord_2
                                effects_list: false
                                card_mod:
                                  style: |
                                    ha-card {
                                      background: none;
                                    }
                          card_mod:
                            style:
                              ha-dialog$: |
                                div.mdc-dialog__container {
                                  --vertical-align-dialog: center !important;
                                }
                              .: |
                                ha-dialog {
                                  --dialog-backdrop-filter: blur(0.8em); 
                                }
                  - type: custom:button-card
                    entity: light.spisebord_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Spisebord 2
                      tilstand: |
                        [[[ 
                          if (states['light.spisebord_2'] && states['light.spisebord_2'].state === 'on') {
                            const brightness = states['light.spisebord_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.spisebord_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
  - type: custom:vertical-layout
    path: badevaerelse
    title: Badeværelse
    icon: mdi:shower
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: BADEVÆRELSE
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_badevaerelse
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_badevaerelse
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_badevaerelse
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_badevaerelse
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_badevaerelse
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_badevaerelse
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.badevaerelse_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_badevaerelse') }} / {{
                      states('sensor.lights_in_badevaerelse') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.badevaerelse
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.badevaerelse
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.badevaerelse
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.badevaerelse
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Badeværelse
                      tilstand: |
                        [[[ 
                          if (states['light.badevaerelse'] && states['light.badevaerelse'].state === 'on') {
                            const brightness = states['light.badevaerelse'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.badevaerelse
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.badevaerelse_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_badevaerelse'].state === 'on' && 
                                states['input_text.set_scene_badevaerelse'].state === 'scene.badevaerelse_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_badevaerelse'].state === 'scene.badevaerelse_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_badevaerelse'].state !== 'scene.badevaerelse_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_badevaerelse
                          service_data:
                            scene: scene.badevaerelse_1_klar
                      - type: custom:button-card
                        entity: scene.badevaerelse_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_badevaerelse'].state === 'on' && 
                                states['input_text.set_scene_badevaerelse'].state === 'scene.badevaerelse_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_badevaerelse'].state === 'scene.badevaerelse_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_badevaerelse'].state !== 'scene.badevaerelse_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_badevaerelse
                          service_data:
                            scene: scene.badevaerelse_2_koncentration
                      - type: custom:button-card
                        entity: scene.badevaerelse_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_badevaerelse'].state === 'on' && 
                                states['input_text.set_scene_badevaerelse'].state === 'scene.badevaerelse_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_badevaerelse'].state === 'scene.badevaerelse_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_badevaerelse'].state !== 'scene.badevaerelse_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_badevaerelse
                          service_data:
                            scene: scene.badevaerelse_3_daempet
                      - type: custom:button-card
                        entity: scene.badevaerelse_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_badevaerelse'].state === 'on' && 
                                states['input_text.set_scene_badevaerelse'].state === 'scene.badevaerelse_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_badevaerelse'].state === 'scene.badevaerelse_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_badevaerelse'].state !== 'scene.badevaerelse_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_badevaerelse
                          service_data:
                            scene: scene.badevaerelse_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_badevaerelse
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_badevaerelse
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_badevaerelse
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.bad_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.bad_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.bad_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Bad 1
                      tilstand: |
                        [[[ 
                          if (states['light.bad_1'] && states['light.bad_1'].state === 'on') {
                            const brightness = states['light.bad_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.bad_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.bad_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.bad_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_2
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.bad_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Bad 2
                      tilstand: |
                        [[[ 
                          if (states['light.bad_2'] && states['light.bad_2'].state === 'on') {
                            const brightness = states['light.bad_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.bad_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.bad_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.bad_3
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_3
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.bad_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Bad 3
                      tilstand: |
                        [[[ 
                          if (states['light.bad_3'] && states['light.bad_3'].state === 'on') {
                            const brightness = states['light.bad_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.bad_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.bad_4
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.bad_4
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_4
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.bad_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Bad 4
                      tilstand: |
                        [[[ 
                          if (states['light.bad_1'] && states['light.bad_1'].state === 'on') {
                            const brightness = states['light.bad_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.bad_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.bad_5
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.bad_5
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.bad_5
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.bad_5
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Bad 5
                      tilstand: |
                        [[[ 
                          if (states['light.bad_5'] && states['light.bad_5'].state === 'on') {
                            const brightness = states['light.bad_5'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.bad_5
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.bad_6
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.bad_6
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.bad_6
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.bad_6
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Bad 6
                      tilstand: |
                        [[[ 
                          if (states['light.bad_6'] && states['light.bad_6'].state === 'on') {
                            const brightness = states['light.bad_6'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.bad_6
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.bad_7
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.bad_7
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.bad_7
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.bad_7
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Bad 7
                      tilstand: |
                        [[[ 
                          if (states['light.bad_7'] && states['light.bad_7'].state === 'on') {
                            const brightness = states['light.bad_7'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.bad_7
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
  - type: custom:vertical-layout
    path: bryggers
    title: Bryggers
    icon: mdi:washing-machine
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: BRYGGERS
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_bryggers
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_bryggers
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_bryggers
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_bryggers
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_bryggers
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_bryggers
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.bryggers_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_bryggers') }} / {{
                      states('sensor.lights_in_bryggers') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.bryggers
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.bryggers
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.bryggers
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.bryggers
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Bryggers
                      tilstand: |
                        [[[ 
                          if (states['light.bryggers'] && states['light.bryggers'].state === 'on') {
                            const brightness = states['light.bryggers'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.bryggers
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.bryggers_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_bryggers'].state === 'on' && 
                                states['input_text.set_scene_bryggers'].state === 'scene.bryggers_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_bryggers'].state === 'scene.bryggers_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_bryggers'].state !== 'scene.bryggers_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_bryggers
                          service_data:
                            scene: scene.bryggers_1_klar
                      - type: custom:button-card
                        entity: scene.bryggers_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_bryggers'].state === 'on' && 
                                states['input_text.set_scene_bryggers'].state === 'scene.bryggers_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_bryggers'].state === 'scene.bryggers_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_bryggers'].state !== 'scene.bryggers_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_bryggers
                          service_data:
                            scene: scene.bryggers_2_koncentration
                      - type: custom:button-card
                        entity: scene.bryggers_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_bryggers'].state === 'on' && 
                                states['input_text.set_scene_bryggers'].state === 'scene.bryggers_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_bryggers'].state === 'scene.bryggers_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_bryggers'].state !== 'scene.bryggers_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_bryggers
                          service_data:
                            scene: scene.bryggers_3_daempet
                      - type: custom:button-card
                        entity: scene.bryggers_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_bryggers'].state === 'on' && 
                                states['input_text.set_scene_bryggers'].state === 'scene.bryggers_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_bryggers'].state === 'scene.bryggers_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_bryggers'].state !== 'scene.bryggers_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_bryggers
                          service_data:
                            scene: scene.bryggers_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_bryggers
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_bryggers
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_bryggers
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.bryggersbord
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.bryggersbord
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.bryggersbord
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Bryggersbord
                      tilstand: |
                        [[[ 
                          if (states['light.bryggersbord'] && states['light.bryggersbord'].state === 'on') {
                            const brightness = states['light.bryggersbord'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.bryggersbord
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.vaskeskab
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.vaskeskab
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.vaskeskab
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Vaskeskab
                      tilstand: |
                        [[[ 
                          if (states['light.vaskeskab'] && states['light.vaskeskab'].state === 'on') {
                            const brightness = states['light.vaskeskab'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.vaskeskab
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
  - type: custom:vertical-layout
    path: christine
    title: Christine
    icon: mdi:teddy-bear
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: CHRISTINE
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_christine
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_christine
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_christine
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_christine
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_christine
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_christine
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.christine_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_christine') }} / {{
                      states('sensor.lights_in_christine') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.christine
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.christine
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.christine
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.christine
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Christine
                      tilstand: |
                        [[[ 
                          if (states['light.christine'] && states['light.christine'].state === 'on') {
                            const brightness = states['light.christine'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.christine
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.christine_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_christine'].state === 'on' && 
                                states['input_text.set_scene_christine'].state === 'scene.christine_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_christine'].state === 'scene.christine_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_christine'].state !== 'scene.christine_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_christine
                          service_data:
                            scene: scene.christine_1_klar
                      - type: custom:button-card
                        entity: scene.christine_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_christine'].state === 'on' && 
                                states['input_text.set_scene_christine'].state === 'scene.christine_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_christine'].state === 'scene.christine_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_christine'].state !== 'scene.christine_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_christine
                          service_data:
                            scene: scene.christine_2_koncentration
                      - type: custom:button-card
                        entity: scene.christine_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_christine'].state === 'on' && 
                                states['input_text.set_scene_christine'].state === 'scene.christine_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_christine'].state === 'scene.christine_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_christine'].state !== 'scene.christine_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_christine
                          service_data:
                            scene: scene.christine_3_daempet
                      - type: custom:button-card
                        entity: scene.christine_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_christine'].state === 'on' && 
                                states['input_text.set_scene_christine'].state === 'scene.christine_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_christine'].state === 'scene.christine_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_christine'].state !== 'scene.christine_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_christine
                          service_data:
                            scene: scene.christine_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.christine_1_klar
                        name: Sunset
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/sunset.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.christine_1_klar
                        name: Party
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/party.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.christine_1_klar
                        name: Romantik
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/romantik.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.christine_1_klar
                        name: Jul
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/christmas.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_christine
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_christine
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_christine
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.christine_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.christine_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.christine_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Christine 1
                      tilstand: |
                        [[[ 
                          if (states['light.christine_1'] && states['light.christine_1'].state === 'on') {
                            const brightness = states['light.christine_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.christine_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.christine_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.christine_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.christine_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Christine 2
                      tilstand: |
                        [[[ 
                          if (states['light.christine_2'] && states['light.christine_2'].state === 'on') {
                            const brightness = states['light.christine_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.christine_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.christine_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.christine_3
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.christine_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Christine 3
                      tilstand: |
                        [[[ 
                          if (states['light.christine_3'] && states['light.christine_3'].state === 'on') {
                            const brightness = states['light.christine_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.christine_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
  - type: custom:vertical-layout
    path: entre
    title: Entre
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ENTRE
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_entre
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_entre
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_entre
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_entre
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_entre
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_entre
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.entre_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_entre') }} / {{
                      states('sensor.lights_in_entre') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entre
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entre
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.entre
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entre
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entre
                      tilstand: |
                        [[[ 
                          if (states['light.entre'] && states['light.entre'].state === 'on') {
                            const brightness = states['light.entre'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.entre
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.entre_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_entre'].state === 'on' && 
                                states['input_text.set_scene_entre'].state === 'scene.entre_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_entre'].state === 'scene.entre_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_entre'].state !== 'scene.entre_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_entre
                          service_data:
                            scene: scene.entre_1_klar
                      - type: custom:button-card
                        entity: scene.entre_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_entre'].state === 'on' && 
                                states['input_text.set_scene_entre'].state === 'scene.entre_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_entre'].state === 'scene.entre_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_entre'].state !== 'scene.entre_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_entre
                          service_data:
                            scene: scene.entre_2_koncentration
                      - type: custom:button-card
                        entity: scene.entre_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_entre'].state === 'on' && 
                                states['input_text.set_scene_entre'].state === 'scene.entre_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_entre'].state === 'scene.entre_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_entre'].state !== 'scene.entre_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_entre
                          service_data:
                            scene: scene.entre_3_daempet
                      - type: custom:button-card
                        entity: scene.entre_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_entre'].state === 'on' && 
                                states['input_text.set_scene_entre'].state === 'scene.entre_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_entre'].state === 'scene.entre_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_entre'].state !== 'scene.entre_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_entre
                          service_data:
                            scene: scene.entre_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_entre
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_entre
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_entre
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entre_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entre_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entre_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entre 1
                      tilstand: |
                        [[[ 
                          if (states['light.entre_1'] && states['light.entre_1'].state === 'on') {
                            const brightness = states['light.entre_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.entre_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entre_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entre_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entre_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entre 2
                      tilstand: |
                        [[[ 
                          if (states['light.entre_2'] && states['light.entre_2'].state === 'on') {
                            const brightness = states['light.entre_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.entre_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entre_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entre_3
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entre_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entre 3
                      tilstand: |
                        [[[ 
                          if (states['light.entre_3'] && states['light.entre_3'].state === 'on') {
                            const brightness = states['light.entre_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.entre_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entre_4
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entre_4
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entre_4
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entre 4
                      tilstand: |
                        [[[ 
                          if (states['light.entre_4'] && states['light.entre_4'].state === 'on') {
                            const brightness = states['light.entre_4'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.entre_4
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entre_5
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entre_5
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.entre_5
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entre_5
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entre 5
                      tilstand: |
                        [[[ 
                          if (states['light.entre_5'] && states['light.entre_5'].state === 'on') {
                            const brightness = states['light.entre_5'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.entre_5
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entre_6
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entre_6
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.entre_6
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entre_6
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entre 6
                      tilstand: |
                        [[[ 
                          if (states['light.entre_6'] && states['light.entre_6'].state === 'on') {
                            const brightness = states['light.entre_6'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.entre_6
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entre_7
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entre_7
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.entre_7
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entre_7
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entre 7
                      tilstand: |
                        [[[ 
                          if (states['light.entre_7'] && states['light.entre_7'].state === 'on') {
                            const brightness = states['light.entre_7'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.entre_7
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entre_8
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entre_8
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.entre_8
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entre_8
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entre 8
                      tilstand: |
                        [[[ 
                          if (states['light.entre_8'] && states['light.entre_8'].state === 'on') {
                            const brightness = states['light.entre_8'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.entre_8
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.entreskab
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.entreskab
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.entreskab
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.entreskab
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Entreskab
                      tilstand: |
                        [[[ 
                          if (states['light.entreskab'] && states['light.entreskab'].state === 'on') {
                            const brightness = states['light.entreskab'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.entreskab
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
    icon: mdi:door
  - type: custom:vertical-layout
    path: have
    title: Have
    icon: mdi:tree
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: HAVE
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.have_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_have') }} / {{
                      states('sensor.lights_in_have') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.have
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.have
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.have
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.have
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Have
                      tilstand: |
                        [[[ 
                          if (states['light.have'] && states['light.have'].state === 'on') {
                            const brightness = states['light.have'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.have
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 65px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.udespa
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.udespa
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.udespa
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Udespa
                      tilstand: |
                        [[[ 
                          if (states['light.udespa'] && states['light.udespa'].state === 'on') {
                            const brightness = states['light.udespa'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.udespa
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.udespa_light
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                        - top: 8px
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Udespa karlys
                      tilstand: |
                        [[[ 
                          if (states['light.udespa_light'] && states['light.udespa_light'].state === 'on') {
                            const brightness = states['light.udespa_light'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.udelys
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                        - top: 8px
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Udelys
                      tilstand: |
                        [[[ 
                          if (states['light.udelys'] && states['light.udelys'].state === 'on') {
                            const brightness = states['light.udelys'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.langs_huset
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                        - top: 8px
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Langs huset
                      tilstand: |
                        [[[ 
                          if (states['light.langs_huset'] && states['light.langs_huset'].state === 'on') {
                            const brightness = states['light.langs_huset'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
  - type: custom:vertical-layout
    path: garage
    title: Garage
    icon: mdi:garage-variant
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: GARAGE
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_garage
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_garage
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_garage
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_garage
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_garage
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_garage
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.garage_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_garage') }} / {{
                      states('sensor.lights_in_garage') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage
                      tilstand: |
                        [[[ 
                          if (states['light.garage'] && states['light.garage'].state === 'on') {
                            const brightness = states['light.garage'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.garage
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.garage_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_garage'].state === 'on' && 
                                states['input_text.set_scene_garage'].state === 'scene.garage_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_garage'].state === 'scene.garage_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_garage'].state !== 'scene.garage_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_garage
                          service_data:
                            scene: scene.garage_1_klar
                      - type: custom:button-card
                        entity: scene.garage_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_garage'].state === 'on' && 
                                states['input_text.set_scene_garage'].state === 'scene.garage_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_garage'].state === 'scene.garage_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_garage'].state !== 'scene.garage_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_garage
                          service_data:
                            scene: scene.garage_2_koncentration
                      - type: custom:button-card
                        entity: scene.garage_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_garage'].state === 'on' && 
                                states['input_text.set_scene_garage'].state === 'scene.garage_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_garage'].state === 'scene.garage_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_garage'].state !== 'scene.garage_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_garage
                          service_data:
                            scene: scene.garage_3_daempet
                      - type: custom:button-card
                        entity: scene.garage_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_garage'].state === 'on' && 
                                states['input_text.set_scene_garage'].state === 'scene.garage_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_garage'].state === 'scene.garage_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_garage'].state !== 'scene.garage_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_garage
                          service_data:
                            scene: scene.garage_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.garage_1_klar
                        name: Sunset
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/sunset.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.garage_1_klar
                        name: Party
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/party.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.garage_1_klar
                        name: Romantik
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/romantik.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.garage_1_klar
                        name: Jul
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/christmas.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_garage
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_garage
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_garage
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 1
                      tilstand: |
                        [[[ 
                          if (states['light.garage_1'] && states['light.garage_1'].state === 'on') {
                            const brightness = states['light.garage_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.garage_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 2
                      tilstand: |
                        [[[ 
                          if (states['light.garage_2'] && states['light.garage_2'].state === 'on') {
                            const brightness = states['light.garage_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.garage_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_3
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 3
                      tilstand: |
                        [[[ 
                          if (states['light.garage_3'] && states['light.garage_3'].state === 'on') {
                            const brightness = states['light.garage_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.garage_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_4
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_4
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_4
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 4
                      tilstand: |
                        [[[ 
                          if (states['light.garage_4'] && states['light.garage_4'].state === 'on') {
                            const brightness = states['light.garage_4'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.garage_4
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_5
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_5
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_5
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_5
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 5
                      tilstand: |
                        [[[ 
                          if (states['light.garage_5'] && states['light.garage_5'].state === 'on') {
                            const brightness = states['light.garage_5'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_5
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_6
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_6
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_6
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_6
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 6
                      tilstand: |
                        [[[ 
                          if (states['light.garage_6'] && states['light.garage_6'].state === 'on') {
                            const brightness = states['light.garage_6'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_6
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_7
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_7
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_7
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_7
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 7
                      tilstand: |
                        [[[ 
                          if (states['light.garage_7'] && states['light.garage_7'].state === 'on') {
                            const brightness = states['light.garage_7'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_7
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_8
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_8
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_8
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_8
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 8
                      tilstand: |
                        [[[ 
                          if (states['light.garage_8'] && states['light.garage_8'].state === 'on') {
                            const brightness = states['light.garage_8'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_8
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_9
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_9
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_9
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_9
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 9
                      tilstand: |
                        [[[ 
                          if (states['light.garage_9'] && states['light.garage_9'].state === 'on') {
                            const brightness = states['light.garage_9'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_9
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_10
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_10
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_10
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_10
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 10
                      tilstand: |
                        [[[ 
                          if (states['light.garage_10'] && states['light.garage_10'].state === 'on') {
                            const brightness = states['light.garage_10'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_10
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_11
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_11
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_11
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_11
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 11
                      tilstand: |
                        [[[ 
                          if (states['light.garage_11'] && states['light.garage_11'].state === 'on') {
                            const brightness = states['light.garage_11'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_11
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_12
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_12
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_12
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_12
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 12
                      tilstand: |
                        [[[ 
                          if (states['light.garage_12'] && states['light.garage_12'].state === 'on') {
                            const brightness = states['light.garage_12'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_12
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_13
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_13
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_13
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_13
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 13
                      tilstand: |
                        [[[ 
                          if (states['light.garage_13'] && states['light.garage_13'].state === 'on') {
                            const brightness = states['light.garage_13'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_13
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_14
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_14
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_14
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_14
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 14
                      tilstand: |
                        [[[ 
                          if (states['light.garage_14'] && states['light.garage_14'].state === 'on') {
                            const brightness = states['light.garage_14'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_14
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_15
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_15
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_15
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_15
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 15
                      tilstand: |
                        [[[ 
                          if (states['light.garage_15'] && states['light.garage_15'].state === 'on') {
                            const brightness = states['light.garage_15'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_15
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.garage_16
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.garage_16
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.garage_16
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.garage_16
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Garage 16
                      tilstand: |
                        [[[ 
                          if (states['light.garage_16'] && states['light.garage_16'].state === 'on') {
                            const brightness = states['light.garage_16'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.garage_16
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
  - type: custom:vertical-layout
    path: julian
    title: Julian
    icon: mdi:teddy-bear
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: JULIAN
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_julian
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_julian
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_julian
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_julian
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_julian
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_julian
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.julian_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_julian') }} / {{
                      states('sensor.lights_in_julian') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.julian
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.julian
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.julian
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.julian
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Julian
                      tilstand: |
                        [[[ 
                          if (states['light.julian'] && states['light.julian'].state === 'on') {
                            const brightness = states['light.julian'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.julian
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.julian_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_julian'].state === 'on' && 
                                states['input_text.set_scene_julian'].state === 'scene.julian_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_julian'].state === 'scene.julian_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_julian'].state !== 'scene.julian_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_julian
                          service_data:
                            scene: scene.julian_1_klar
                      - type: custom:button-card
                        entity: scene.julian_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_julian'].state === 'on' && 
                                states['input_text.set_scene_julian'].state === 'scene.julian_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_julian'].state === 'scene.julian_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_julian'].state !== 'scene.julian_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_julian
                          service_data:
                            scene: scene.julian_2_koncentration
                      - type: custom:button-card
                        entity: scene.julian_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_julian'].state === 'on' && 
                                states['input_text.set_scene_julian'].state === 'scene.julian_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_julian'].state === 'scene.julian_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_julian'].state !== 'scene.julian_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_julian
                          service_data:
                            scene: scene.julian_3_daempet
                      - type: custom:button-card
                        entity: scene.julian_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_julian'].state === 'on' && 
                                states['input_text.set_scene_julian'].state === 'scene.julian_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_julian'].state === 'scene.julian_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_julian'].state !== 'scene.julian_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_julian
                          service_data:
                            scene: scene.julian_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.julian_1_klar
                        name: Sunset
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/sunset.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.julian_1_klar
                        name: Party
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/party.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.julian_1_klar
                        name: Romantik
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/romantik.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.julian_1_klar
                        name: Jul
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/christmas.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_julian
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_julian
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_julian
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.julian_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.julian_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.julian_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Julian 1
                      tilstand: |
                        [[[ 
                          if (states['light.julian_1'] && states['light.julian_1'].state === 'on') {
                            const brightness = states['light.julian_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.julian_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.julian_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.julian_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.julian_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Julian 2
                      tilstand: |
                        [[[ 
                          if (states['light.julian_2'] && states['light.julian_2'].state === 'on') {
                            const brightness = states['light.julian_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.julian_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.julian_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.julian_3
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.julian_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Julian 3
                      tilstand: |
                        [[[ 
                          if (states['light.julian_3'] && states['light.julian_3'].state === 'on') {
                            const brightness = states['light.julian_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.julian_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.hugo
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.hugo
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.hugo
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Hugo
                      tilstand: |
                        [[[ 
                          if (states['light.hugo'] && states['light.hugo'].state === 'on') {
                            const brightness = states['light.hugo'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.hugo
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
  - type: custom:vertical-layout
    path: kokken
    title: Køkken
    icon: mdi:pot-steam
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: KØKKEN
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_kokken
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_kokken
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_kokken
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_kokken
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_kokken
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_kokken
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.kokken_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_kokken') }} / {{
                      states('sensor.lights_in_kokken') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.kokken
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.kokken
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.kokken
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.kokken
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Køkken
                      tilstand: |
                        [[[ 
                          if (states['light.kokken'] && states['light.kokken'].state === 'on') {
                            const brightness = states['light.kokken'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.kokken
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.kokken_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_kokken'].state === 'on' && 
                                states['input_text.set_scene_kokken'].state === 'scene.kokken_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_kokken'].state === 'scene.kokken_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_kokken'].state !== 'scene.kokken_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_kokken
                          service_data:
                            scene: scene.kokken_1_klar
                      - type: custom:button-card
                        entity: scene.kokken_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_kokken'].state === 'on' && 
                                states['input_text.set_scene_kokken'].state === 'scene.kokken_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_kokken'].state === 'scene.kokken_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_kokken'].state !== 'scene.kokken_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_kokken
                          service_data:
                            scene: scene.kokken_2_koncentration
                      - type: custom:button-card
                        entity: scene.kokken_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_kokken'].state === 'on' && 
                                states['input_text.set_scene_kokken'].state === 'scene.kokken_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_kokken'].state === 'scene.kokken_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_kokken'].state !== 'scene.kokken_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_kokken
                          service_data:
                            scene: scene.kokken_3_daempet
                      - type: custom:button-card
                        entity: scene.kokken_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_kokken'].state === 'on' && 
                                states['input_text.set_scene_kokken'].state === 'scene.kokken_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_kokken'].state === 'scene.kokken_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_kokken'].state !== 'scene.kokken_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_kokken
                          service_data:
                            scene: scene.kokken_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.kokken_1_klar
                        name: Sunset
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/sunset.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.kokken_1_klar
                        name: Party
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/party.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.kokken_1_klar
                        name: Romantik
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/romantik.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.kokken_1_klar
                        name: Jul
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/christmas.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_kokken
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_kokken
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_kokken
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.kokken_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.kokken_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.kokken_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Køkken 1
                      tilstand: |
                        [[[ 
                          if (states['light.kokken_1'] && states['light.kokken_1'].state === 'on') {
                            const brightness = states['light.kokken_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.kokken_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.kokken_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.kokken_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.kokken_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Køkken 2
                      tilstand: |
                        [[[ 
                          if (states['light.kokken_2'] && states['light.kokken_2'].state === 'on') {
                            const brightness = states['light.kokken_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.kokken_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.kokken_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.kokken_3
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.kokken_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Køkken 3
                      tilstand: |
                        [[[ 
                          if (states['light.kokken_3'] && states['light.kokken_3'].state === 'on') {
                            const brightness = states['light.kokken_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.kokken_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
  - type: custom:vertical-layout
    path: opholdsrum
    title: Opholdsrum
    icon: mdi:human-male-female-child
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: OPHOLDSRUM
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_opholdsrum
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_opholdsrum
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_opholdsrum
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_opholdsrum
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_opholdsrum
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_opholdsrum
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.opholdsrum_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_opholdsrum') }} / {{
                      states('sensor.lights_in_opholdsrum') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.opholdsrum
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.opholdsrum
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.opholdsrum
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.opholdsrum
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Opholdsrum
                      tilstand: |
                        [[[ 
                          if (states['light.opholdsrum'] && states['light.opholdsrum'].state === 'on') {
                            const brightness = states['light.opholdsrum'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.opholdsrum
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.opholdsrum_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_opholdsrum'].state === 'on' && 
                                states['input_text.set_scene_opholdsrum'].state === 'scene.opholdsrum_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_opholdsrum'].state === 'scene.opholdsrum_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_opholdsrum'].state !== 'scene.opholdsrum_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_opholdsrum
                          service_data:
                            scene: scene.opholdsrum_1_klar
                      - type: custom:button-card
                        entity: scene.opholdsrum_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_opholdsrum'].state === 'on' && 
                                states['input_text.set_scene_opholdsrum'].state === 'scene.opholdsrum_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_opholdsrum'].state === 'scene.opholdsrum_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_opholdsrum'].state !== 'scene.opholdsrum_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_opholdsrum
                          service_data:
                            scene: scene.opholdsrum_2_koncentration
                      - type: custom:button-card
                        entity: scene.opholdsrum_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_opholdsrum'].state === 'on' && 
                                states['input_text.set_scene_opholdsrum'].state === 'scene.opholdsrum_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_opholdsrum'].state === 'scene.opholdsrum_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_opholdsrum'].state !== 'scene.opholdsrum_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_opholdsrum
                          service_data:
                            scene: scene.opholdsrum_3_daempet
                      - type: custom:button-card
                        entity: scene.opholdsrum_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_opholdsrum'].state === 'on' && 
                                states['input_text.set_scene_opholdsrum'].state === 'scene.opholdsrum_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_opholdsrum'].state === 'scene.opholdsrum_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_opholdsrum'].state !== 'scene.opholdsrum_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_opholdsrum
                          service_data:
                            scene: scene.opholdsrum_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.opholdsrum_1_klar
                        name: Sunset
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/sunset.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.opholdsrum_1_klar
                        name: Party
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/party.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.opholdsrum_1_klar
                        name: Romantik
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/romantik.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.opholdsrum_1_klar
                        name: Jul
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/christmas.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_opholdsrum
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_opholdsrum
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_opholdsrum
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.alrum_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.alrum_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 1
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_1'] && states['light.alrum_1'].state === 'on') {
                            const brightness = states['light.alrum_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.alrum_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.alrum_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.alrum_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 2
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_2'] && states['light.alrum_2'].state === 'on') {
                            const brightness = states['light.alrum_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.alrum_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.alrum_3
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.alrum_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 3
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_3'] && states['light.alrum_3'].state === 'on') {
                            const brightness = states['light.alrum_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.alrum_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_4
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.alrum_4
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.alrum_4
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 4
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_4'] && states['light.alrum_4'].state === 'on') {
                            const brightness = states['light.alrum_4'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.alrum_4
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_5
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.alrum_5
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.alrum_5
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.alrum_5
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 5
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_5'] && states['light.alrum_5'].state === 'on') {
                            const brightness = states['light.alrum_5'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.alrum_5
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_6
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.alrum_6
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.alrum_6
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.alrum_6
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 6
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_6'] && states['light.alrum_6'].state === 'on') {
                            const brightness = states['light.alrum_6'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.alrum_6
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.alrum_7
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.alrum_7
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.alrum_7
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.alrum_7
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Alrum 7
                      tilstand: |
                        [[[ 
                          if (states['light.alrum_7'] && states['light.alrum_7'].state === 'on') {
                            const brightness = states['light.alrum_7'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.alrum_7
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.kokken_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.kokken_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.kokken_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.kokken_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Køkken 1
                      tilstand: |
                        [[[ 
                          if (states['light.kokken_1'] && states['light.kokken_1'].state === 'on') {
                            const brightness = states['light.kokken_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.kokken_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.kokken_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.kokken_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.kokken_2
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.kokken_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Køkken 2
                      tilstand: |
                        [[[ 
                          if (states['light.kokken_2'] && states['light.kokken_2'].state === 'on') {
                            const brightness = states['light.kokken_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.kokken_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.kokken_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.kokken_3
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.kokken_3
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.kokken_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Køkken 3
                      tilstand: |
                        [[[ 
                          if (states['light.kokken_3'] && states['light.kokken_3'].state === 'on') {
                            const brightness = states['light.kokken_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.kokken_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.spisebord_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.spisebord_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.spisebord_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Spisebord 1
                      tilstand: |
                        [[[ 
                          if (states['light.spisebord_1'] && states['light.spisebord_1'].state === 'on') {
                            const brightness = states['light.spisebord_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.spisebord_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.spisebord_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.spisebord_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_2
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.spisebord_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Spisebord 2
                      tilstand: |
                        [[[ 
                          if (states['light.spisebord_2'] && states['light.spisebord_2'].state === 'on') {
                            const brightness = states['light.spisebord_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.spisebord_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.sofabord
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.sofabord
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.sofabord
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.sofabord
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Sofabord
                      tilstand: |
                        [[[ 
                          if (states['light.sofabord'] && states['light.sofabord'].state === 'on') {
                            const brightness = states['light.sofabord'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.sofabord
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.tripod
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 33px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.tripod
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.tripod
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.tripod
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Tripod
                      tilstand: |
                        [[[ 
                          if (states['light.tripod'] && states['light.tripod'].state === 'on') {
                            const brightness = states['light.tripod'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -30px;
                        }
                  - type: custom:my-slider-v2
                    entity: light.tripod
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -20px;
                        }
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
  - type: custom:vertical-layout
    path: sovevaerelse
    title: Soveværelse
    icon: mdi:bed
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: SOVEVÆRELSE
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_sovevaerelse
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_sovevaerelse
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_sovevaerelse
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_sovevaerelse
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_sovevaerelse
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_sovevaerelse
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.sovevaerelse_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_sovevaerelse') }} / {{
                      states('sensor.lights_in_sovevaerelse') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.sovevaerelse
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.sovevaerelse
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.sovevaerelse
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.sovevaerelse
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Soveværelse
                      tilstand: |
                        [[[ 
                          if (states['light.sovevaerelse'] && states['light.sovevaerelse'].state === 'on') {
                            const brightness = states['light.sovevaerelse'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.sovevaerelse
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.sovevaerelse_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_sovevaerelse'].state === 'on' && 
                                states['input_text.set_scene_sovevaerelse'].state === 'scene.sovevaerelse_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_sovevaerelse'].state === 'scene.sovevaerelse_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_sovevaerelse'].state !== 'scene.sovevaerelse_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_sovevaerelse
                          service_data:
                            scene: scene.sovevaerelse_1_klar
                      - type: custom:button-card
                        entity: scene.sovevaerelse_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_sovevaerelse'].state === 'on' && 
                                states['input_text.set_scene_sovevaerelse'].state === 'scene.sovevaerelse_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_sovevaerelse'].state === 'scene.sovevaerelse_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_sovevaerelse'].state !== 'scene.sovevaerelse_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_sovevaerelse
                          service_data:
                            scene: scene.sovevaerelse_2_koncentration
                      - type: custom:button-card
                        entity: scene.sovevaerelse_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_sovevaerelse'].state === 'on' && 
                                states['input_text.set_scene_sovevaerelse'].state === 'scene.sovevaerelse_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_sovevaerelse'].state === 'scene.sovevaerelse_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_sovevaerelse'].state !== 'scene.sovevaerelse_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_sovevaerelse
                          service_data:
                            scene: scene.sovevaerelse_3_daempet
                      - type: custom:button-card
                        entity: scene.sovevaerelse_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_sovevaerelse'].state === 'on' && 
                                states['input_text.set_scene_sovevaerelse'].state === 'scene.sovevaerelse_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_sovevaerelse'].state === 'scene.sovevaerelse_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_sovevaerelse'].state !== 'scene.sovevaerelse_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_sovevaerelse
                          service_data:
                            scene: scene.sovevaerelse_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_sovevaerelse
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_sovevaerelse
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_sovevaerelse
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.loftlys
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.loftlys
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.loftlys
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Loftlys
                      tilstand: |
                        [[[ 
                          if (states['light.loftlys'] && states['light.loftlys'].state === 'on') {
                            const brightness = states['light.loftlys'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.loftlys
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.klaedeskab_spot_1
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.klaedeskab_spot_1
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.klaedeskab_spot_1
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Klædeskab spot 1
                      tilstand: |
                        [[[ 
                          if (states['light.klaedeskab_spot_1'] && states['light.klaedeskab_spot_1'].state === 'on') {
                            const brightness = states['light.klaedeskab_spot_1'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.klaedeskab_spot_1
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.klaedeskab_spot_2
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.klaedeskab_spot_2
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.klaedeskab_spot_2
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Klædeskab spot 2
                      tilstand: |
                        [[[ 
                          if (states['light.klaedeskab_spot_2'] && states['light.klaedeskab_spot_2'].state === 'on') {
                            const brightness = states['light.klaedeskab_spot_2'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.klaedeskab_spot_2
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.klaedeskab_spot_3
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.klaedeskab_spot_3
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.klaedeskab_spot_3
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Klædeskab spot 3
                      tilstand: |
                        [[[ 
                          if (states['light.klaedeskab_spot_3'] && states['light.klaedeskab_spot_3'].state === 'on') {
                            const brightness = states['light.klaedeskab_spot_3'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.klaedeskab_spot_3
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
  - type: custom:vertical-layout
    path: stue
    title: stue
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    icon: mdi:sofa
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: STUE
              - type: custom:mushroom-chips-card
                chips:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.ferie_stue
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.ferie_stue
                      content_info: none
                      icon: mdi:home-export-outline
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_brightness_stue
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_brightness_stue
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.adaptive_lighting_adapt_color_stue
                        state: 'on'
                    chip:
                      type: entity
                      entity: switch.adaptive_lighting_adapt_color_stue
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      double_tap_action:
                        action: none
                      content_info: none
                  - type: entity
                    entity: sensor.stue_lys_power
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: template
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:lightbulb-on
                    content: >-
                      {{ states('sensor.lights_on_in_stue') }} / {{
                      states('sensor.lights_in_stue') }}
                alignment: end
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      margin-top: 20px;
                      --chip-icon-size: 24px;
                      --chip-font-size: 24px;
                      --chip-font-weight: normal;
                    }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.stue
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 530px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.stue
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.stue
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.stue
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-group
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 110px
                        - position: absolute
                        - top: '-8px'
                      icon:
                        - width: 70px
                        - height: 60px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 0px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Stue
                      tilstand: |
                        [[[ 
                          if (states['light.stue'] && states['light.stue'].state === 'on') {
                            const brightness = states['light.stue'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.stue
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 85%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                        - top: 50px
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: custom:swipe-card
                start_card: 1
                reset_after: 20
                parameters:
                  effect: flip
                  slideShadows: true
                cards:
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.stue_1_klar
                        icon: mdi:white-balance-sunny
                        name: Klar
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_stue'].state === 'on' && 
                                states['input_text.set_scene_stue'].state === 'scene.stue_1_klar'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_stue'].state === 'scene.stue_1_klar'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_stue'].state !== 'scene.stue_1_klar'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_stue
                          service_data:
                            scene: scene.stue_1_klar
                      - type: custom:button-card
                        entity: scene.stue_2_koncentration
                        icon: mdi:circle-double
                        name: Energi
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_stue'].state === 'on' && 
                                states['input_text.set_scene_stue'].state === 'scene.stue_2_koncentration'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_stue'].state === 'scene.stue_2_koncentration'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_stue'].state !== 'scene.stue_2_koncentration'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(0, 188, 212)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_stue
                          service_data:
                            scene: scene.stue_2_koncentration
                      - type: custom:button-card
                        entity: scene.stue_3_daempet
                        icon: mdi:lightbulb-on-50
                        name: Dæmpet
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_stue'].state === 'on' && 
                                states['input_text.set_scene_stue'].state === 'scene.stue_3_daempet'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_stue'].state === 'scene.stue_3_daempet'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_stue'].state !== 'scene.stue_3_daempet'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 152, 0)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_stue
                          service_data:
                            scene: scene.stue_3_daempet
                      - type: custom:button-card
                        entity: scene.stue_4_natlys
                        icon: mdi:moon-waning-crescent
                        name: Natlys
                        show_icon: true
                        show_name: true
                        size: 50%
                        custom_fields:
                          checkmark: |
                            [[[ 
                              return '<ha-icon icon="mdi:check-circle" style="color: green; width: 20px; height: 20px;"></ha-icon>';
                            ]]]
                        state:
                          - operator: template
                            value: |
                              [[[ 
                                return states['script.scene_animation_stue'].state === 'on' && 
                                states['input_text.set_scene_stue'].state === 'scene.stue_4_natlys'; 
                              ]]]
                            styles:
                              icon:
                                - animation: blink 1.5s ease-in 2.5
                              card:
                                - box-shadow: var(--box-shadow-on)
                              custom_fields:
                                checkmark:
                                  - animation: blink 1.5s ease-in 0.5
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_stue'].state === 'scene.stue_4_natlys'; 
                              ]]]
                            styles:
                              card:
                                - box-shadow: var(--box-shadow-on)
                          - operator: template
                            value: |
                              [[[ 
                                return states['input_text.set_scene_stue'].state !== 'scene.stue_4_natlys'; 
                              ]]]
                            styles:
                              custom_fields:
                                checkmark:
                                  - visibility: hidden
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 111, 34)
                          name:
                            - font-size: 12px
                            - text-align: center
                          custom_fields:
                            checkmark:
                              - position: absolute
                              - top: 10px
                              - right: 10px
                        tap_action:
                          action: call-service
                          service: script.scene_animation_stue
                          service_data:
                            scene: scene.stue_4_natlys
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: scene.stue_1_klar
                        name: Sunset
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/sunset.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.stue_1_klar
                        name: Party
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/party.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.stue_1_klar
                        name: Romantik
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/romantik.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: scene.stue_1_klar
                        name: Jul
                        show_icon: false
                        show_name: true
                        show_entity_picture: true
                        entity_picture: /local/icons/christmas.png
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: none
                            - height: 110px
                          icon:
                            - color: rgb(255, 193, 7)
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                  - type: grid
                    columns: 4
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: switch.ferie_stue
                        icon: mdi:home-export-outline
                        name: Ude
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_brightness_stue
                        name: Adaptiv lysstyrke
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
                      - type: custom:button-card
                        entity: switch.adaptive_lighting_adapt_color_stue
                        name: Adaptiv farve
                        show_icon: true
                        show_name: true
                        size: 50%
                        styles:
                          card:
                            - padding: 10px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background-color: >
                                [[[ return entity.state === 'on' ?
                                'var(--primary-color)' : ''; ]]]
                            - height: 110px
                          icon:
                            - color: white
                          name:
                            - font-size: 12px
                            - text-align: center
                        tap_action:
                          action: toggle
            columns: 2
          - square: false
            type: grid
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.sofabord
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.sofabord
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.sofabord
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Sofabord
                      tilstand: |
                        [[[ 
                          if (states['light.sofabord'] && states['light.sofabord'].state === 'on') {
                            const brightness = states['light.sofabord'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.sofabord
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: light.tripod
                    show_name: false
                    state:
                      - value: 'on'
                        icon: mdi:palette
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                      - value: 'off'
                        icon: mdi:palette
                    styles:
                      card:
                        - background: none
                        - border-radius: var(--border-radius-1)
                        - box-shadow: none
                        - width: 70px
                        - height: 35px
                        - position: absolute
                        - z-index: 1
                        - top: 63px
                        - left: 230px
                      grid:
                        - position: absolute
                      icon:
                        - width: 70px
                        - height: 70px
                        - color: var(--light-icon-off)
                    tap_action:
                      action: perform-action
                      perform_action: browser_mod.popup
                      target: {}
                      data:
                        dismissable: true
                        browser_id:
                          - e3859d0a4c72bc075212054772606ab9
                        content:
                          type: vertical-stack
                          cards:
                            - type: custom:my-slider-v2
                              entity: light.tripod
                              mode: temperature
                              allowTapping: true
                              allowSliding: true
                              styles:
                                container:
                                  - box-shadow: |
                                      [[[ 
                                        return entity.state === 'on' 
                                          ? 'var(--box-shadow-on)' 
                                          : 'none'; 
                                      ]]]
                                  - border-radius: var(--border-radius-1)
                                  - justify-self: center
                                card:
                                  - height: 70px
                                  - width: 90%
                                  - justify-self: center
                                  - margin-top: 20px
                                  - border-radius: var(--border-radius-1)
                                progress:
                                  - background: null
                                thumb:
                                  - width: 14px
                                  - height: 100%
                                  - background: >-
                                      linear-gradient(270deg,
                                      rgba(255,255,255,1) 40%, rgba(0,0,0,1)
                                      60%, rgba(255,255,255,1) 55%)
                                track:
                                  - background: >-
                                      linear-gradient(270deg, rgba(255,138,0,1)
                                      0%, rgba(255,180,100,1) 20%,
                                      rgba(255,220,180,1) 40%,
                                      rgba(230,240,255,1) 60%,
                                      rgba(200,230,255,1) 80%,
                                      rgba(180,220,255,1) 100%)
                            - shorten_cards: false
                              consolidate_entities: false
                              child_card: false
                              hide_header: true
                              show_header_icon: false
                              header: ''
                              color_wheel: false
                              persist_features: false
                              brightness: false
                              color_temp: false
                              white_value: false
                              color_picker: true
                              speed: false
                              intensity: false
                              force_features: false
                              show_slider_percent: false
                              full_width_sliders: false
                              brightness_icon: weather-sunny
                              white_icon: file-word-box
                              temperature_icon: thermometer
                              speed_icon: speedometer
                              intensity_icon: transit-connection-horizontal
                              type: custom:light-entity-card
                              entity: light.spisebord_1
                              effects_list: false
                              card_mod:
                                style: |
                                  ha-card {
                                    background: none;
                                  }
                        card_mod:
                          style:
                            ha-dialog$: |
                              div.mdc-dialog__container {
                                --vertical-align-dialog: center !important;
                              }
                            .: |
                              ha-dialog {
                                --dialog-backdrop-filter: blur(0.8em); 
                              }
                  - type: custom:button-card
                    entity: light.tripod
                    show_name: false
                    show_state: false
                    icon: mdi:lightbulb-spot
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: var(--light-icon-on)
                          card:
                            - background: var(--light-on)
                            - box-shadow: var(--box-shadow-on)
                          custom_fields:
                            lys:
                              - color: var(--light-text-on)
                            tilstand:
                              - color: var(--light-text-on)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - background: var(--light-off)
                        - box-shadow: var(--box-shadow-off)
                        - height: 100px
                        - position: absolute
                      icon:
                        - width: 35px
                        - height: 35px
                        - color: var(--light-icon-off)
                        - left: 20px
                        - top: 10px
                      grid:
                        - position: absolute
                      custom_fields:
                        lys:
                          - font-size: 18px
                          - font-weight: bold
                          - position: absolute
                          - right: 20px
                          - top: 10px
                          - color: var(--light-text-off)
                        tilstand:
                          - font-size: 12px
                          - position: absolute
                          - right: 20px
                          - top: 35px
                          - color: var(--light-text-off)
                    custom_fields:
                      lys: Tripod
                      tilstand: |
                        [[[ 
                          if (states['light.tripod'] && states['light.tripod'].state === 'on') {
                            const brightness = states['light.tripod'].attributes.brightness || 0;
                            const percentage = Math.round((brightness / 255) * 100);
                            return `${percentage}%`;
                          } else {
                            return 'Slukket';
                          }
                        ]]]
                    tap_action:
                      action: toggle
                  - type: custom:my-slider-v2
                    entity: light.tripod
                    allowTapping: false
                    allowSliding: true
                    showMin: true
                    min: 1
                    max: 100
                    styles:
                      container:
                        - box-shadow: |
                            [[[ 
                              return entity.state === 'on' 
                                ? 'var(--box-shadow-on)' 
                                : 'none'; 
                            ]]]
                        - border-radius: var(--border-radius-1)
                        - justify-self: center
                      card:
                        - height: 30px
                        - width: 70%
                        - justify-self: left
                        - margin-left: 20px
                        - margin-top: 50px
                        - margin-bottom: 40px
                        - border-radius: var(--border-radius-1)
                      progress:
                        - background: |
                            [[[
                              const light = entity;
                              if (light.state === 'off' || !light.attributes.rgb_color) {
                                return 'rgba(217, 217, 217, 0.5)';
                              }
                              const rgb = light.attributes.rgb_color;
                              return `linear-gradient(145deg, rgba(217,217,217,1) 0%, rgba(${rgb[0]},${rgb[1]},${rgb[2]},1) 50%)`;
                            ]]]
                      thumb:
                        - width: 1px
                        - height: 50%
                        - background: '#ffffff'
                        - top: 26%
                        - margin-right: 12px
                      track:
                        - background: rgba(217, 217, 217, 0.5)
            columns: 4
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/lys
  - type: custom:vertical-layout
    path: overvagning
    title: Overvågning
    icon: mdi:cctv
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - square: false
                type: grid
                cards: []
                title: OVERVÅGNING
              - square: false
                type: grid
                cards: []
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    entity: input_select.wall_panel_kamera_vaelger
                    show_icon: false
                    show_name: true
                    name: Indkørsel
                    styles:
                      card:
                        - position: absolute
                        - top: 100%
                        - transform: translate(0%, 50%)
                        - height: 40px
                        - border-radius: 30px
                        - box-shadow: var(--box-shadow-on)
                        - background: var(--custom-button-infobox)
                      name:
                        - font-size: 12px
                        - text-align: center
                    state:
                      - value: Indkørsel
                        styles:
                          card:
                            - background: var(--custom-button-gradient-1)
                            - box-shadow: var(--box-shadow-on)
                          name:
                            - color: white
                    tap_action:
                      action: call-service
                      service: input_select.select_option
                      target:
                        entity_id: input_select.wall_panel_kamera_vaelger
                      data:
                        option: Indkørsel
                  - type: custom:button-card
                    entity: input_select.wall_panel_kamera_vaelger
                    show_icon: false
                    show_name: true
                    name: Fordør
                    styles:
                      card:
                        - position: absolute
                        - top: 100%
                        - transform: translate(0%, 50%)
                        - height: 40px
                        - border-radius: 30px
                        - box-shadow: var(--box-shadow-on)
                        - background: var(--custom-button-infobox)
                      name:
                        - font-size: 12px
                        - text-align: center
                    state:
                      - value: Fordør
                        styles:
                          card:
                            - background: var(--custom-button-gradient-1)
                            - box-shadow: var(--box-shadow-on)
                          name:
                            - color: white
                    tap_action:
                      action: call-service
                      service: input_select.select_option
                      target:
                        entity_id: input_select.wall_panel_kamera_vaelger
                      data:
                        option: Fordør
                columns: 2
            columns: 3
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.wall_panel_kamera_vaelger
                state: Indkørsel
            card:
              type: custom:frigate-card
              cameras:
                - camera_entity: camera.driveway
              view:
                default: clips
                default_cycle_camera: false
              media_gallery:
                controls:
                  thumbnails:
                    size: 300
                    show_favorite_control: false
                    show_timeline_control: false
                    show_download_control: false
                  filter:
                    mode: none
              menu:
                style: overlay
                buttons:
                  cameras:
                    enabled: false
                  frigate:
                    enabled: false
                  substreams:
                    enabled: false
                  live:
                    enabled: true
                  snapshots:
                    enabled: false
                  download:
                    enabled: false
                  camera_ui:
                    enabled: false
                  fullscreen:
                    enabled: false
                  timeline:
                    enabled: false
                  display_mode:
                    enabled: false
                position: top
                alignment: right
                button_size: 50
              dimensions:
                height: 630px
              card_mod:
                style: |
                  :host {
                    --ha-card-background: none !important;
                    --card-background-color: transparent !important;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.wall_panel_kamera_vaelger
                state: Fordør
            card:
              type: custom:frigate-card
              cameras:
                - camera_entity: camera.front_door
              view:
                default: clips
                default_cycle_camera: false
              media_gallery:
                controls:
                  thumbnails:
                    size: 300
                    show_favorite_control: false
                    show_timeline_control: false
                    show_download_control: false
                  filter:
                    mode: none
              menu:
                style: overlay
                buttons:
                  cameras:
                    enabled: false
                  frigate:
                    enabled: false
                  substreams:
                    enabled: false
                  live:
                    enabled: true
                  snapshots:
                    enabled: false
                  download:
                    enabled: false
                  camera_ui:
                    enabled: false
                  fullscreen:
                    enabled: false
                  timeline:
                    enabled: false
                  display_mode:
                    enabled: false
                position: top
                alignment: right
                button_size: 50
              dimensions:
                height: 630px
              card_mod:
                style: |
                  :host {
                    --ha-card-background: none !important;
                    --card-background-color: transparent !important;
                  }
        columns: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/overvagning
  - type: custom:vertical-layout
    path: musik
    title: Musik
    icon: mdi:music
    layout:
      max_cols: 1
      max_width: 1240
      width: 1240
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:sonos-card
            sections:
              - player
            startSection: player
            heightPercentage: 110
            queueTitle: Afspiller kø
            topFavorites:
              - ''
            entityId: media_player.kokken
            card_mod:
              style:
                .: |
                  ha-card {
                    background: none !important;
                    box-shadow: none !important;
                  }
                sonos-player$ sonos-player-controls$ sonos-volume$: |
                  .volume-level {
                    display:none !important;
                  }
                sonos-player$ sonos-player-header$: |
                  .song {
                    font-size: 1.2em; !important;
                  }
                sonos-player$ sonos-player-controls$: |
                  .icons {
                    margin-bottom: 1rem;
                    display: flex;
                    gap: 1rem;  /* Space between icons */
                  }
          - type: custom:sonos-card
            sections:
              - volumes
              - groups
              - grouping
              - media browser
              - queue
            startSection: queue
            heightPercentage: 110
            queueTitle: Afspiller kø
            topFavorites:
              - ''
            favoritesHideTitleForThumbnailIcons: false
            favoritesItemsPerRow: 3
            hideBrowseMediaButton: true
            entityId: media_player.kokken
            mediaBrowserTitle: Browser
            card_mod:
              style: |
                ha-card {
                  --secondary-background-color: none;
                  background: none !important;
                  box-shadow: none !important;
                }
        columns: 2
        title: MUSIK
        card_mod:
          style: |
            ha-card {
              background: none !important;
              box-shadow: none !important;
            }
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/musik
  - type: custom:vertical-layout
    path: stovsuger
    title: Støvsuger
    icon: mdi:robot-vacuum
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: STATUS
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: script.stovsuger_start_rengoring
                        state: 'off'
                      - condition: state
                        entity: binary_sensor.roborock_qrevo_edge_cleaning
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_entre
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_garage
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_kokken
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_spisestue
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_stue
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_lille_bad
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_julian
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_christine
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_kontor
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_sovevaerelse
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_badevaerelse
                        state: 'off'
                card:
                  type: custom:button-card
                  entity: vacuum.roborock_qrevo_edge
                  show_name: false
                  show_state: false
                  icon: mdi:play
                  styles:
                    card:
                      - padding: px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - height: 70px
                      - background: >-
                          linear-gradient(90deg, rgba(0,92,0,1) 0%,
                          rgba(0,162,0,1) 50%);
                    icon:
                      - width: 45px
                      - height: 45px
                      - color: var(--icon-farve)
                      - left: 7%
                    grid:
                      - position: absolute
                    custom_fields:
                      status:
                        - color: var(--text-primary-color)
                        - font-size: 18px
                        - font-weight: bold
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 15px
                      rum:
                        - color: var(--text-primary-color)
                        - font-size: 12px
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 40px
                  custom_fields:
                    status: Start rengøring
                    rum: Alle rum
                  tap_action:
                    action: call-service
                    service: script.stovsuger_start_rengoring
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: script.stovsuger_start_rengoring
                        state: 'off'
                      - condition: state
                        entity: binary_sensor.roborock_qrevo_edge_cleaning
                        state: 'off'
                      - condition: or
                        conditions:
                          - condition: state
                            entity: input_boolean.stovsuger_entre
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_garage
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_kokken
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_spisestue
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_stue
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_lille_bad
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_julian
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_christine
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_kontor
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_sovevaerelse
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_badevaerelse
                            state: 'on'
                card:
                  type: custom:button-card
                  entity: vacuum.roborock_qrevo_edge
                  show_name: false
                  show_state: false
                  icon: mdi:play
                  styles:
                    card:
                      - padding: px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - height: 70px
                      - background: >-
                          linear-gradient(90deg, rgba(0,92,0,1) 0%,
                          rgba(0,162,0,1) 50%);
                    icon:
                      - width: 45px
                      - height: 45px
                      - color: var(--icon-farve)
                      - left: 7%
                    grid:
                      - position: absolute
                    custom_fields:
                      status:
                        - color: var(--text-primary-color)
                        - font-size: 18px
                        - font-weight: bold
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 15px
                      rum:
                        - color: var(--text-primary-color)
                        - font-size: 12px
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 40px
                  custom_fields:
                    status: Start rengøring
                    rum: |
                      [[[
                        const count = states['sensor.stovsuger_antal_valgte_rum'];
                        if (!count) return '';
                        const antal = parseInt(count.state);
                        return `${antal} valgt${antal === 1 ? '' : 'e'} rum`;
                      ]]]
                  tap_action:
                    action: call-service
                    service: script.stovsuger_start_rengoring
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: or
                        conditions:
                          - condition: state
                            entity: script.stovsuger_start_rengoring
                            state: 'on'
                          - condition: state
                            entity: binary_sensor.roborock_qrevo_edge_cleaning
                            state: 'on'
                      - condition: state
                        entity: vacuum.roborock_qrevo_edge
                        state_not: paused
                      - condition: state
                        entity: sensor.roborock_qrevo_edge_vacuum_error
                        state: none
                card:
                  type: custom:button-card
                  entity: vacuum.roborock_qrevo_edge
                  show_name: false
                  show_state: false
                  icon: mdi:pause
                  styles:
                    card:
                      - padding: px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - height: 70px
                      - background: |
                          [[[
                            const battery = states['sensor.roborock_qrevo_edge_cleaning_progress'].state || 0;
                            return `linear-gradient(
                              to right,
                              var(--primary-color) ${battery}%,
                              var(--custom-button-infobox, var(--card-background-color, #fff)) ${battery}%
                            )`;
                          ]]]
                    icon:
                      - width: 45px
                      - height: 45px
                      - color: var(--icon-farve-2)
                      - left: 7%
                    grid:
                      - position: relative
                    custom_fields:
                      status:
                        - font-size: 18px
                        - font-weight: bold
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 20%
                        - color: var(--icon-farve-2)
                  custom_fields:
                    status: Pause rengøring
                  tap_action:
                    action: perform-action
                    perform_action: vacuum.pause
                    target:
                      entity_id: vacuum.roborock_qrevo_edge
              - square: false
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: or
                        conditions:
                          - condition: state
                            entity: vacuum.roborock_qrevo_edge
                            state: paused
                          - condition: and
                            conditions:
                              - condition: state
                                entity: vacuum.roborock_qrevo_edge
                                state: idle
                              - condition: state
                                entity: sensor.roborock_qrevo_edge_vacuum_error
                                state_not: none
                    card:
                      type: custom:button-card
                      entity: vacuum.roborock_qrevo_edge
                      show_name: false
                      show_state: false
                      icon: mdi:play
                      styles:
                        card:
                          - padding: px
                          - border-radius: var(--border-radius-1)
                          - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                          - height: 70px
                          - background: >-
                              linear-gradient(90deg, rgba(0,92,0,1) 0%,
                              rgba(0,162,0,1) 50%);
                        icon:
                          - width: 45px
                          - height: 45px
                          - color: var(--icon-farve)
                          - left: 7%
                        grid:
                          - position: relative
                        custom_fields:
                          status:
                            - color: var(--text-primary-color)
                            - font-size: 18px
                            - font-weight: bold
                            - position: absolute
                            - justify-self: center
                            - right: 7%
                            - top: 30%
                      custom_fields:
                        status: Fortsæt
                      tap_action:
                        action: perform-action
                        perform_action: vacuum.start
                        target:
                          entity_id: vacuum.roborock_qrevo_edge
                  - type: conditional
                    conditions:
                      - condition: or
                        conditions:
                          - condition: state
                            entity: vacuum.roborock_qrevo_edge
                            state: paused
                          - condition: and
                            conditions:
                              - condition: state
                                entity: vacuum.roborock_qrevo_edge
                                state: idle
                              - condition: state
                                entity: sensor.roborock_qrevo_edge_vacuum_error
                                state_not: none
                    card:
                      type: custom:button-card
                      entity: vacuum.roborock_qrevo_edge
                      show_name: false
                      show_state: false
                      icon: mdi:home
                      styles:
                        card:
                          - padding: px
                          - border-radius: var(--border-radius-1)
                          - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                          - height: 70px
                          - background: >-
                              linear-gradient(90deg, rgba(0,0,140,1) 0%,
                              rgba(88,88,255,1) 50%);
                        icon:
                          - width: 45px
                          - height: 45px
                          - color: var(--icon-farve)
                          - left: 7%
                        grid:
                          - position: relative
                        custom_fields:
                          status:
                            - color: var(--text-primary-color)
                            - font-size: 18px
                            - font-weight: bold
                            - position: absolute
                            - justify-self: center
                            - right: 7%
                            - top: 30%
                      custom_fields:
                        status: Vend hjem
                      tap_action:
                        action: perform-action
                        perform_action: vacuum.return_to_base
                        target:
                          entity_id: vacuum.roborock_qrevo_edge
                columns: 2
            columns: 1
            view_layout:
              column: 2
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: >
                  {# ——— Aktiv rengøring: tre varianter afhængigt af moppe/fan
                  ——— #}

                  {% if states('select.roborock_qrevo_edge_moppeintensitet') ==
                  'off'
                        and (is_state('binary_sensor.roborock_qrevo_edge_cleaning', 'on')
                             or is_state('script.stovsuger_start_rengoring', 'on'))
                        and states('sensor.roborock_qrevo_edge_status') in ['cleaning', 'segment_cleaning'] %}
                    Støvsuger gulve
                  {% elif state_attr('vacuum.roborock_qrevo_edge', 'fan_speed')
                  == 'off'
                        and (is_state('binary_sensor.roborock_qrevo_edge_cleaning', 'on')
                             or is_state('script.stovsuger_start_rengoring', 'on'))
                        and states('sensor.roborock_qrevo_edge_status') in ['cleaning', 'segment_cleaning'] %}
                    Vasker gulve
                  {% elif (states('select.roborock_qrevo_edge_moppeintensitet')
                  != 'off'
                           or state_attr('vacuum.roborock_qrevo_edge', 'fan_speed') != 'off')
                        and (is_state('binary_sensor.roborock_qrevo_edge_cleaning', 'on')
                             or is_state('script.stovsuger_start_rengoring', 'on'))
                        and states('sensor.roborock_qrevo_edge_status') in ['cleaning', 'segment_cleaning'] %}
                    Støvsuger og vasker gulve

                  {# ——— Øvrige tilstande ——— #}

                  {% elif
                  is_state('binary_sensor.roborock_qrevo_edge_dock_mop_drying',
                  'on') %}
                    Tørrer klude
                  {% elif is_state('binary_sensor.roborock_qrevo_edge_oplader',
                  'on')
                          or states('sensor.roborock_qrevo_edge_status') == 'charging' %}
                    I dock
                  {% elif states('sensor.roborock_qrevo_edge_status') == 'error'
                  %}
                    Fejl
                  {% elif states('sensor.roborock_qrevo_edge_status') ==
                  'paused' %}
                    Sat på pause
                  {% elif states('sensor.roborock_qrevo_edge_status') in
                  ['returning_home', 'docking'] %}
                    Vender hjem til dock
                  {% elif states('sensor.roborock_qrevo_edge_status') ==
                  'going_to_wash_the_mop' %}
                    Vender hjem for at vaske klude
                  {% elif states('sensor.roborock_qrevo_edge_status') in
                  ['washing_the_mop', 'washing_the_mop_2'] %}
                    Vasker klude
                  {% elif states('sensor.roborock_qrevo_edge_status') ==
                  'emptying_the_bin' %}
                    Tømmer støvbeholder
                  {% else %}
                    Ukendt status
                  {% endif %}
                subtitle: >
                  {# ——— 1) Robot-fejl først: oversæt kode til DK-tekst ——— #}

                  {%- set err =
                  states('sensor.roborock_qrevo_edge_vacuum_error') -%}

                  {%- set out = '' -%}

                  {%- if err not in ['none', 'unavailable'] -%}
                    {%- set errmap = {
                      'lidar_blocked': 'Lidar blokeret',
                      'bumper_stuck': 'Stødfanger sidder fast',
                      'wheels_suspended': 'Hjul hænger i luften',
                      'cliff_sensor_error': 'Faldsensor-fejl',
                      'main_brush_jammed': 'Hovedbørste fastklemt',
                      'side_brush_jammed': 'Sidebørste fastklemt',
                      'wheels_jammed': 'Hjul fastklemt',
                      'robot_trapped': 'Robotten sidder fast',
                      'no_dustbin': 'Ingen støvbeholder',
                      'strainer_error': 'Si-fejl',
                      'compass_error': 'Kompasfejl',
                      'low_battery': 'Lavt batteri',
                      'charging_error': 'Opladningsfejl',
                      'battery_error': 'Batterifejl',
                      'wall_sensor_dirty': 'Væg-/nærhedssensor beskidt',
                      'robot_tilted': 'Robot vippet',
                      'side_brush_error': 'Sidebørste-fejl',
                      'fan_error': 'Blæserfejl',
                      'dock': 'Dock-fejl',
                      'optical_flow_sensor_dirt': 'Optisk-flow-sensor beskidt',
                      'vertical_bumper_pressed': 'Lodret stødfanger aktiveret',
                      'dock_locator_error': 'Dock-lokator-fejl',
                      'return_to_dock_fail': 'Kan ikke finde tilbage til dock',
                      'nogo_zone_detected': 'No-go-zone registreret',
                      'visual_sensor': 'Visuel sensor-fejl',
                      'light_touch': 'Let berøring registreret',
                      'vibrarise_jammed': 'VibraRise fastklemt',
                      'robot_on_carpet': 'Robot på tæppe',
                      'filter_blocked': 'Filter tilstoppet',
                      'invisible_wall_detected': 'Usynlig væg registreret',
                      'cannot_cross_carpet': 'Kan ikke krydse tæppe',
                      'internal_error': 'Intern fejl',
                      'collect_dust_error_3': 'Tømning af støv fejlede (3)',
                      'collect_dust_error_4': 'Tømning af støv fejlede (4)',
                      'mopping_roller_1': 'Mopperulle-fejl (1)',
                      'mopping_roller_error_2': 'Mopperulle-fejl (2)',
                      'clear_water_box_hoare': 'Rentvandstank-fejl',
                      'dirty_water_box_hoare': 'Snavsevandstank-fejl',
                      'sink_strainer_hoare': 'Afløbssi-fejl',
                      'clear_water_box_exception': 'Rentvandstank-fejl',
                      'clear_brush_exception': 'Rengør børste-fejl',
                      'clear_brush_exception_2': 'Rengør børste-fejl (2)',
                      'filter_screen_exception': 'Filtersigte-fejl',
                      'mopping_roller_2': 'Mopperulle-fejl (2)',
                      'up_water_exception': 'Påfyld vand-fejl',
                      'drain_water_exception': 'Aftap vand-fejl',
                      'temperature_protection': 'Temperaturbeskyttelse aktiveret',
                      'clean_carousel_exception': 'Rensekarussel-fejl',
                      'clean_carousel_water_full': 'Rensekarussel: vandbeholder fuld',
                      'water_carriage_drop': 'Vandkassette afkoblet',
                      'check_clean_carouse': 'Kontroller rensekarussel',
                      'audio_error': 'Lydfejl'
                    } -%}
                    {%- set msg = errmap.get(err, (err | replace('_',' ') | capitalize)) -%}
                    {%- set out = 'Fejl: ' ~ msg -%}

                  {# ——— 2) Dock-fejl ——— #}

                  {%- elif states('sensor.roborock_qrevo_edge_dock_dock_error')
                  not in ['ok', 'unavailable'] -%}
                    {%- set derr = states('sensor.roborock_qrevo_edge_dock_dock_error') -%}
                    {%- set dockmap = {
                      'duct_blockage': 'Dock sugekanal blokeret',
                      'water_empty': 'Tank til rent vand er tom',
                      'waste_water_tank_full': 'Tank til snavset vand er fuld',
                      'maintenance_brush_jammed': 'Rensebørste fastklemt',
                      'dirty_tank_latch_open': 'Tank-lås til snavset vand er åben',
                      'no_dustbin': 'Ingen støvbeholder',
                      'cleaning_tank_full_or_blocked': 'Rensetank fuld eller blokeret'
                    } -%}
                    {%- set dmsg = dockmap.get(derr, (derr | replace('_',' ') | capitalize)) -%}
                    {%- set out = 'Dock-fejl: ' ~ dmsg -%}

                  {# ——— 3) Rengøringsfremskridt ——— #}

                  {%- elif
                  is_state('binary_sensor.roborock_qrevo_edge_cleaning', 'on')
                         or is_state('script.stovsuger_start_rengoring', 'on') -%}
                    {%- set out = 'Forløbet rengøring: ' ~ states('sensor.roborock_qrevo_edge_cleaning_progress') ~ '%' -%}

                  {# ——— 4) Tørretid (beholdt uændret) ——— #}

                  {%- elif
                  is_state('binary_sensor.roborock_qrevo_edge_dock_mop_drying',
                  'on') -%}
                    {%- set secs = states('sensor.roborock_qrevo_edge_dock_mop_drying_remaining_time') | int(0) -%}
                    {%- set h = (secs // 3600) -%}
                    {%- set m = ((secs % 3600) // 60) -%}
                    {%- if h > 0 and m > 0 -%}
                      {%- set rest = h ~ ' ' ~ ('time' if h == 1 else 'timer') ~ ' ' ~ m ~ ' min.' -%}
                    {%- elif h > 0 -%}
                      {%- set rest = h ~ ' ' ~ ('time' if h == 1 else 'timer') -%}
                    {%- else -%}
                      {%- set rest = m ~ ' min.' -%}
                    {%- endif -%}
                    {%- set out = 'Resterende tørretid: ' ~ rest -%}

                  {# ——— 5) Fallback ——— #}

                  {%- else -%}
                    {%- set out = 'Alt ok!' -%}
                  {%- endif -%}


                  {# ——— Batteri: “Batteri oplader: xx%” kun hvis charging OG <
                  100, ellers “Batteri: xx%” ——— #}

                  {%- set batt_raw =
                  states('sensor.roborock_qrevo_edge_batteri') | string -%}

                  {%- set batt = batt_raw | replace('%','') | trim -%}

                  {%- set batt_num = batt | int(0) -%}

                  {%- set stat = states('sensor.roborock_qrevo_edge_status') -%}

                  {{ out ~ '\n' ~ ( 'Batteri oplader: ' ~ batt ~ '%' if (stat ==
                  'charging' and batt_num < 100) else 'Batteri: ' ~ batt ~ '%' )
                  }}
            columns: 1
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: sensor.roborock_qrevo_edge_custom_state
                    state_not: cleaning
                  - condition: state
                    entity: sensor.roborock_qrevo_edge_custom_state
                    state_not: returning_home
            card:
              type: picture-elements
              elements:
                - type: image
                  image: /local/roborock/docked.png
                  style:
                    top: 50%
                    left: 50%
                    width: 100%
                    height: 100%
                    pointer-events: all
                    transform: translate(-50%, -50%)
                  tap_action:
                    action: none
              image: /local/roborock/docked.png
              card_mod:
                style: |
                  ha-card {
                    background: none;
                  }
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: sensor.roborock_qrevo_edge_custom_state
                    state: cleaning
                  - condition: state
                    entity: sensor.roborock_qrevo_edge_custom_state
                    state: returning_home
            card:
              type: picture-elements
              elements:
                - type: image
                  image: /local/roborock/running3.png
                  style:
                    top: 50%
                    left: 50%
                    width: 100%
                    height: 100%
                    pointer-events: all
                    transform: translate(-50%, -50%)
                  tap_action:
                    action: none
              image: /local/roborock/running3.png
              card_mod:
                style: |
                  ha-card {
                    background: none;
                  }
        columns: 1
        title: STØVSUGER
        view_layout:
          column: 1
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 60px
                - box-shadow: none
                - background-color: transparent
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: RUM
              - square: false
                type: grid
                cards:
                  - type: custom:swipe-card
                    start_card: 1
                    reset_after: 20
                    parameters:
                      effect: flip
                      slideShadows: true
                    cards:
                      - type: grid
                        columns: 1
                        square: false
                        cards:
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_garage
                            show_name: false
                            show_state: false
                            icon: mdi:garage-variant
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Garage
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_garage'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_entre
                            show_name: false
                            show_state: false
                            icon: mdi:door
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Entre
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_entre'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_kokken
                            show_name: false
                            show_state: false
                            icon: mdi:pot-steam
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Køkken
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_kokken'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_spisestue
                            show_name: false
                            show_state: false
                            icon: mdi:silverware-variant
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Spisestue
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_spisestue'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_kontor
                            show_name: false
                            show_state: false
                            icon: mdi:laptop
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Kontor
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_kontor'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_stue
                            show_name: false
                            show_state: false
                            icon: mdi:sofa
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Stue
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_stue'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            show_name: false
                            show_icon: false
                            show_state: false
                            tap_action:
                              action: none
                            hold_action:
                              action: none
                            double_tap_action:
                              action: none
                            variables:
                              dot1_size: 40px
                              dot1_color: var(--icon-farve-2)
                              dot2_size: 20px
                              dot2_color: var(--icon-farve-2)
                              gap: 5px
                            styles:
                              card:
                                - background: none
                                - border: none
                                - box-shadow: none
                                - border-radius: 0
                                - padding: 0
                                - height: 20px
                              grid:
                                - grid-template-areas: '"dots"'
                                - grid-template-columns: 1fr
                                - grid-template-rows: 1fr
                                - height: 100%
                              custom_fields:
                                dots:
                                  - display: flex
                                  - align-items: center
                                  - justify-content: center
                                  - height: 100%
                                  - width: 100%
                                  - line-height: 0
                            custom_fields:
                              dots: |
                                [[[
                                  const s1  = variables.dot1_size  || '18px';
                                  const c1  = variables.dot1_color || 'var(--primary-text-color)';
                                  const s2  = variables.dot2_size  || '18px';
                                  const c2  = variables.dot2_color || 'var(--primary-text-color)';
                                  const gap = variables.gap        || '8px';

                                  return `
                                    <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                                    <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                                  `;
                                ]]]
                      - type: grid
                        columns: 1
                        square: false
                        cards:
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_christine
                            show_name: false
                            show_state: false
                            icon: mdi:teddy-bear
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Christine
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_christine'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_julian
                            show_name: false
                            show_state: false
                            icon: mdi:toy-brick
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Julian
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_julian'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_badevaerelse
                            show_name: false
                            show_state: false
                            icon: mdi:shower
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Badeværelse
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_badevaerelse'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_lille_bad
                            show_name: false
                            show_state: false
                            icon: mdi:shower-head
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Lille bad
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_lille_bad'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_sovevaerelse
                            show_name: false
                            show_state: false
                            icon: mdi:bed
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Soveværelse
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_sovevaerelse'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            show_name: false
                            show_icon: false
                            show_state: false
                            tap_action:
                              action: none
                            hold_action:
                              action: none
                            double_tap_action:
                              action: none
                            variables:
                              dot1_size: 20px
                              dot1_color: var(--icon-farve-2)
                              dot2_size: 40px
                              dot2_color: var(--icon-farve-2)
                              gap: 5px
                            styles:
                              card:
                                - background: none
                                - border: none
                                - box-shadow: none
                                - border-radius: 0
                                - padding: 0
                                - height: 20px
                              grid:
                                - grid-template-areas: '"dots"'
                                - grid-template-columns: 1fr
                                - grid-template-rows: 1fr
                                - height: 100%
                              custom_fields:
                                dots:
                                  - display: flex
                                  - align-items: center
                                  - justify-content: center
                                  - height: 100%
                                  - width: 100%
                                  - line-height: 0
                            custom_fields:
                              dots: |
                                [[[
                                  const s1  = variables.dot1_size  || '18px';
                                  const c1  = variables.dot1_color || 'var(--primary-text-color)';
                                  const s2  = variables.dot2_size  || '18px';
                                  const c2  = variables.dot2_color || 'var(--primary-text-color)';
                                  const gap = variables.gap        || '8px';

                                  return `
                                    <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                                    <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                                  `;
                                ]]]
                columns: 1
            columns: 1
            view_layout:
              column: 1
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 60px
                - box-shadow: none
                - background-color: transparent
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: STØVSUGER
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: Stille
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - margin-bottom: 14px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'quiet'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/stille.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/stille.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'quiet'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'quiet'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: quiet
                hold_action:
                  action: none
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: Balanceret
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'balanced'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/balanceret.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/balanceret.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'balanced'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'balanced'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: balanced
                hold_action:
                  action: none
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: Turbo
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'turbo'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/turbo.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/turbo.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'turbo'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'turbo'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: turbo
                hold_action:
                  action: none
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: Maks
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'max'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': url('/local/icons/max.svg') no-repeat center / contain
                      - mask: url('/local/icons/max.svg') no-repeat center / contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'max'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'max'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: max
                hold_action:
                  action: none
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: MAX+
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'max_plus'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/max_plus.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/max_plus.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'max_plus'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'max_plus'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: max_plus
                hold_action:
                  action: none
            columns: 5
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: GULVVASK
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppeintensitet
                name: Lav
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="vand"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.state === 'mild'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/vand_lav.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/vand_lav.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.state === 'mild'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.state === 'mild'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppeintensitet
                  data:
                    option: mild
                hold_action:
                  action: none
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppeintensitet
                name: Medium
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="vand"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.state === 'moderate'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/vand_medium.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/vand_medium.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.state === 'moderate'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.state === 'moderate'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppeintensitet
                  data:
                    option: moderate
                hold_action:
                  action: none
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppeintensitet
                name: Høj
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="vand"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.state === 'intense'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/vand_hoej.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/vand_hoej.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.state === 'intense'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.state === 'intense'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppeintensitet
                  data:
                    option: intense
                hold_action:
                  action: none
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppetilstand
                name: Standard
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="Rute"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - margin-bottom: 14px
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return (entity.state === 'standard' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/rute_standard.svg') no-repeat center
                          / contain
                      - mask: >-
                          url('/local/icons/rute_standard.svg') no-repeat center
                          / contain
                      - background-color: |
                          [[[
                            return (entity.state === 'standard' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return (entity.state === 'standard' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppetilstand
                  data:
                    option: standard
                hold_action:
                  action: none
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppetilstand
                name: Dyb
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="Rute"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return (entity.state === 'deep' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/rute_dyb.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/rute_dyb.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return (entity.state === 'deep' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return (entity.state === 'deep' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppetilstand
                  data:
                    option: deep
                hold_action:
                  action: none
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppetilstand
                name: Dyb+
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="Rute"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return (entity.state === 'deep_plus' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/rute_dyb_plus.svg') no-repeat center
                          / contain
                      - mask: >-
                          url('/local/icons/rute_dyb_plus.svg') no-repeat center
                          / contain
                      - background-color: |
                          [[[
                            return (entity.state === 'deep_plus' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return (entity.state === 'deep-plus' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppetilstand
                  data:
                    option: deep_plus
                hold_action:
                  action: none
            columns: 3
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: TILSTAND
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - padding: px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - height: 70px
                    - background: |
                        [[[ 
                          return entity.attributes.fan_speed === 'off' ? 'var(--custom-button-infobox)' : 'var(--custom-button-gradient-1)';
                        ]]]
                  grid:
                    - position: absolute
                  custom_fields:
                    icon:
                      - position: absolute
                      - left: 7%
                      - width: 45px
                      - height: 45px
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/vacuum.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/vacuum.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'off'
                              ? 'var(--icon-farve-2)'
                              : 'var(--icon-farve)';
                          ]]]
                    info:
                      - color: |
                          [[[ 
                            return entity.attributes.fan_speed === 'off' ? '' : 'var(--text-primary-color)';
                          ]]]
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 15px
                    tilstand:
                      - color: |
                          [[[ 
                            return entity.attributes.fan_speed === 'off' ? '' : 'var(--text-primary-color)';
                          ]]]
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 40px
                custom_fields:
                  icon: |
                    <div class="mop"></div>
                  info: Støvsuger
                  tilstand: |
                    [[[
                      return states['input_select.stovsuger_tilstand'].state;
                    ]]]
                tap_action:
                  action: call-service
                  service: script.stovsuger_tilstand_2
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppeintensitet
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - padding: px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - height: 70px
                    - background: |
                        [[[ 
                          return entity.state === 'off' ? 'var(--custom-button-infobox)' : 'var(--custom-button-gradient-1)';
                        ]]]
                  grid:
                    - position: absolute
                  custom_fields:
                    icon:
                      - position: absolute
                      - left: 7%
                      - width: 45px
                      - height: 45px
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/gulvvask.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/gulvvask.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.state === 'off'
                              ? 'var(--icon-farve-2)'
                              : 'var(--icon-farve)';
                          ]]]
                    info:
                      - color: |
                          [[[ 
                            return entity.state === 'off' ? '' : 'var(--text-primary-color)';
                          ]]]
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 15px
                    tilstand:
                      - color: |
                          [[[ 
                            return entity.state === 'off' ? '' : 'var(--text-primary-color)';
                          ]]]
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 40px
                custom_fields:
                  icon: |
                    <div class="mop"></div>
                  info: Gulvvask
                  tilstand: |
                    [[[ 
                      return entity.state === 'off' ? 'Fra' : 'Til'; 
                    ]]]
                tap_action:
                  action: call-service
                  service: select.select_option
                  service_data: |
                    [[[ 
                      return entity.state === 'off'
                        ? { entity_id: 'select.roborock_qrevo_edge_moppeintensitet', option: 'mild' }
                        : { entity_id: 'select.roborock_qrevo_edge_moppeintensitet', option: 'off' };
                    ]]]
            columns: 2
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: script.stovsuger_start_rengoring
                    state: 'off'
                  - condition: state
                    entity: binary_sensor.roborock_qrevo_edge_cleaning
                    state: 'off'
                  - condition: or
                    conditions:
                      - condition: state
                        entity: input_boolean.stovsuger_entre
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_garage
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_kokken
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_spisestue
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_stue
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_lille_bad
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_julian
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_christine
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_kontor
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_sovevaerelse
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_badevaerelse
                        state: 'on'
            card:
              square: false
              type: grid
              cards:
                - type: custom:button-card
                  entity: input_select.stovsuger_repeats
                  show_icon: false
                  show_name: false
                  styles:
                    grid:
                      - grid-template-areas: '"txt"'
                      - grid-template-columns: 1fr
                      - grid-template-rows: 1fr
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: |
                          [[[
                            return entity.state === '1'
                              ? 'var(--custom-button-gradient-1)'
                              : 'var(--custom-button-infobox)';
                          ]]]
                      - height: 70px
                      - display: flex
                      - justify-content: center
                      - align-items: center
                    custom_fields:
                      txt:
                        - justify-self: center
                        - align-self: center
                        - text-align: center
                        - line-height: 1
                        - color: |
                            [[[
                              return entity.state === '1'
                                ? 'var(--icon-farve)'
                                : 'var(--icon-farve-1)';
                            ]]]
                  custom_fields:
                    txt: >
                      <span style="font-size:22px; vertical-align:middle;
                      margin-right:-2px;">x</span>

                      <span style="font-size:30px;
                      vertical-align:middle;">1</span>
                  tap_action:
                    action: perform-action
                    perform_action: input_select.select_option
                    target:
                      entity_id: input_select.stovsuger_repeats
                    data:
                      option: '1'
                - type: custom:button-card
                  entity: input_select.stovsuger_repeats
                  show_icon: false
                  show_name: false
                  styles:
                    grid:
                      - grid-template-areas: '"txt"'
                      - grid-template-columns: 1fr
                      - grid-template-rows: 1fr
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: |
                          [[[
                            return entity.state === '2'
                              ? 'var(--custom-button-gradient-1)'
                              : 'var(--custom-button-infobox)';
                          ]]]
                      - height: 70px
                      - display: flex
                      - justify-content: center
                      - align-items: center
                    custom_fields:
                      txt:
                        - justify-self: center
                        - align-self: center
                        - text-align: center
                        - line-height: 1
                        - color: |
                            [[[
                              return entity.state === '2'
                                ? 'var(--icon-farve)'
                                : 'var(--icon-farve-1)';
                            ]]]
                  custom_fields:
                    txt: >
                      <span style="font-size:22px; vertical-align:middle;
                      margin-right:-2px;">x</span>

                      <span style="font-size:30px;
                      vertical-align:middle;">2</span>
                  tap_action:
                    action: perform-action
                    perform_action: input_select.select_option
                    target:
                      entity_id: input_select.stovsuger_repeats
                    data:
                      option: '2'
                - type: custom:button-card
                  entity: input_select.stovsuger_repeats
                  show_icon: false
                  show_name: false
                  styles:
                    grid:
                      - grid-template-areas: '"txt"'
                      - grid-template-columns: 1fr
                      - grid-template-rows: 1fr
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: |
                          [[[
                            return entity.state === '3'
                              ? 'var(--custom-button-gradient-1)'
                              : 'var(--custom-button-infobox)';
                          ]]]
                      - height: 70px
                      - display: flex
                      - justify-content: center
                      - align-items: center
                    custom_fields:
                      txt:
                        - justify-self: center
                        - align-self: center
                        - text-align: center
                        - line-height: 1
                        - color: |
                            [[[
                              return entity.state === '3'
                                ? 'var(--icon-farve)'
                                : 'var(--icon-farve-1)';
                            ]]]
                  custom_fields:
                    txt: >
                      <span style="font-size:22px; vertical-align:middle;
                      margin-right:-2px;">x</span>

                      <span style="font-size:30px;
                      vertical-align:middle;">3</span>
                  tap_action:
                    action: perform-action
                    perform_action: input_select.select_option
                    target:
                      entity_id: input_select.stovsuger_repeats
                    data:
                      option: '3'
              columns: 3
        columns: 1
        view_layout:
          column: 3
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/stovsuger
    layout:
      max_cols: 3
      max_width: 390
      width: 430
      height: null
  - type: custom:grid-layout
    path: test2
    title: Test2
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: STATUS
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: script.stovsuger_start_rengoring
                        state: 'off'
                      - condition: state
                        entity: binary_sensor.roborock_qrevo_edge_cleaning
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_entre
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_garage
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_kokken
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_spisestue
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_stue
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_lille_bad
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_julian
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_christine
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_kontor
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_sovevaerelse
                        state: 'off'
                      - condition: state
                        entity: input_boolean.stovsuger_badevaerelse
                        state: 'off'
                card:
                  type: custom:button-card
                  entity: vacuum.roborock_qrevo_edge
                  show_name: false
                  show_state: false
                  icon: mdi:play
                  styles:
                    card:
                      - padding: px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - height: 70px
                      - background: >-
                          linear-gradient(90deg, rgba(0,92,0,1) 0%,
                          rgba(0,162,0,1) 50%);
                    icon:
                      - width: 45px
                      - height: 45px
                      - color: var(--icon-farve)
                      - left: 7%
                    grid:
                      - position: absolute
                    custom_fields:
                      status:
                        - color: var(--text-primary-color)
                        - font-size: 18px
                        - font-weight: bold
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 15px
                      rum:
                        - color: var(--text-primary-color)
                        - font-size: 12px
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 40px
                  custom_fields:
                    status: Start rengøring
                    rum: Alle rum
                  tap_action:
                    action: call-service
                    service: script.stovsuger_start_rengoring
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: script.stovsuger_start_rengoring
                        state: 'off'
                      - condition: state
                        entity: binary_sensor.roborock_qrevo_edge_cleaning
                        state: 'off'
                      - condition: or
                        conditions:
                          - condition: state
                            entity: input_boolean.stovsuger_entre
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_garage
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_kokken
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_spisestue
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_stue
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_lille_bad
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_julian
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_christine
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_kontor
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_sovevaerelse
                            state: 'on'
                          - condition: state
                            entity: input_boolean.stovsuger_badevaerelse
                            state: 'on'
                card:
                  type: custom:button-card
                  entity: vacuum.roborock_qrevo_edge
                  show_name: false
                  show_state: false
                  icon: mdi:play
                  styles:
                    card:
                      - padding: px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - height: 70px
                      - background: >-
                          linear-gradient(90deg, rgba(0,92,0,1) 0%,
                          rgba(0,162,0,1) 50%);
                    icon:
                      - width: 45px
                      - height: 45px
                      - color: var(--icon-farve)
                      - left: 7%
                    grid:
                      - position: absolute
                    custom_fields:
                      status:
                        - color: var(--text-primary-color)
                        - font-size: 18px
                        - font-weight: bold
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 15px
                      rum:
                        - color: var(--text-primary-color)
                        - font-size: 12px
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 40px
                  custom_fields:
                    status: Start rengøring
                    rum: |
                      [[[
                        const count = states['sensor.stovsuger_antal_valgte_rum'];
                        if (!count) return '';
                        const antal = parseInt(count.state);
                        return `${antal} valgt${antal === 1 ? '' : 'e'} rum`;
                      ]]]
                  tap_action:
                    action: call-service
                    service: script.stovsuger_start_rengoring
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: or
                        conditions:
                          - condition: state
                            entity: script.stovsuger_start_rengoring
                            state: 'on'
                          - condition: state
                            entity: binary_sensor.roborock_qrevo_edge_cleaning
                            state: 'on'
                      - condition: state
                        entity: vacuum.roborock_qrevo_edge
                        state_not: paused
                      - condition: state
                        entity: sensor.roborock_qrevo_edge_vacuum_error
                        state: none
                card:
                  type: custom:button-card
                  entity: vacuum.roborock_qrevo_edge
                  show_name: false
                  show_state: false
                  icon: mdi:pause
                  styles:
                    card:
                      - padding: px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - height: 70px
                      - background: var(--custom-button-gradient-2)
                    icon:
                      - width: 45px
                      - height: 45px
                      - color: var(--icon-farve)
                      - left: 7%
                    grid:
                      - position: relative
                    custom_fields:
                      status:
                        - font-size: 18px
                        - font-weight: bold
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 20%
                        - color: var(--icon-farve)
                  custom_fields:
                    status: Pause rengøring
                  tap_action:
                    action: perform-action
                    perform_action: vacuum.pause
                    target:
                      entity_id: vacuum.roborock_qrevo_edge
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.roborock_qrevo_edge_cleaning
                        state: 'on'
                      - condition: state
                        entity: sensor.roborock_qrevo_edge_status
                        state: charging
                card:
                  type: custom:button-card
                  entity: vacuum.roborock_qrevo_edge
                  show_name: false
                  show_state: false
                  icon: mdi:play
                  styles:
                    card:
                      - padding: px
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - height: 70px
                      - background: var(--custom-button-gradient-2)
                    icon:
                      - width: 45px
                      - height: 45px
                      - color: var(--icon-farve)
                      - left: 7%
                    grid:
                      - position: relative
                    custom_fields:
                      status:
                        - font-size: 18px
                        - font-weight: bold
                        - position: absolute
                        - justify-self: center
                        - right: 7%
                        - top: 20%
                        - color: var(--icon-farve)
                  custom_fields:
                    status: Genoptag rengøring
                  tap_action:
                    action: perform-action
                    perform_action: vacuum.start
                    target:
                      entity_id: vacuum.roborock_qrevo_edge
              - square: false
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: or
                        conditions:
                          - condition: state
                            entity: vacuum.roborock_qrevo_edge
                            state: paused
                          - condition: and
                            conditions:
                              - condition: state
                                entity: vacuum.roborock_qrevo_edge
                                state: idle
                              - condition: state
                                entity: sensor.roborock_qrevo_edge_vacuum_error
                                state_not: none
                    card:
                      type: custom:button-card
                      entity: vacuum.roborock_qrevo_edge
                      show_name: false
                      show_state: false
                      icon: mdi:play
                      styles:
                        card:
                          - padding: px
                          - border-radius: var(--border-radius-1)
                          - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                          - height: 70px
                          - background: >-
                              linear-gradient(90deg, rgba(0,92,0,1) 0%,
                              rgba(0,162,0,1) 50%);
                        icon:
                          - width: 45px
                          - height: 45px
                          - color: var(--icon-farve)
                          - left: 7%
                        grid:
                          - position: relative
                        custom_fields:
                          status:
                            - color: var(--text-primary-color)
                            - font-size: 18px
                            - font-weight: bold
                            - position: absolute
                            - justify-self: center
                            - right: 7%
                            - top: 30%
                      custom_fields:
                        status: Fortsæt
                      tap_action:
                        action: perform-action
                        perform_action: vacuum.start
                        target:
                          entity_id: vacuum.roborock_qrevo_edge
                  - type: conditional
                    conditions:
                      - condition: or
                        conditions:
                          - condition: state
                            entity: vacuum.roborock_qrevo_edge
                            state: paused
                          - condition: and
                            conditions:
                              - condition: state
                                entity: vacuum.roborock_qrevo_edge
                                state: idle
                              - condition: state
                                entity: sensor.roborock_qrevo_edge_vacuum_error
                                state_not: none
                    card:
                      type: custom:button-card
                      entity: vacuum.roborock_qrevo_edge
                      show_name: false
                      show_state: false
                      icon: mdi:home
                      styles:
                        card:
                          - padding: px
                          - border-radius: var(--border-radius-1)
                          - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                          - height: 70px
                          - background: >-
                              linear-gradient(90deg, rgba(0,0,140,1) 0%,
                              rgba(88,88,255,1) 50%);
                        icon:
                          - width: 45px
                          - height: 45px
                          - color: var(--icon-farve)
                          - left: 7%
                        grid:
                          - position: relative
                        custom_fields:
                          status:
                            - color: var(--text-primary-color)
                            - font-size: 18px
                            - font-weight: bold
                            - position: absolute
                            - justify-self: center
                            - right: 7%
                            - top: 30%
                      custom_fields:
                        status: Vend hjem
                      tap_action:
                        action: perform-action
                        perform_action: vacuum.return_to_base
                        target:
                          entity_id: vacuum.roborock_qrevo_edge
                columns: 2
            columns: 1
            view_layout:
              column: 2
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: >-
                  {% if states('vacuum.roborock_qrevo_edge') == 'docked' and
                  state_attr('vacuum.roborock_qrevo_edge', 'dockErrorStatus') ==
                  38 %}
                    Fejl
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'error' %}
                    Fejl!
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'on_charging' %}
                    Pause
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'off_charging' %}
                    I dock
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'cleaning' %}
                    Gør rent
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'on_washing_the_mop' %}
                    Vasker klud
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'off_washing_the_mop' %}
                    Vasker klud
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'on_emptying_the_bin' %}
                    I dock
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'off_emptying_the_bin' %}
                    I dock
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'on_returning_home' %}
                    Vender hjem
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'off_returning_home' %}
                    Vender hjem
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'docked' %}
                    I dock
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'on_going_to_wash_the_mop' %}
                    Vender hjem
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'off_going_to_wash_the_mop' %}
                    Vender hjem
                  {% elif states('vacuum.roborock_qrevo_edge') == 'paused' %}
                    På pause
                  {% else %}
                    Ukendt status
                  {% endif %}
                subtitle: >
                  {% if states('sensor.roborock_qrevo_edge_custom_state') in
                  ['cleaning', 'on_charging', 'on_washing_the_mop',
                  'on_emptying_the_bin', 'on_going_to_wash_the_mop'] %}
                    {{ states('sensor.roborock_qrevo_edge_cleaning_progress') }}%
                  {% elif states('sensor.roborock_qrevo_edge_dock_dock_error')
                  != 'ok' %}
                    Påfyld / udskift vand
                  {% elif states('binary_sensor.roborock_qrevo_edge_mop_drying')
                  == 'on' %}
                    Tørrer klud
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'on_emptying_the_bin' %}
                    Tømmer beholder
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'off_emptying_the_bin' %}
                    Tømmer beholder
                  {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                  'error' %}
                    {{ states('sensor.roborock_qrevo_edge_vacuum_error').replace('_', ' ').capitalize() }}
                  {% else %}

                  Alt ok!

                  {% endif %}
              - type: custom:mushroom-title-card
                title: Batteri
                subtitle: >-
                  {% if states('sensor.roborock_qrevo_edge_custom_state') in
                  ['on_charging', 'off_charging'] %}
                    Oplader {{ states('sensor.roborock_qrevo_edge_batteri') }}%
                  {% else %}
                    {{ states('sensor.roborock_qrevo_edge_batteri') }}%
                  {% endif %}
                alignment: end
            columns: 2
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: sensor.roborock_qrevo_edge_custom_state
                    state: cleaning
                  - condition: state
                    entity: sensor.roborock_qrevo_edge_custom_state
                    state: returning_home
            card:
              type: picture
              image: /local/roborock/running.png
              tap_action:
                action: none
              hold_action:
                action: none
              view_layout:
                column: 3
              card_mod:
                style: |
                  ha-card {
                  background: none;
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: sensor.roborock_qrevo_edge_custom_state
                    state_not: cleaning
                  - condition: state
                    entity: sensor.roborock_qrevo_edge_custom_state
                    state_not: returning_home
            card:
              type: picture
              image: /local/roborock/docked.png
              tap_action:
                action: none
              hold_action:
                action: none
              view_layout:
                column: 3
              card_mod:
                style: |
                  ha-card {
                  background: none;
                  }
        columns: 1
        title: STØVSUGER
        view_layout:
          grid-area: c2
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 60px
                - box-shadow: none
                - background-color: transparent
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: RUM
              - square: false
                type: grid
                cards:
                  - type: custom:swipe-card
                    start_card: 1
                    reset_after: 20
                    parameters:
                      effect: flip
                      slideShadows: true
                    cards:
                      - type: grid
                        columns: 1
                        square: false
                        cards:
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_garage
                            show_name: false
                            show_state: false
                            icon: mdi:garage-variant
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Garage
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_garage'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_entre
                            show_name: false
                            show_state: false
                            icon: mdi:door
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Entre
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_entre'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_kokken
                            show_name: false
                            show_state: false
                            icon: mdi:pot-steam
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Køkken
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_kokken'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_spisestue
                            show_name: false
                            show_state: false
                            icon: mdi:silverware-variant
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Spisestue
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_spisestue'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_kontor
                            show_name: false
                            show_state: false
                            icon: mdi:laptop
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Kontor
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_kontor'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_stue
                            show_name: false
                            show_state: false
                            icon: mdi:sofa
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Stue
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_stue'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            show_name: false
                            show_icon: false
                            show_state: false
                            tap_action:
                              action: none
                            hold_action:
                              action: none
                            double_tap_action:
                              action: none
                            variables:
                              dot1_size: 40px
                              dot1_color: var(--icon-farve-2)
                              dot2_size: 20px
                              dot2_color: var(--icon-farve-2)
                              gap: 5px
                            styles:
                              card:
                                - background: none
                                - border: none
                                - box-shadow: none
                                - border-radius: 0
                                - padding: 0
                                - height: 20px
                              grid:
                                - grid-template-areas: '"dots"'
                                - grid-template-columns: 1fr
                                - grid-template-rows: 1fr
                                - height: 100%
                              custom_fields:
                                dots:
                                  - display: flex
                                  - align-items: center
                                  - justify-content: center
                                  - height: 100%
                                  - width: 100%
                                  - line-height: 0
                            custom_fields:
                              dots: |
                                [[[
                                  const s1  = variables.dot1_size  || '18px';
                                  const c1  = variables.dot1_color || 'var(--primary-text-color)';
                                  const s2  = variables.dot2_size  || '18px';
                                  const c2  = variables.dot2_color || 'var(--primary-text-color)';
                                  const gap = variables.gap        || '8px';

                                  return `
                                    <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                                    <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                                  `;
                                ]]]
                      - type: grid
                        columns: 1
                        square: false
                        cards:
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_christine
                            show_name: false
                            show_state: false
                            icon: mdi:teddy-bear
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Christine
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_christine'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_julian
                            show_name: false
                            show_state: false
                            icon: mdi:toy-brick
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Julian
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_julian'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_badevaerelse
                            show_name: false
                            show_state: false
                            icon: mdi:shower
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Badeværelse
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_badevaerelse'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_lille_bad
                            show_name: false
                            show_state: false
                            icon: mdi:shower-head
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Lille bad
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_lille_bad'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            entity: input_boolean.stovsuger_sovevaerelse
                            show_name: false
                            show_state: false
                            icon: mdi:bed
                            state:
                              - value: 'on'
                                styles:
                                  card:
                                    - background: var(--custom-button-gradient-1)
                                  icon:
                                    - color: var(--icon-farve)
                                  custom_fields:
                                    rum:
                                      - color: var(--text-primary-color)
                                    tilstand:
                                      - color: var(--text-primary-color)
                            styles:
                              card:
                                - border-radius: var(--border-radius-1)
                                - background: var(--custom-button-infobox)
                                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                                - height: 70px
                              icon:
                                - width: 45px
                                - height: 45px
                                - color: var(--icon-farve-2)
                                - left: 7%
                              grid:
                                - position: absolute
                              custom_fields:
                                rum:
                                  - font-size: 18px
                                  - font-weight: bold
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 15px
                                tilstand:
                                  - font-size: 12px
                                  - position: absolute
                                  - justify-self: center
                                  - right: 7%
                                  - top: 40px
                            custom_fields:
                              rum: Soveværelse
                              tilstand: |
                                [[[
                                  return states['input_boolean.stovsuger_sovevaerelse'].state === 'on' ? 'Til' : 'Fra';
                                ]]]
                            tap_action:
                              action: toggle
                          - type: custom:button-card
                            show_name: false
                            show_icon: false
                            styles:
                              card:
                                - height: 64px
                                - box-shadow: none
                                - background-color: transparent
                          - type: custom:button-card
                            show_name: false
                            show_icon: false
                            show_state: false
                            tap_action:
                              action: none
                            hold_action:
                              action: none
                            double_tap_action:
                              action: none
                            variables:
                              dot1_size: 20px
                              dot1_color: var(--icon-farve-2)
                              dot2_size: 40px
                              dot2_color: var(--icon-farve-2)
                              gap: 5px
                            styles:
                              card:
                                - background: none
                                - border: none
                                - box-shadow: none
                                - border-radius: 0
                                - padding: 0
                                - height: 20px
                              grid:
                                - grid-template-areas: '"dots"'
                                - grid-template-columns: 1fr
                                - grid-template-rows: 1fr
                                - height: 100%
                              custom_fields:
                                dots:
                                  - display: flex
                                  - align-items: center
                                  - justify-content: center
                                  - height: 100%
                                  - width: 100%
                                  - line-height: 0
                            custom_fields:
                              dots: |
                                [[[
                                  const s1  = variables.dot1_size  || '18px';
                                  const c1  = variables.dot1_color || 'var(--primary-text-color)';
                                  const s2  = variables.dot2_size  || '18px';
                                  const c2  = variables.dot2_color || 'var(--primary-text-color)';
                                  const gap = variables.gap        || '8px';

                                  return `
                                    <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                                    <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                                  `;
                                ]]]
                columns: 1
            columns: 1
            view_layout:
              column: 1
        columns: 1
        view_layout:
          grid-area: c3
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 60px
                - box-shadow: none
                - background-color: transparent
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: STØVSUGER
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: Stille
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - margin-bottom: 14px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'quiet'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/stille.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/stille.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'quiet'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'quiet'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: quiet
                hold_action:
                  action: none
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: Balanceret
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'balanced'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/balanceret.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/balanceret.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'balanced'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'balanced'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: balanced
                hold_action:
                  action: none
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: Turbo
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'turbo'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/turbo.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/turbo.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'turbo'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'turbo'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: turbo
                hold_action:
                  action: none
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: Maks
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'max'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': url('/local/icons/max.svg') no-repeat center / contain
                      - mask: url('/local/icons/max.svg') no-repeat center / contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'max'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'max'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: max
                hold_action:
                  action: none
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                name: MAX+
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="test"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.attributes.fan_speed === 'max_plus'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/max_plus.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/max_plus.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.attributes.fan_speed === 'max_plus'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.attributes.fan_speed === 'max_plus'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: vacuum.set_fan_speed
                  target:
                    entity_id: vacuum.roborock_qrevo_edge
                  data:
                    fan_speed: max_plus
                hold_action:
                  action: none
            columns: 5
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: GULVVASK
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppeintensitet
                name: Lav
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="vand"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.state === 'mild'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/vand_lav.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/vand_lav.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.state === 'mild'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.state === 'mild'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppeintensitet
                  data:
                    option: mild
                hold_action:
                  action: none
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppeintensitet
                name: Medium
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="vand"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.state === 'moderate'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/vand_medium.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/vand_medium.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.state === 'moderate'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.state === 'moderate'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppeintensitet
                  data:
                    option: moderate
                hold_action:
                  action: none
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppeintensitet
                name: Høj
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="vand"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return entity.state === 'intense'
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/vand_hoej.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/vand_hoej.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.state === 'intense'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return entity.state === 'intense'
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppeintensitet
                  data:
                    option: intense
                hold_action:
                  action: none
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppetilstand
                name: Standard
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="Rute"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - margin-bottom: 14px
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return (entity.state === 'standard' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/rute_standard.svg') no-repeat center
                          / contain
                      - mask: >-
                          url('/local/icons/rute_standard.svg') no-repeat center
                          / contain
                      - background-color: |
                          [[[
                            return (entity.state === 'standard' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return (entity.state === 'standard' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppetilstand
                  data:
                    option: standard
                hold_action:
                  action: none
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppetilstand
                name: Dyb
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="Rute"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return (entity.state === 'deep' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/rute_dyb.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/rute_dyb.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return (entity.state === 'deep' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return (entity.state === 'deep' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppetilstand
                  data:
                    option: deep
                hold_action:
                  action: none
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppetilstand
                name: Dyb+
                show_icon: false
                show_name: true
                custom_fields:
                  icon: |
                    <div class="Rute"></div>
                styles:
                  grid:
                    - grid-template-areas: '"icon" "n"'
                    - grid-template-rows: 1fr auto
                    - grid-template-columns: 1fr
                  card:
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: |
                        [[[
                          return (entity.state === 'deep_plus' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--custom-button-gradient-1)'
                            : 'var(--custom-button-infobox)';
                        ]]]
                    - height: 70px
                  custom_fields:
                    icon:
                      - grid-area: icon
                      - width: 36px
                      - height: 36px
                      - justify-self: center
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/rute_dyb_plus.svg') no-repeat center
                          / contain
                      - mask: >-
                          url('/local/icons/rute_dyb_plus.svg') no-repeat center
                          / contain
                      - background-color: |
                          [[[
                            return (entity.state === 'deep_plus' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                  name:
                    - color: |
                        [[[
                          return (entity.state === 'deep-plus' && states['select.roborock_qrevo_edge_moppeintensitet'].state !== 'off')
                            ? 'var(--text-primary-color)'
                            : '';
                        ]]]
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: perform-action
                  perform_action: select.select_option
                  target:
                    entity_id: select.roborock_qrevo_edge_moppetilstand
                  data:
                    option: deep_plus
                hold_action:
                  action: none
            columns: 3
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: TILSTAND
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: vacuum.roborock_qrevo_edge
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - padding: px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - height: 70px
                    - background: |
                        [[[ 
                          return entity.attributes.fan_speed === 'off' ? 'var(--custom-button-infobox)' : 'var(--custom-button-gradient-1)';
                        ]]]
                  grid:
                    - position: absolute
                  custom_fields:
                    icon:
                      - position: absolute
                      - left: 7%
                      - width: 45px
                      - height: 45px
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/vacuum.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/vacuum.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.state === 'mild'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                    info:
                      - color: |
                          [[[ 
                            return entity.attributes.fan_speed === 'off' ? '' : 'var(--text-primary-color)';
                          ]]]
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 15px
                    tilstand:
                      - color: |
                          [[[ 
                            return entity.attributes.fan_speed === 'off' ? '' : 'var(--text-primary-color)';
                          ]]]
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 40px
                custom_fields:
                  icon: |
                    <div class="mop"></div>
                  info: Støvsuger
                  tilstand: |
                    [[[
                      return states['input_select.stovsuger_tilstand'].state;
                    ]]]
                tap_action:
                  action: call-service
                  service: script.stovsuger_tilstand_2
              - type: custom:button-card
                entity: select.roborock_qrevo_edge_moppeintensitet
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - padding: px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - height: 70px
                    - background: |
                        [[[ 
                          return entity.state === 'off' ? 'var(--custom-button-infobox)' : 'var(--custom-button-gradient-1)';
                        ]]]
                  grid:
                    - position: absolute
                  custom_fields:
                    icon:
                      - position: absolute
                      - left: 7%
                      - width: 45px
                      - height: 45px
                      - align-self: center
                      - '-webkit-mask': >-
                          url('/local/icons/gulvvask.svg') no-repeat center /
                          contain
                      - mask: >-
                          url('/local/icons/gulvvask.svg') no-repeat center /
                          contain
                      - background-color: |
                          [[[
                            return entity.state === 'mild'
                              ? 'var(--icon-farve)'
                              : 'var(--icon-farve-2)';
                          ]]]
                    info:
                      - color: |
                          [[[ 
                            return entity.state === 'off' ? '' : 'var(--text-primary-color)';
                          ]]]
                      - font-size: 18px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 15px
                    tilstand:
                      - color: |
                          [[[ 
                            return entity.state === 'off' ? '' : 'var(--text-primary-color)';
                          ]]]
                      - font-size: 12px
                      - position: absolute
                      - justify-self: center
                      - right: 7%
                      - top: 40px
                custom_fields:
                  icon: |
                    <div class="mop"></div>
                  info: Gulvvask
                  tilstand: |
                    [[[ 
                      return entity.state === 'off' ? 'Fra' : 'Til'; 
                    ]]]
                tap_action:
                  action: call-service
                  service: select.select_option
                  service_data: |
                    [[[ 
                      return entity.state === 'off'
                        ? { entity_id: 'select.roborock_qrevo_edge_moppeintensitet', option: 'mild' }
                        : { entity_id: 'select.roborock_qrevo_edge_moppeintensitet', option: 'off' };
                    ]]]
            columns: 2
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: sensor.roborock_qrevo_edge_custom_state
                        state: docked
                      - condition: state
                        entity: sensor.roborock_qrevo_edge_custom_state
                        state: off_charging
                      - condition: state
                        entity: sensor.roborock_qrevo_edge_custom_state
                        state: off_washing_the_mop
                      - condition: state
                        entity: sensor.roborock_qrevo_edge_custom_state
                        state: off_emptying_the_bin
                  - condition: or
                    conditions:
                      - condition: state
                        entity: input_boolean.stovsuger_entre
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_garage
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_kokken
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_spisestue
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_stue
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_lille_bad
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_julian
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_christine
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_kontor
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_sovevaerelse
                        state: 'on'
                      - condition: state
                        entity: input_boolean.stovsuger_badevaerelse
                        state: 'on'
            card:
              square: false
              type: grid
              cards:
                - type: custom:button-card
                  entity: input_select.stovsuger_repeats
                  show_icon: false
                  show_name: false
                  styles:
                    grid:
                      - grid-template-areas: '"txt"'
                      - grid-template-columns: 1fr
                      - grid-template-rows: 1fr
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: |
                          [[[
                            return entity.state === '1'
                              ? 'var(--custom-button-gradient-1)'
                              : 'var(--custom-button-infobox)';
                          ]]]
                      - height: 70px
                      - display: flex
                      - justify-content: center
                      - align-items: center
                    custom_fields:
                      txt:
                        - justify-self: center
                        - align-self: center
                        - text-align: center
                        - line-height: 1
                  custom_fields:
                    txt: >
                      <span style="font-size:22px; vertical-align:middle;
                      margin-right:-2px;">x</span>

                      <span style="font-size:30px;
                      vertical-align:middle;">1</span>
                  tap_action:
                    action: perform-action
                    perform_action: input_select.select_option
                    target:
                      entity_id: input_select.stovsuger_repeats
                    data:
                      option: '1'
                - type: custom:button-card
                  entity: input_select.stovsuger_repeats
                  show_icon: false
                  show_name: false
                  styles:
                    grid:
                      - grid-template-areas: '"txt"'
                      - grid-template-columns: 1fr
                      - grid-template-rows: 1fr
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: |
                          [[[
                            return entity.state === '2'
                              ? 'var(--custom-button-gradient-1)'
                              : 'var(--custom-button-infobox)';
                          ]]]
                      - height: 70px
                      - display: flex
                      - justify-content: center
                      - align-items: center
                    custom_fields:
                      txt:
                        - justify-self: center
                        - align-self: center
                        - text-align: center
                        - line-height: 1
                  custom_fields:
                    txt: >
                      <span style="font-size:22px; vertical-align:middle;
                      margin-right:-2px;">x</span>

                      <span style="font-size:30px;
                      vertical-align:middle;">2</span>
                  tap_action:
                    action: perform-action
                    perform_action: input_select.select_option
                    target:
                      entity_id: input_select.stovsuger_repeats
                    data:
                      option: '2'
                - type: custom:button-card
                  entity: input_select.stovsuger_repeats
                  show_icon: false
                  show_name: false
                  styles:
                    grid:
                      - grid-template-areas: '"txt"'
                      - grid-template-columns: 1fr
                      - grid-template-rows: 1fr
                    card:
                      - border-radius: var(--border-radius-1)
                      - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                      - background: |
                          [[[
                            return entity.state === '3'
                              ? 'var(--custom-button-gradient-1)'
                              : 'var(--custom-button-infobox)';
                          ]]]
                      - height: 70px
                      - display: flex
                      - justify-content: center
                      - align-items: center
                    custom_fields:
                      txt:
                        - justify-self: center
                        - align-self: center
                        - text-align: center
                        - line-height: 1
                  custom_fields:
                    txt: >
                      <span style="font-size:22px; vertical-align:middle;
                      margin-right:-2px;">x</span>

                      <span style="font-size:30px;
                      vertical-align:middle;">3</span>
                  tap_action:
                    action: perform-action
                    perform_action: input_select.select_option
                    target:
                      entity_id: input_select.stovsuger_repeats
                    data:
                      option: '3'
              columns: 3
        columns: 1
        view_layout:
          grid-area: c4
      - type: conditional
        conditions:
          - condition: and
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: script.stovsuger_start_rengoring
                    state: 'on'
                  - condition: state
                    entity: binary_sensor.roborock_qrevo_edge_cleaning
                    state: 'on'
        card:
          square: false
          type: grid
          cards:
            - square: false
              type: grid
              cards:
                - type: custom:mushroom-title-card
                  title: >
                    {% if states('sensor.roborock_qrevo_edge_custom_state') in
                    ['cleaning', 'on_charging', 'on_washing_the_mop',
                    'on_emptying_the_bin', 'on_going_to_wash_the_mop'] %}
                      {{ states('sensor.roborock_qrevo_edge_cleaning_progress') }}%
                    {% elif states('sensor.roborock_qrevo_edge_dock_dock_error')
                    != 'ok' %}
                      Påfyld / udskift vand
                    {% elif
                    states('binary_sensor.roborock_qrevo_edge_mop_drying') ==
                    'on' %}
                      Tørrer klud
                    {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                    'on_emptying_the_bin' %}
                      Tømmer beholder
                    {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                    'off_emptying_the_bin' %}
                      Tømmer beholder
                    {% elif states('sensor.roborock_qrevo_edge_custom_state') ==
                    'error' %}
                      {{ states('sensor.roborock_qrevo_edge_vacuum_error').replace('_', ' ').capitalize() }}
                    {% else %}

                    Alt ok!

                    {% endif %}
              columns: 2
            - type: custom:button-card
              show_name: false
              show_icon: false
              styles:
                card:
                  - position: absolute
                  - padding: 0
                  - margin-top: '-5px'
                  - height: 8px
                  - box-shadow: none
                  - border-radius: var(--border-radius-1)
                  - background: |
                      [[[
                        const battery = parseFloat(states['sensor.roborock_qrevo_edge_cleaning_progress'].state) || 0;
                        let barColor;

                        if (battery < 10) {
                          barColor = 'var(--primary-color)';
                        } else if (battery < 20) {
                          barColor = 'var(--primary-color)';
                        } else if (battery < 40) {
                          barColor = 'var(--primary-color)';
                        } else {
                          barColor = 'var(--primary-color)';
                        }

                        return `linear-gradient(
                          to right,
                          ${barColor} ${battery}%,
                          rgb(204, 204, 204) ${battery}%
                        )`;
                      ]]]
          columns: 1
        view_layout:
          grid-area: f2
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/stovsuger
        view_layout:
          grid-area: f2
    layout:
      gridrows: auto
      grid-gap: 40px
      grid-template-columns: auto 390px 390px 390px auto
      grid-template-rows: 560px 40px
      grid-template-areas: |
        "c1 c2 c3 c4 c5"
        "f1 f2 f2 f2 f3"
      margin: 0
      padding: 0
    icon: mdi:robot-vacuum
  - type: custom:vertical-layout
    path: grasslamaskine
    title: Græsslåmaskine
    icon: mdi:robot-mower-outline
    layout:
      max_cols: 3
      max_width: 390
      width: 420
      height: null
    cards: []
  - type: custom:vertical-layout
    path: vaskemaskine
    title: Vaskemaskine
    icon: mdi:washing-machine
    layout:
      max_cols: 3
      max_width: 390
      width: 430
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: STATUS
          - type: custom:button-card
            entity: binary_sensor.bosch_waxh2e0lsn_68a40e9322f8_connected
            show_name: false
            show_state: false
            icon: |
              [[[
                return states['binary_sensor.bosch_waxh2e0lsn_68a40e9322f8_connected'].state === 'on'
                  ? 'mdi:check-network-outline'
                  : 'mdi:close-network-outline';
              ]]]
            styles:
              card:
                - border-radius: var(--border-radius-1)
                - box-shadow: var(--box-shadow-off)
                - height: 120px
                - background: var(--custom-button-infobox)
              icon:
                - width: 45px
                - height: 45px
                - left: 7%
                - color: var(--icon-farve-2)
              grid:
                - position: absolute
              custom_fields:
                label:
                  - font-size: 16px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 40px
                state:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 65px
            custom_fields:
              label: Home Connect
              state: |
                [[[
                  return states['binary_sensor.bosch_waxh2e0lsn_68a40e9322f8_connected'].state === 'on'
                    ? 'Forbundet'
                    : 'Ikke forbundet';
                ]]]
            tap_action:
              action: none
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - box-shadow: none
                - background-color: transparent
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Klar
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: unavailable
            card:
              type: picture
              image: /local/hvidevarer/vaskemaskine2.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Forsinket start
                  - condition: state
                    entity: binary_sensor.vaskemaskine_forsinket_start
                    state: 'on'
            card:
              type: picture
              image: /local/hvidevarer/vaskemaskine2_delay.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Kører
                  - condition: and
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Forsinket start
                      - condition: state
                        entity: binary_sensor.vaskemaskine_forsinket_start
                        state: 'off'
            card:
              type: picture
              image: /local/hvidevarer/vaskemaskine3_running.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: >-
                  sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                state: Færdig
            card:
              type: picture
              image: /local/hvidevarer/vaskemaskine2_done.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - box-shadow: none
                - background-color: transparent
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Kører
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.vaskemaskine_forsinket_start
                        state: 'off'
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Forsinket start
            card:
              type: custom:bar-card
              entities:
                - entity: >-
                    sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_programprogress
              height: 20px
              positions:
                icon: 'off'
                name: 'off'
                value: 'off'
                indicator: 'off'
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                    margin-bottom: -40px;
                  }
                  bar-card-currentbar {
                    background-color: rgb(204, 204, 204) !important;
                    box-shadow: var(--box-shadow-off);
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: binary_sensor.vaskemaskine_forsinket_start
                    state: 'on'
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Forsinket start
            card:
              type: custom:bar-card
              entities:
                - entity: input_number.vaskemaskine_0
              height: 20px
              positions:
                icon: 'off'
                name: 'off'
                value: 'off'
                indicator: 'off'
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                    margin-bottom: -40px;
                  }
                  bar-card-currentbar {
                    background-color: rgb(204, 204, 204) !important;
                    box-shadow: var(--box-shadow-off);
                  }
          - square: false
            type: grid
            cards:
              - type: custom:gap-card
              - type: custom:gap-card
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Kører
                      - condition: and
                        conditions:
                          - condition: state
                            entity: binary_sensor.vaskemaskine_forsinket_start
                            state: 'off'
                          - condition: state
                            entity: >-
                              sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                            state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: >
                    {% if
                    states('sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_programprogress')
                    == 'unavailable'%}
                      {{ '' }}
                    {% else %}
                      {{ states('sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_programprogress') }}%
                    {% endif %}
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: end
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.vaskemaskine_forsinket_start
                        state: 'on'
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: 0%
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: end
            columns: 3
        title: VASKEMASKINE
        columns: 1
        view_layout:
          column: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/vaskemaskine
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: PROGRAM
              - type: custom:button-card
                entity: >-
                  sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - font-size: 36px
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                      - padding: 12px
                      - white-space: normal
                      - text-align: center
                      - width: 100%
                      - box-sizing: border-box
                      - line-height: 0.9
                custom_fields:
                  label: Driftstatus
                  state: |
                    [[[
                      const opState = states['sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate'].state;
                      if (opState === 'unknown' || opState === 'unavailable') {
                        return 'Klar';
                      }
                      if (opState === 'Forsinket start' && states['binary_sensor.vaskemaskine_forsinket_start'].state === 'off') {
                        return 'Vasker';
                      }
                      if (opState === 'Kører') {
                        return 'Vasker';
                      }
                      return opState;
                    ]]]
                tap_action:
                  action: none
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - padding: 12px
                          - white-space: normal
                          - text-align: center
                          - width: 100%
                          - box-sizing: border-box
                          - line-height: 0.9
                    custom_fields:
                      label: Valgt program
                      state: |
                        [[[
                          const program = states['sensor.bosch_waxh2e0lsn_68a40e9322f8_active_program'].state;
                          return (program === 'unknown' || program === 'unavailable') ? '' : program;
                        ]]]
                    tap_action:
                      action: none
                columns: 1
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - padding: 12px
                          - white-space: normal
                          - text-align: center
                          - width: 100%
                          - box-sizing: border-box
                          - line-height: 0.9
                    custom_fields:
                      label: Starter om
                      state: |
                        [[[
                          if (states['binary_sensor.vaskemaskine_forsinket_start'].state !== 'on') {
                            return '';
                          }
                          const delay = states['sensor.vaskemaskine_forsinket_start_resterende_tid'].state;
                          if (!delay || delay === 'unknown' || delay === 'unavailable') {
                            return '';
                          }
                          const parts = delay.split(' ');
                          let output = "";
                          if (parts.length === 4) {
                            const hours = parseInt(parts[0], 10);
                            const minutes = parseInt(parts[2], 10);
                            const hourLabel = (hours === 1) ? 'time' : 'timer';
                            output = `<span style="font-size: 36px; font-weight: normal;">${hours}</span>` +
                                     `<span style="font-size: 14px; margin-left: 4px;"> ${hourLabel}</span> ` +
                                     `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                     `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          } else if (parts.length === 2) {
                            const minutes = parseInt(parts[0], 10);
                            output = `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                     `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          } else {
                            output = delay;
                          }
                          return output;
                        ]]]
                    tap_action:
                      action: none
                  - type: custom:button-card
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_programprogress
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                    custom_fields:
                      label: Programstatus
                      state: |
                        [[[
                          const forsinketStart = states['binary_sensor.vaskemaskine_forsinket_start'].state;
                          let value = '';
                          if (forsinketStart === 'on') {
                            value = parseFloat(states['input_number.vaskemaskine_0'].state)
                                    .toFixed(0)
                                    .replace('.', ',');
                          } else if (forsinketStart === 'off') {
                            const activeProgram = states['sensor.bosch_waxh2e0lsn_68a40e9322f8_active_program'].state;
                            if (activeProgram !== 'unknown' && activeProgram !== 'unavailable') {
                              value = parseFloat(states['sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_programprogress'].state)
                                      .toFixed(0)
                                      .replace('.', ',');
                            } else {
                              return '';
                            }
                          } else {
                            return '';
                          }
                          return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                                  <span style="font-size: 14px; margin-left: 4px;">%</span>`;
                        ]]]
                    tap_action:
                      action: none
                columns: 2
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - padding: 12px
                          - white-space: normal
                          - text-align: center
                          - width: 100%
                          - box-sizing: border-box
                          - line-height: 0.9
                    custom_fields:
                      label: Resterende tid
                      state: |
                        [[[ 
                          const status = states['sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate'].state;
                          if (status !== 'Forsinket start' && status !== 'Kører') return '';

                          const val = states['sensor.vaskemaskine_resterende_tid'].state;
                          if (!val) return '';

                          const match = val.match(/(?:(\d+)\s*(?:time|timer))?\s*(\d+)\s*min/);
                          if (!match) return val;

                          const hours = match[1] ? parseInt(match[1], 10) : 0;
                          const minutes = match[2] ? parseInt(match[2], 10) : 0;

                          if (hours > 0) {
                            const hourLabel = (hours === 1) ? ' time' : ' timer';
                            return `<span style="font-size: 36px; font-weight: normal;">${hours}</span>` +
                                   `<span style="font-size: 14px; margin-left: 4px;">${hourLabel}</span> ` +
                                   `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                   `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          } else {
                            return `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                   `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          }
                        ]]]
                    tap_action:
                      action: none
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                    custom_fields:
                      label: Sluttid
                      state: |
                        [[[
                          const program = states['sensor.bosch_waxh2e0lsn_68a40e9322f8_active_program'].state;

                          if (program !== 'unknown' && program !== 'unavailable') {
                            return states['sensor.vaskemaskine_sluttid'].state;
                          } else {
                            return '';
                          }
                        ]]]
                    tap_action:
                      action: none
                columns: 2
            columns: 1
            view_layout:
              column: 1
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: STATISTIK
            columns: 1
            view_layout:
              column: 1
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Watt
                  state: |
                    [[[
                      const value = parseFloat(states['sensor.vaskemaskine_pm_power'].state);
                      const formatted = value.toLocaleString('da-DK', {
                        minimumFractionDigits: 1,
                        maximumFractionDigits: 1
                      });
                      return `<span style="font-size: 36px; font-weight: normal;">${formatted}</span>
                              <span style="font-size: 14px; margin-left: 4px;">W</span>`;
                    ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Watt
                  state: |
                    [[[
                      const value = parseFloat(states['sensor.vaskemaskine_pm_current'].state);
                      const formatted = value.toLocaleString('da-DK', {
                        minimumFractionDigits: 1,
                        maximumFractionDigits: 1
                      });
                      return `<span style="font-size: 36px; font-weight: normal;">${formatted}</span>
                              <span style="font-size: 14px; margin-left: 4px;">A</span>`;
                    ]]]
                tap_action:
                  action: none
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Omk. i dag
                  state: |
                    [[[
                      var value = parseFloat(states['sensor.vaskemaskine_pm_daily_energy_cost'].state)
                                    .toFixed(2)
                                    .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kr.</span>`;
                    ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Omk. i år
                  state: |
                    [[[
                      var value = parseFloat(states['sensor.vaskemaskine_pm_yearly_energy_cost'].state)
                                    .toFixed(2)
                                    .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kr.</span>`;
                    ]]]
                tap_action:
                  action: none
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Strøm i dag
                  state: |
                    [[[ 
                      const stateObj = states['sensor.vaskemaskine_pm_daily_energy_cost'];
                      const value = parseFloat(stateObj.attributes.cumulative_energy)
                                      .toFixed(2)
                                      .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kWh</span>`;
                    ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Strøm i år
                  state: |
                    [[[ 
                      const stateObj = states['sensor.vaskemaskine_pm_yearly_energy_cost'];
                      const value = parseFloat(stateObj.attributes.cumulative_energy)
                                      .toFixed(2)
                                      .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kWh</span>`;
                    ]]]
                tap_action:
                  action: none
            columns: 2
        columns: 1
        view_layout:
          column: 3
  - type: custom:vertical-layout
    path: torretumbler
    title: Tørretumbler
    icon: mdi:tumble-dryer
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: STATUS
          - type: custom:button-card
            entity: sensor.bosch_dryer_power_state
            show_name: false
            show_state: false
            icon: |
              [[[
                return states['sensor.bosch_dryer_power_state'].state === 'on'
                  ? 'mdi:check-network-outline'
                  : 'mdi:close-network-outline';
              ]]]
            styles:
              card:
                - border-radius: var(--border-radius-1)
                - box-shadow: var(--box-shadow-off)
                - height: 120px
                - background: var(--custom-button-infobox)
              icon:
                - width: 45px
                - height: 45px
                - left: 7%
                - color: var(--icon-farve-2)
              grid:
                - position: absolute
              custom_fields:
                label:
                  - font-size: 16px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 40px
                state:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 65px
            custom_fields:
              label: Home Connect
              state: |
                [[[
                  return states['sensor.bosch_dryer_power_state'].state === 'on'
                    ? 'Tændt'
                    : 'Slukket';
                ]]]
            tap_action:
              action: none
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - box-shadow: none
                - background-color: transparent
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                    state: Klar
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                    state: unavailable
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler2.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                    state: Forsinket start
                  - condition: state
                    entity: binary_sensor.torretumbler_forsinket_start
                    state: 'on'
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler2_delay.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Kører
                      - condition: numeric_state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                        below: 100
                  - condition: and
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Forsinket start
                      - condition: state
                        entity: binary_sensor.torretumbler_forsinket_start
                        state: 'off'
                      - condition: numeric_state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                        below: 100
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler3_running.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Kører
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Forsinket start
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_laundrycare_dryer_option_wrinkleguard
                    state_not: unavailable
                  - condition: numeric_state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                    above: 99
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler2_strygelet.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: >-
                  sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                state: Fuldført
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler2_done.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - box-shadow: none
                - background-color: transparent
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                    state: Kører
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.torretumbler_forsinket_start
                        state: 'off'
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Forsinket start
            card:
              type: custom:bar-card
              entities:
                - entity: >-
                    sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
              height: 20px
              positions:
                icon: 'off'
                name: 'off'
                value: 'off'
                indicator: 'off'
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                    margin-bottom: -40px;
                  }
                  bar-card-currentbar {
                    background-color: rgb(204, 204, 204) !important;
                    box-shadow: var(--box-shadow-off);
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: binary_sensor.torretumbler_forsinket_start
                    state: 'on'
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                    state: Forsinket start
            card:
              type: custom:bar-card
              entities:
                - entity: input_number.torretumbler_0
              height: 20px
              positions:
                icon: 'off'
                name: 'off'
                value: 'off'
                indicator: 'off'
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                    margin-bottom: -40px;
                  }
                  bar-card-currentbar {
                    background-color: rgb(204, 204, 204) !important;
                    box-shadow: var(--box-shadow-off);
                  }
          - square: false
            type: grid
            cards:
              - type: custom:gap-card
              - type: custom:gap-card
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Kører
                      - condition: and
                        conditions:
                          - condition: state
                            entity: binary_sensor.torretumbler_forsinket_start
                            state: 'off'
                          - condition: state
                            entity: >-
                              sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                            state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: >
                    {% if
                    states('sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress')
                    == 'unavailable'%}
                      {{ '' }}
                    {% else %}
                      {{ states('sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress') }}%
                    {% endif %}
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: end
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.torretumbler_forsinket_start
                        state: 'on'
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: 0%
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: end
            columns: 3
        title: TØRRETUMBLER
        columns: 1
        view_layout:
          column: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/torretumbler
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: PROGRAM
              - type: custom:button-card
                entity: sensor.bosch_dryer_operation_state
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - font-size: 36px
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                      - padding: 12px
                      - white-space: normal
                      - text-align: center
                      - width: 100%
                      - box-sizing: border-box
                      - line-height: 0.9
                custom_fields:
                  label: Driftstatus
                  state: |
                    [[[
                      const opState = (entity && entity.state) ? entity.state : 'unknown';
                      const delayed = states['binary_sensor.torretumbler_forsinket_start']?.state;

                      if (opState === 'unknown' || opState === 'unavailable' || opState === 'Ready') {
                        return 'Klar';
                      }
                      if (opState === 'Run') {
                        return 'Tørrer';
                      }
                      if (opState === 'Pause') {
                        return 'Pause';
                      }
                      if (opState === 'Finished') {
                        return 'Færdig';
                      }
                      if (opState === 'DelayedStart') {
                        return delayed === 'off' ? 'Tørrer' : 'Forsinket start';
                      }
                      return opState;
                    ]]]
                tap_action:
                  action: none
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    entity: sensor.bosch_dryer_active_program
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 32px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - text-align: center
                          - width: 100%
                    custom_fields:
                      label: Valgt program
                      state: |
                        [[[
                          const program = entity?.state || 'unknown';
                          if (program === 'unknown' || program === 'unavailable') return '';

                          const map = {
                            laundrycare_common_program_memory1: 'Hukommelse 1',
                            laundrycare_common_program_memory2: 'Hukommelse 2',
                            laundrycare_common_program_memory3: 'Hukommelse 3',
                            laundrycare_common_program_memory4: 'Hukommelse 4',
                            laundrycare_common_program_memory5: 'Hukommelse 5',
                            laundrycare_common_program_memory6: 'Hukommelse 6',
                            laundrycare_common_program_memory7: 'Hukommelse 7',
                            laundrycare_common_program_memory8: 'Hukommelse 8',
                            laundrycare_dryer_program_blankets: 'Tæpper',
                            laundrycare_dryer_program_businessshirts_easyiron: 'Skjorter – let at stryge',
                            laundrycare_dryer_program_coldrefresh_1piece: 'Koldfrisk 1 del',
                            laundrycare_dryer_program_coldrefresh_5piece: 'Koldfrisk 5 dele',
                            laundrycare_dryer_program_coldrefresh_business: 'Koldfrisk – business',
                            laundrycare_dryer_program_connecteddry: 'Forbundet tørring',
                            laundrycare_dryer_program_cotton: 'Bomuld',
                            laundrycare_dryer_program_delicates: 'Finvask',
                            laundrycare_dryer_program_downfeathers: 'Dyne/fjer',
                            laundrycare_dryer_program_hygiene: 'Hygiejne',
                            laundrycare_dryer_program_inbasket_woolbasket: 'Uldkurv',
                            laundrycare_dryer_program_maintenance_depthcare: 'Vedligehold – dyb pleje',
                            laundrycare_dryer_program_maintenance_quickcare: 'Vedligehold – hurtig pleje',
                            laundrycare_dryer_program_mix: 'Mix',
                            laundrycare_dryer_program_outdoor: 'Outdoor',
                            laundrycare_dryer_program_pillow: 'Pude',
                            laundrycare_dryer_program_super40: 'Super 40',
                            laundrycare_dryer_program_synthetic: 'Syntetisk',
                            laundrycare_dryer_program_timecold: 'Tid – kold',
                            laundrycare_dryer_program_timewarm: 'Tid – varm',
                            laundrycare_dryer_program_towels: 'Håndklæder',
                            laundrycare_dryer_program_woolfinish: 'Uldfinish',
                          };

                          return map[program] || program.replace('laundrycare_dryer_program_', '').replaceAll('_', ' ');
                        ]]]
                    tap_action:
                      action: none
                columns: 1
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - padding: 12px
                          - white-space: normal
                          - text-align: center
                          - width: 100%
                          - box-sizing: border-box
                          - line-height: 0.9
                    custom_fields:
                      label: Starter om
                      state: |
                        [[[
                          if (states['binary_sensor.torretumbler_forsinket_start'].state !== 'on') {
                            return '';
                          }
                          const delay = states['sensor.torretumbler_forsinket_start_resterende_tid'].state;
                          if (!delay || delay === 'unknown' || delay === 'unavailable') {
                            return '';
                          }
                          const parts = delay.split(' ');
                          let output = "";
                          if (parts.length === 4) {
                            const hours = parseInt(parts[0], 10);
                            const minutes = parseInt(parts[2], 10);
                            const hourLabel = (hours === 1) ? 'time' : 'timer';
                            output = `<span style="font-size: 36px; font-weight: normal;">${hours}</span>` +
                                     `<span style="font-size: 14px; margin-left: 4px;"> ${hourLabel}</span> ` +
                                     `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                     `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          } else if (parts.length === 2) {
                            const minutes = parseInt(parts[0], 10);
                            output = `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                     `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          } else {
                            output = delay;
                          }
                          return output;
                        ]]]
                    tap_action:
                      action: none
                  - type: custom:button-card
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                    custom_fields:
                      label: Programstatus
                      state: |
                        [[[
                          const forsinketStart = states['binary_sensor.torretumbler_forsinket_start'].state;
                          let value = '';
                          if (forsinketStart === 'on') {
                            value = parseFloat(states['input_number.torretumbler_0'].state)
                                    .toFixed(0)
                                    .replace('.', ',');
                          } else if (forsinketStart === 'off') {
                            const activeProgram = states['sensor.bosch_wtx8hel9sn_68a40e9304ff_active_program'].state;
                            if (activeProgram !== 'unknown' && activeProgram !== 'unavailable') {
                              value = parseFloat(states['sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress'].state)
                                      .toFixed(0)
                                      .replace('.', ',');
                            } else {
                              return '';
                            }
                          } else {
                            return '';
                          }
                          return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                                  <span style="font-size: 14px; margin-left: 4px;">%</span>`;
                        ]]]
                    tap_action:
                      action: none
                columns: 2
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - padding: 12px
                          - white-space: normal
                          - text-align: center
                          - width: 100%
                          - box-sizing: border-box
                          - line-height: 0.9
                    custom_fields:
                      label: Resterende tid
                      state: |
                        [[[ 
                          const status = states['sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate'].state;
                          if (status !== 'Forsinket start' && status !== 'Kører') return '';

                          const val = states['sensor.torretumbler_resterende_tid'].state;
                          if (!val) return '';

                          const match = val.match(/(?:(\d+)\s*(?:time|timer))?\s*(\d+)\s*min/);
                          if (!match) return val;

                          const hours = match[1] ? parseInt(match[1], 10) : 0;
                          const minutes = match[2] ? parseInt(match[2], 10) : 0;

                          if (hours > 0) {
                            const hourLabel = (hours === 1) ? ' time' : ' timer';
                            return `<span style="font-size: 36px; font-weight: normal;">${hours}</span>` +
                                   `<span style="font-size: 14px; margin-left: 4px;">${hourLabel}</span> ` +
                                   `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                   `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          } else {
                            return `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                   `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          }
                        ]]]
                    tap_action:
                      action: none
                  - type: custom:button-card
                    entity: sensor.torretumbler_sluttid
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                    custom_fields:
                      label: Sluttid
                      state: |
                        [[[
                          const program = states['sensor.bosch_wtx8hel9sn_68a40e9304ff_active_program'].state;

                          if (program !== 'unknown' && program !== 'unavailable') {
                            return states['sensor.torretumbler_sluttid'].state;
                          } else {
                            return '';
                          }
                        ]]]
                    tap_action:
                      action: none
                columns: 2
            columns: 1
            view_layout:
              column: 1
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: STATISTIK
            columns: 1
            view_layout:
              column: 1
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Watt
                  state: |
                    [[[
                      const value = parseFloat(states['sensor.torretumbler_pm_power'].state);
                      const formatted = value.toLocaleString('da-DK', {
                        minimumFractionDigits: 1,
                        maximumFractionDigits: 1
                      });
                      return `<span style="font-size: 36px; font-weight: normal;">${formatted}</span>
                              <span style="font-size: 14px; margin-left: 4px;">W</span>`;
                    ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Watt
                  state: |
                    [[[
                      const value = parseFloat(states['sensor.torretumbler_pm_current'].state);
                      const formatted = value.toLocaleString('da-DK', {
                        minimumFractionDigits: 1,
                        maximumFractionDigits: 1
                      });
                      return `<span style="font-size: 36px; font-weight: normal;">${formatted}</span>
                              <span style="font-size: 14px; margin-left: 4px;">A</span>`;
                    ]]]
                tap_action:
                  action: none
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Omk. i dag
                  state: |
                    [[[
                      var value = parseFloat(states['sensor.torretumbler_pm_daily_energy_cost'].state)
                                    .toFixed(2)
                                    .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kr.</span>`;
                    ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Omk. i år
                  state: |
                    [[[
                      var value = parseFloat(states['sensor.torretumbler_pm_yearly_energy_cost'].state)
                                    .toFixed(2)
                                    .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kr.</span>`;
                    ]]]
                tap_action:
                  action: none
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Strøm i dag
                  state: |
                    [[[ 
                      const stateObj = states['sensor.torretumbler_pm_daily_energy_cost'];
                      const value = parseFloat(stateObj.attributes.cumulative_energy)
                                      .toFixed(2)
                                      .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kWh</span>`;
                    ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Strøm i år
                  state: |
                    [[[ 
                      const stateObj = states['sensor.torretumbler_pm_yearly_energy_cost'];
                      const value = parseFloat(stateObj.attributes.cumulative_energy)
                                      .toFixed(2)
                                      .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kWh</span>`;
                    ]]]
                tap_action:
                  action: none
            columns: 2
        columns: 1
        view_layout:
          column: 3
    layout:
      max_cols: 3
      max_width: 390
      width: 430
      height: null
  - type: custom:vertical-layout
    path: opvaskemaskine
    title: Opvaskemaskine
    icon: mdi:dishwasher
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            alignment: start
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            subtitle: STATUS
          - type: custom:button-card
            entity: input_select.opvaskemaskine_status
            show_name: false
            show_state: false
            show_icon: false
            styles:
              card:
                - height: 120px
                - border-radius: var(--border-radius-1)
                - box-shadow: var(--box-shadow-off)
                - background: var(--custom-button-infobox)
              icon:
                - width: 45px
                - height: 45px
                - left: 15px
              grid:
                - position: absolute
              custom_fields:
                label:
                  - font-size: 16px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - left: 15px
                  - top: 15px
                state:
                  - font-size: 36px
                  - position: absolute
                  - top: 60%
                  - left: 50%
                  - transform: translate(-50%, -50%)
                  - padding: 12px
                  - white-space: normal
                  - text-align: center
                  - width: 100%
                  - box-sizing: border-box
                  - line-height: 0.9
            custom_fields:
              label: Driftstatus
              state: |
                [[[
                  return states['input_select.opvaskemaskine_status'].state;
                ]]]
            tap_action:
              action: none
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - box-shadow: none
                - background-color: transparent
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: input_select.opvaskemaskine_status
                    state: Klar
            card:
              type: picture
              image: /local/hvidevarer/opvaskemaskine2.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.opvaskemaskine_status
                state: Forsinket start
            card:
              type: picture
              image: /local/hvidevarer/opvaskemaskine2_delay.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.opvaskemaskine_status
                state: Vasker
            card:
              type: picture
              image: /local/hvidevarer/opvaskemaskine3_running.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.opvaskemaskine_status
                state: Færdig
            card:
              type: picture
              image: /local/hvidevarer/opvaskemaskine2_done.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
        title: OPVASKEMASKINE
        columns: 1
        view_layout:
          column: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/opvaskemaskine
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: PROGRAM
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    entity: input_select.opvaskemaskine_status
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - padding: 12px
                          - white-space: normal
                          - text-align: center
                          - width: 100%
                          - box-sizing: border-box
                          - line-height: 0.9
                    custom_fields:
                      label: Valgt program
                      state: |
                        [[[
                          const program = states['sensor.siemens_014080389763001121_active_program'].state;
                          return (program === 'unknown' || program === 'unavailable') ? '' : program;
                        ]]]
                    tap_action:
                      action: none
                columns: 1
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - padding: 12px
                          - white-space: normal
                          - text-align: center
                          - width: 100%
                          - box-sizing: border-box
                          - line-height: 0.9
                    custom_fields:
                      label: Program fase
                      state: |
                        [[[
                          const phase = states['sensor.siemens_dishwasher_program_phase'].state;
                          return (phase === 'unknown' || phase === 'unavailable') ? '' : phase;
                        ]]]
                    tap_action:
                      action: none
                columns: 1
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    entity: input_select.opvaskemaskine_status
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - padding: 12px
                          - white-space: normal
                          - text-align: center
                          - width: 100%
                          - box-sizing: border-box
                          - line-height: 0.9
                    custom_fields:
                      label: Starter om
                      state: |
                        [[[
                          if (states['input_select.opvaskemaskine_status'].state !== 'Forsinket start') {
                            return '';
                          }
                          const delay = states['sensor.opvaskemaskine_forsinket_start_resterende_tid'].state;
                          if (!delay || delay === 'unknown' || delay === 'unavailable') {
                            return '';
                          }
                          const parts = delay.split(' ');
                          let output = "";
                          if (parts.length === 4) {
                            const hours = parseInt(parts[0], 10);
                            const minutes = parseInt(parts[2], 10);
                            const hourLabel = (hours === 1) ? 'time' : 'timer';
                            output = `<span style="font-size: 36px; font-weight: normal;">${hours}</span>` +
                                     `<span style="font-size: 14px; margin-left: 4px;"> ${hourLabel}</span> ` +
                                     `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                     `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          } else if (parts.length === 2) {
                            const minutes = parseInt(parts[0], 10);
                            output = `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                     `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          } else {
                            output = delay;
                          }
                          return output;
                        ]]]
                    tap_action:
                      action: none
                  - type: custom:button-card
                    entity: >-
                      sensor.siemens_014080389763001121_bsh_common_option_programprogress
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                    custom_fields:
                      label: Programstatus
                      state: |
                        [[[
                          const status = states['input_select.opvaskemaskine_status'].state;
                          let value = '';
                          if (status === 'Vasker') {
                            value = parseFloat(states['sensor.siemens_014080389763001121_bsh_common_option_programprogress'].state)
                                      .toFixed(0)
                                      .replace('.', ',');
                          } else if (status === 'Færdig') {
                            value = parseFloat(states['input_number.opvaskemaskine_100'].state)
                                      .toFixed(0)
                                      .replace('.', ',');
                          } else {
                            return '';
                          }
                          return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                                  <span style="font-size: 14px; margin-left: 4px;">%</span>`;
                        ]]]
                    tap_action:
                      action: none
                columns: 2
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    entity: input_select.opvaskemaskine_status
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - padding: 12px
                          - white-space: normal
                          - text-align: center
                          - width: 100%
                          - box-sizing: border-box
                          - line-height: 0.9
                    custom_fields:
                      label: Resterende tid
                      state: |
                        [[[ 
                          const status = states['input_select.opvaskemaskine_status'].state;
                          if (status !== 'Forsinket start' && status !== 'Vasker') return '';

                          const val = states['sensor.opvaskemaskine_resterende_tid'].state;
                          if (!val) return '';

                          const match = val.match(/(?:(\d+)\s*(?:time|timer))?\s*(\d+)\s*min/);
                          if (!match) return val;

                          const hours = match[1] ? parseInt(match[1], 10) : 0;
                          const minutes = match[2] ? parseInt(match[2], 10) : 0;

                          if (hours > 0) {
                            const hourLabel = (hours === 1) ? ' time' : ' timer';
                            return `<span style="font-size: 36px; font-weight: normal;">${hours}</span>` +
                                   `<span style="font-size: 14px; margin-left: 4px;">${hourLabel}</span> ` +
                                   `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                   `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          } else {
                            return `<span style="font-size: 36px; font-weight: normal;">${minutes}</span>` +
                                   `<span style="font-size: 14px; margin-left: 4px;"> min</span>`;
                          }
                        ]]]
                    tap_action:
                      action: none
                  - type: custom:button-card
                    entity: sensor.opvaskemaskine_sluttid
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - height: 120px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 15px
                      grid:
                        - position: absolute
                      custom_fields:
                        label:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - left: 15px
                          - top: 15px
                        state:
                          - font-size: 36px
                          - position: absolute
                          - top: 60%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                    custom_fields:
                      label: Sluttid
                      state: |
                        [[[
                          const program = states['sensor.siemens_014080389763001121_active_program'].state;

                          if (program !== 'unknown' && program !== 'unavailable') {
                            return states['sensor.opvaskemaskine_sluttid'].state;
                          } else {
                            return '';
                          }
                        ]]]
                    tap_action:
                      action: none
                columns: 2
            columns: 1
            view_layout:
              column: 1
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: ''
                alignment: start
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                subtitle: STATISTIK
            columns: 1
            view_layout:
              column: 1
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Watt
                  state: |
                    [[[
                      const value = parseFloat(states['sensor.opvaskemaskine_pm_power'].state);
                      const formatted = value.toLocaleString('da-DK', {
                        minimumFractionDigits: 1,
                        maximumFractionDigits: 1
                      });
                      return `<span style="font-size: 36px; font-weight: normal;">${formatted}</span>
                              <span style="font-size: 14px; margin-left: 4px;">W</span>`;
                    ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Watt
                  state: |
                    [[[
                      const value = parseFloat(states['sensor.opvaskemaskine_pm_current'].state);
                      const formatted = value.toLocaleString('da-DK', {
                        minimumFractionDigits: 1,
                        maximumFractionDigits: 1
                      });
                      return `<span style="font-size: 36px; font-weight: normal;">${formatted}</span>
                              <span style="font-size: 14px; margin-left: 4px;">A</span>`;
                    ]]]
                tap_action:
                  action: none
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Omk. i dag
                  state: |
                    [[[
                      var value = parseFloat(states['sensor.opvaskemaskine_pm_daily_energy_cost'].state)
                                    .toFixed(2)
                                    .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kr.</span>`;
                    ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Omk. i år
                  state: |
                    [[[
                      var value = parseFloat(states['sensor.opvaskemaskine_pm_yearly_energy_cost'].state)
                                    .toFixed(2)
                                    .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kr.</span>`;
                    ]]]
                tap_action:
                  action: none
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Strøm i dag
                  state: |
                    [[[ 
                      const stateObj = states['sensor.opvaskemaskine_pm_daily_energy_cost'];
                      const value = parseFloat(stateObj.attributes.cumulative_energy)
                                      .toFixed(2)
                                      .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kWh</span>`;
                    ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                show_name: false
                show_state: false
                show_icon: false
                styles:
                  card:
                    - height: 120px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-off)
                    - background: var(--custom-button-infobox)
                  icon:
                    - width: 45px
                    - height: 45px
                    - left: 15px
                  grid:
                    - position: absolute
                  custom_fields:
                    label:
                      - font-size: 16px
                      - font-weight: bold
                      - position: absolute
                      - justify-self: center
                      - left: 15px
                      - top: 15px
                    state:
                      - position: absolute
                      - top: 60%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  label: Strøm i år
                  state: |
                    [[[ 
                      const stateObj = states['sensor.opvaskemaskine_pm_yearly_energy_cost'];
                      const value = parseFloat(stateObj.attributes.cumulative_energy)
                                      .toFixed(2)
                                      .replace('.', ',');
                      return `<span style="font-size: 36px; font-weight: normal;">${value}</span>
                              <span style="font-size: 14px; margin-left: 4px;">kWh</span>`;
                    ]]]
                tap_action:
                  action: none
            columns: 2
        columns: 1
        view_layout:
          column: 3
    layout:
      max_cols: 3
      max_width: 390
      width: 430
      height: null
  - type: custom:vertical-layout
    title: Affald
    path: affald
    icon: mdi:trash-can
    layout:
      max_cols: 3
      max_width: 390
      width: 430
      height: null
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 63px
                - box-shadow: none
                - background-color: transparent
          - type: picture
            image: /local/affald/pap_papir1.png
            tap_action:
              action: none
            hold_action:
              action: none
            card_mod:
              style: |
                ha-card {
                background: none;
                }
          - type: custom:mushroom-title-card
            title: |-
              {{ 
                'I dag' if states('sensor.affalddk_baermosehojen_71_pap') | int == 0 else
                'I morgen' if states('sensor.affalddk_baermosehojen_71_pap') | int == 1 else
                states('sensor.affalddk_baermosehojen_71_pap') + ' dage'
              }}
            subtitle: ''
            alignment: center
        columns: 1
        title: AFFALD
        view_layout:
          column: 1
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 63px
                - box-shadow: none
                - background-color: transparent
          - type: picture
            image: /local/affald/plast1.png
            tap_action:
              action: none
            hold_action:
              action: none
            card_mod:
              style: |
                ha-card {
                background: none;
                }
          - type: custom:mushroom-title-card
            title: |
              {{ 
                'I dag' if states('sensor.affalddk_baermosehojen_71_plast_mad_drikkekartoner') | int == 0 else
                'I morgen' if states('sensor.affalddk_baermosehojen_71_plast_mad_drikkekartoner') | int == 1 else
                states('sensor.affalddk_baermosehojen_71_plast_mad_drikkekartoner') + ' dage'
              }}
            subtitle: ''
            alignment: center
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 63px
                - box-shadow: none
                - background-color: transparent
          - type: picture
            image: /local/affald/rest_mad1.png
            tap_action:
              action: none
            hold_action:
              action: none
            card_mod:
              style: |
                ha-card {
                background: none;
                }
          - type: custom:mushroom-title-card
            title: |-
              {{ 
                'I dag' if states('sensor.affalddk_baermosehojen_71_madaffald') | int == 0 else
                'I morgen' if states('sensor.affalddk_baermosehojen_71_madaffald') | int == 1 else
                states('sensor.affalddk_baermosehojen_71_madaffald') + ' dage'
              }}
            subtitle: ''
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            alignment: center
        columns: 1
        view_layout:
          column: 3
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/affald
  - type: custom:vertical-layout
    path: system
    title: System
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 61px
                - box-shadow: none
                - background-color: transparent
          - type: custom:mushroom-title-card
            title: ''
            subtitle: YDEEVNE & TEMPERATUR
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - type: custom:apexcharts-card
            apex_config:
              legend:
                show: false
              chart:
                height: 201px
            header:
              standard_format: false
              show: true
              show_states: true
              colorize_states: true
            chart_type: line
            series:
              - entity: sensor.memory_use_percent
                name: RAM
                color: blue
                stroke_width: 5
                show:
                  legend_value: false
                group_by:
                  func: last
                  duration: 30m
              - entity: sensor.disk_use_percent_config
                name: SSD
                color: yellow
                stroke_width: 5
                show:
                  legend_value: false
                group_by:
                  func: last
                  duration: 30m
              - entity: sensor.processor_use
                name: CPU
                color: green
                stroke_width: 5
                show:
                  legend_value: false
                group_by:
                  func: last
                  duration: 30m
            card_mod:
              style: |
                ha-card {
                  border-radius: var(--border-radius-1);
                  background: var(--custom-button-infobox);
                  box-shadow: var(--box-shadow-off);
                }
          - type: custom:apexcharts-card
            experimental:
              color_threshold: true
            apex_config:
              yaxis:
                min: 40
                max: 70
              legend:
                show: false
              chart:
                height: 202px
            header:
              standard_format: false
              show: true
              show_states: true
              colorize_states: true
            chart_type: line
            series:
              - entity: sensor.processor_temperature
                extend_to: now
                name: CPU temp
                color: 0066ff
                stroke_width: 5
                show:
                  extremas: false
                  header_color_threshold: true
                  legend_value: false
                  name_in_header: false
                group_by:
                  func: last
                  duration: 30m
                color_threshold:
                  - value: 60
                    color: red
                  - value: 58
                    color: orangered
                  - value: 53
                    color: yellow
                  - value: 50
                    color: green
            card_mod:
              style: |
                ha-card {
                  border-radius: var(--border-radius-1);
                  background: var(--custom-button-infobox);
                  box-shadow: var(--box-shadow-off);
                }
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 61px
                - box-shadow: none
                - background-color: transparent
          - type: custom:mushroom-title-card
            title: ''
            subtitle: STYRING
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:zigbee
            styles:
              card:
                - border-radius: var(--border-radius-1)
                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                - height: 70px
                - background: var(--custom-button-gradient-1)
              icon:
                - width: 45px
                - height: 45px
                - color: var(--icon-farve)
                - left: 7%
              grid:
                - position: relative
              custom_fields:
                info:
                  - color: var(--text-primary-color)
                  - font-size: 18px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
            custom_fields:
              info: Genstart Zigbee
            tap_action:
              action: call-service
              confirmation:
                text: Er du sikker på, at du vil genstarte Zigbee koordinatoren?
              service: script.system_genstart_zigbee_koordinator
            card_mod:
              style: |
                ha-card {
                  border-radius: var(--border-radius-1);
                }
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:reload
            styles:
              card:
                - border-radius: var(--border-radius-1)
                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                - height: 70px
                - background: var(--custom-button-gradient-1)
              icon:
                - width: 45px
                - height: 45px
                - color: var(--icon-farve)
                - left: 7%
              grid:
                - position: relative
              custom_fields:
                info:
                  - color: var(--text-primary-color)
                  - font-size: 18px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
            custom_fields:
              info: Genstart Home Assistant
            tap_action:
              action: call-service
              confirmation:
                text: Er du sikker på, at du vil genstarte Home Assistant?
              service: script.system_genstart_home_assistant
            card_mod:
              style: |
                ha-card {
                  border-radius: var(--border-radius-1);
                }
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:power-cycle
            styles:
              card:
                - border-radius: var(--border-radius-1)
                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                - height: 70px
                - background: var(--custom-button-gradient-2)
              icon:
                - width: 45px
                - height: 45px
                - color: var(--icon-farve)
                - left: 7%
              grid:
                - position: relative
              custom_fields:
                info:
                  - color: var(--text-primary-color)
                  - font-size: 18px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
            custom_fields:
              info: Genstart server
            tap_action:
              action: call-service
              confirmation:
                text: Er du sikker på, at du vil genstarte serveren?
              service: script.system_genstart_server
            card_mod:
              style: |
                ha-card {
                  border-radius: var(--border-radius-1);
                }
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:power
            styles:
              card:
                - border-radius: var(--border-radius-1)
                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                - height: 70px
                - background: var(--custom-button-gradient-3)
              icon:
                - width: 45px
                - height: 45px
                - color: var(--icon-farve)
                - left: 7%
              grid:
                - position: relative
              custom_fields:
                info:
                  - color: var(--text-primary-color)
                  - font-size: 18px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
            custom_fields:
              info: Luk server
            tap_action:
              action: call-service
              confirmation:
                text: Er du sikker på, at du vil lukke serveren ned?
              service: script.system_luk_server
            card_mod:
              style: |
                ha-card {
                  border-radius: var(--border-radius-1);
                }
          - type: custom:mushroom-title-card
            title: ''
            subtitle: TEMA
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:theme-light-dark
            styles:
              card:
                - padding: px
                - border-radius: var(--border-radius-1)
                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                - height: 70px
                - background: var(--custom-button-gradient-1)
              icon:
                - width: 45px
                - height: 45px
                - color: var(--icon-farve)
                - left: 7%
              grid:
                - position: absolute
              custom_fields:
                info:
                  - color: var(--text-primary-color)
                  - font-size: 18px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 15px
                tilstand:
                  - color: var(--text-primary-color)
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 40px
            custom_fields:
              info: Farve
              tilstand: |
                [[[
                  return states['input_select.wall_panel_dark_light_mode'].state;
                ]]]
            tap_action:
              action: call-service
              service: script.wall_panel_dark_light_theme
            card_mod:
              style: |
                ha-card {
                  border-radius: var(--border-radius-1);
                }
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.wall_panel_dark_light_mode
                state: Mørk
            card:
              type: custom:button-card
              show_name: false
              show_state: false
              icon: mdi:camera-burst
              styles:
                card:
                  - border-radius: var(--border-radius-1)
                  - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                  - height: 70px
                  - background: var(--custom-button-gradient-1)
                icon:
                  - width: 45px
                  - height: 45px
                  - left: 7%
                  - color: var(--icon-farve)
                grid:
                  - position: absolute
                custom_fields:
                  info:
                    - color: var(--text-primary-color)
                    - font-size: 18px
                    - font-weight: bold
                    - position: absolute
                    - justify-self: center
                    - right: 7%
                    - top: 15px
                  tilstand:
                    - color: var(--text-primary-color)
                    - font-size: 12px
                    - position: absolute
                    - justify-self: center
                    - right: 7%
                    - top: 40px
              custom_fields:
                info: Tema
                tilstand: |
                  [[[
                    const state = states['input_select.wall_panel_dark_background'].state;
                    const backgroundMapping = {
                      "my-dark-theme-1": "Purple waves",
                      "my-dark-theme-2": "Plant life",
                      "my-dark-theme-3": "Interwoven Shadows",
                      "my-dark-theme-4": "Purble calm water",
                      "my-dark-theme-5": "Crimson Edge",
                      "my-dark-theme-6": "Lightning",
                      "my-dark-theme-7": "Waves of Midnight",
                      "my-dark-theme-8": "Copper painting"
                    };
                    return backgroundMapping[state] || "Unknown";
                  ]]]
              tap_action:
                action: call-service
                service: script.wall_panel_dark_background_2
              card_mod:
                style: |
                  ha-card {
                    border-radius: var(--border-radius-1);
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.wall_panel_dark_light_mode
                state: Lys
            card:
              type: custom:button-card
              show_name: false
              show_state: false
              icon: mdi:camera-burst
              styles:
                card:
                  - padding: px
                  - border-radius: var(--border-radius-1)
                  - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                  - height: 70px
                  - background: var(--custom-button-gradient-1)
                icon:
                  - width: 45px
                  - height: 45px
                  - left: 7%
                  - color: var(--icon-farve)
                grid:
                  - position: absolute
                custom_fields:
                  info:
                    - color: var(--text-primary-color)
                    - font-size: 18px
                    - font-weight: bold
                    - position: absolute
                    - justify-self: center
                    - right: 7%
                    - top: 15px
                  tilstand:
                    - color: var(--text-primary-color)
                    - font-size: 12px
                    - position: absolute
                    - justify-self: center
                    - right: 7%
                    - top: 40px
              custom_fields:
                info: Tema
                tilstand: |
                  [[[
                    const state = states['input_select.wall_panel_light_background'].state;
                    const backgroundMapping = {
                      "my-light-theme-1": "Light clouds",
                      "my-light-theme-2": "Warm glow",
                      "my-light-theme-3": "Spring flowers",
                      "my-light-theme-4": "Wooden display",
                      "my-light-theme-5": "Soft feathers",
                      "my-light-theme-6": "Morning Dew Bliss"
                    };
                    return backgroundMapping[state] || "Unknown";
                  ]]]
              tap_action:
                action: call-service
                service: script.wall_panel_light_background
              card_mod:
                style: |
                  ha-card {
                    border-radius: var(--border-radius-1);
                  }
        columns: 1
        view_layout:
          column: 3
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            subtitle: STATUS
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:home-assistant
            styles:
              card:
                - border-radius: var(--border-radius-1)
                - box-shadow: var(--box-shadow-off)
                - background: var(--custom-button-infobox)
                - height: 110px
              icon:
                - width: 40px
                - height: 40px
                - left: 7%
              grid:
                - position: relative
              custom_fields:
                oppetid:
                  - font-size: 16px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 0%
                core:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 50%
                supervisor:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 70%
                os:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 90%
            custom_fields:
              oppetid: |
                [[[
                  return 'Uptime: &nbsp;&nbsp;' + states['sensor.server_uptime'].state;
                ]]]
              core: |
                [[[
                  return 'Core: &nbsp;&nbsp;' + (states['update.home_assistant_core_update'].attributes.installed_version || 'N/A');
                ]]]
              supervisor: |
                [[[
                  return 'Supervisor: &nbsp;&nbsp;' + (states['update.home_assistant_supervisor_update'].attributes.installed_version || 'N/A');
                ]]]
              os: |
                [[[
                  return 'Operating system: &nbsp;&nbsp;' + (states['update.home_assistant_operating_system_update'].attributes.installed_version || 'N/A');
                ]]]
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:server-security
            styles:
              card:
                - border-radius: var(--border-radius-1)
                - box-shadow: var(--box-shadow-off)
                - height: 90px
                - background: var(--custom-button-infobox)
              icon:
                - width: 45px
                - height: 45px
                - left: 7%
              grid:
                - position: relative
              custom_fields:
                backupstatus:
                  - font-size: 16px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 0%
                seneste:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 50%
                next:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 80%
            custom_fields:
              backupstatus: |
                [[[
                  const eventType = states['event.backup_automatic_backup'].attributes.event_type;

                  if (eventType === 'completed') {
                    return 'Backup: &nbsp;&nbsp;Alt ok';
                  } else if (eventType === 'in_progress') {
                    return 'Backup i gang';
                  } else if (eventType === 'failed') {
                    return 'Kræver opmærksomhed';
                  } else {
                    return 'Ukendt status';
                  }
                ]]]
              seneste: |
                [[[
                  var raw = states['event.backup_automatic_backup']?.state;

                  // Guard: missing/invalid state
                  if (!raw || raw === 'unknown' || raw === 'unavailable') {
                    return 'Seneste backup: &nbsp;&nbsp;N/A';
                  }

                  var date = new Date(raw);
                  if (isNaN(date.getTime())) {
                    return 'Seneste backup: &nbsp;&nbsp;N/A';
                  }

                  var now = new Date();
                  var yesterday = new Date(now);
                  yesterday.setDate(now.getDate() - 1);

                  var isToday = date.toDateString() === now.toDateString();
                  var isYesterday = date.toDateString() === yesterday.toDateString();

                  var timeStr = date
                    .toLocaleTimeString('da-DK', { hour: '2-digit', minute: '2-digit', hour12: false })
                    .replace(':', '.');

                  if (isToday) {
                    return `Seneste backup: &nbsp;&nbsp;I dag kl. ${timeStr}`;
                  } else if (isYesterday) {
                    return `Seneste backup: &nbsp;&nbsp;I går kl. ${timeStr}`;
                  } else {
                    var formattedDate = date
                      .toLocaleDateString('da-DK', { day: '2-digit', month: 'short', year: 'numeric' })
                      .replace(/\.$/, ''); // drop trailing dot in short month names
                    return `Seneste backup: &nbsp;&nbsp;${formattedDate}&nbsp; kl. ${timeStr}`;
                  }
                ]]]
              next: |
                [[[
                  var raw = states['sensor.backup_next_scheduled_automatic_backup']?.state;

                  // Guard: missing/invalid state
                  if (!raw || raw === 'unknown' || raw === 'unavailable') {
                    return 'Næste backup: &nbsp;&nbsp;N/A';
                  }

                  var date = new Date(raw);
                  if (isNaN(date.getTime())) {
                    return 'Næste backup: &nbsp;&nbsp;N/A';
                  }

                  var now = new Date();
                  var yesterday = new Date(now);
                  yesterday.setDate(now.getDate() - 1);
                  var tomorrow = new Date(now);
                  tomorrow.setDate(now.getDate() + 1);

                  var isToday = date.toDateString() === now.toDateString();
                  var isYesterday = date.toDateString() === yesterday.toDateString();
                  var isTomorrow = date.toDateString() === tomorrow.toDateString();

                  var timeStr = date
                    .toLocaleTimeString('da-DK', { hour: '2-digit', minute: '2-digit', hour12: false })
                    .replace(':', '.');

                  if (isToday) {
                    return `Næste backup: &nbsp;&nbsp;I dag kl. ${timeStr}`;
                  } else if (isTomorrow) {
                    return `Næste backup: &nbsp;&nbsp;I morgen kl. ${timeStr}`;
                  } else if (isYesterday) {
                    return `Næste backup: &nbsp;&nbsp;I går kl. ${timeStr}`;
                  } else {
                    var formattedDate = date
                      .toLocaleDateString('da-DK', { day: '2-digit', month: 'short', year: 'numeric' })
                      .replace(/\.$/, ''); // drop trailing dot in short month names
                    return `Næste backup: &nbsp;&nbsp;${formattedDate}&nbsp; kl. ${timeStr}`;
                  }
                ]]]
            card_mod:
              style: |
                ha-card {
                  border-radius: var(--border-radius-1);
                }
          - type: custom:button-card
            show_name: false
            show_state: false
            icon: mdi:zigbee
            styles:
              card:
                - border-radius: var(--border-radius-1)
                - box-shadow: var(--box-shadow-off)
                - height: 70px
                - background: var(--custom-button-infobox)
              icon:
                - width: 45px
                - height: 45px
                - left: 7%
              grid:
                - position: relative
              custom_fields:
                oppetid:
                  - font-size: 16px
                  - font-weight: bold
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 0%
                seneste:
                  - font-size: 12px
                  - position: absolute
                  - justify-self: center
                  - right: 7%
                  - top: 70%
            custom_fields:
              oppetid: |
                [[[
                  const lastRestart = new Date(states['sensor.slzb_06_zigbee_uptime'].state);
                  const now = new Date();
                  const diffMs = now - lastRestart;

                  if (isNaN(diffMs)) return 'Uptime: ukendt';

                  const totalMinutes = Math.floor(diffMs / 60000);
                  const days = Math.floor(totalMinutes / 1440);
                  const hours = Math.floor((totalMinutes % 1440) / 60);
                  const minutes = totalMinutes % 60;

                  const dagText = days === 1 ? '1 dag' : (days > 0 ? `${days} dage` : '');
                  const timeText = hours === 1 ? '1 time' : (hours > 0 ? `${hours} timer` : '');
                  const minText = `${minutes} min`;

                  return `Uptime: &nbsp;&nbsp;${[dagText, timeText, minText].filter(Boolean).join(' ')}`;
                ]]]
              seneste: |
                [[[
                  return states['binary_sensor.slzb_06_ethernet'].state === 'on' ? 'Status: &nbsp;&nbsp;Forbundet' : 'Status: &nbsp;&nbsp;Afbrudt';
                ]]]
            card_mod:
              style: |
                ha-card {
                  border-radius: var(--border-radius-1);
                }
          - type: picture
            image: /local/server/server.png
            tap_action:
              action: none
            hold_action:
              action: none
            card_mod:
              style: |
                ha-card {
                background: none;
                margin-top: 20px;
                }
        columns: 1
        title: SYSTEM OVERVÅGNING
        view_layout:
          column: 1
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/system
    icon: mdi:cog
    layout:
      max_cols: 3
      max_width: 390
      width: 430
      height: null
  - type: custom:vertical-layout
    path: hvidevarer
    title: Hvidevarer
    icon: mdi:washing-machine
    cards:
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 64px
                - box-shadow: none
                - background-color: transparent
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Klar
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: unavailable
            card:
              type: picture
              image: /local/hvidevarer/vaskemaskine2.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Kører
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.vaskemaskine_forsinket_start
                        state: 'off'
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Forsinket start
            card:
              type: picture
              image: /local/hvidevarer/vaskemaskine3_running.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: binary_sensor.vaskemaskine_forsinket_start
                    state: 'on'
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Forsinket start
            card:
              type: picture
              image: /local/hvidevarer/vaskemaskine2_delay.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: >-
                  sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                state: Fuldført
            card:
              type: picture
              image: /local/hvidevarer/vaskemaskine2_done.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: STATUS
                subtitle: >-
                  {% set operation_state =
                  states('sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate')
                  %}

                  {% set delayed_start =
                  states('binary_sensor.vaskemaskine_forsinket_start') %}


                  {% if operation_state == 'Kører' %}
                    Vask i gang
                  {% elif operation_state == 'Fuldført' %}
                    Færdig
                  {% elif operation_state == 'Forsinket start' and delayed_start
                  == 'on' %}
                    Forskudt start
                  {% elif operation_state == 'Forsinket start' and delayed_start
                  == 'off' %}
                    Vask i gang
                  {% elif operation_state == 'unavailable' %}
                    Klar
                  {% else %}
                    Klar
                  {% endif %}
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-top: -20px;
                      margin-bottom: -20px;
                      --title-font-weight: bold;
                    }
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Kører
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: SLUTTID
                  subtitle: '{{ states(''sensor.vaskemaskine_sluttid'') }}'
                  card_mod:
                    style: |
                      ha-card {
                        margin-top: -20px;
                        margin-bottom: -20px;
                        --title-font-weight: bold;
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: PROGRAM
                subtitle: |2-
                    {% if states('sensor.bosch_waxh2e0lsn_68a40e9322f8_active_program') in ['unavailable', 'unknown'] %}
                      {{ '-' }}
                    {% else %}
                      {{ states('sensor.bosch_waxh2e0lsn_68a40e9322f8_active_program') }}
                    {% endif %}
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -20px;
                      --title-font-weight: bold;
            columns: 1
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: STRØM
                subtitle: >-
                  {{ states('sensor.vaskemaskine_pm_power') }} W  /  {{
                  states('sensor.vaskemaskine_pm_current') }} A
                card_mod:
                  style: |
                    ha-card {
                      --title-font-weight: bold;
            columns: 1
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Kører
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.vaskemaskine_forsinket_start
                        state: 'off'
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Forsinket start
            card:
              type: custom:bar-card
              entities:
                - entity: >-
                    sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_programprogress
              height: 20px
              positions:
                icon: 'off'
                name: 'off'
                value: 'off'
                indicator: 'off'
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                    margin-bottom: -40px;
                  }
                  bar-card-currentbar {
                    background-color: rgb(204, 204, 204) !important;
                    box-shadow: var(--box-shadow-off);
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: binary_sensor.vaskemaskine_forsinket_start
                    state: 'on'
                  - condition: state
                    entity: >-
                      sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                    state: Forsinket start
            card:
              type: custom:bar-card
              entities:
                - entity: input_number.vaskemaskine_0
              height: 20px
              positions:
                icon: 'off'
                name: 'off'
                value: 'off'
                indicator: 'off'
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                    margin-bottom: -40px;
                  }
                  bar-card-currentbar {
                    background-color: rgb(204, 204, 204) !important;
                    box-shadow: var(--box-shadow-off);
                  }
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Kører
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: 'Resterende tid:'
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: start
                  card_mod:
                    style: |
                      ha-card {
                        margin-left: 5px;
                        margin-right: -70px;
                      }
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Kører
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: >
                    {% set finish_relative =
                    states('sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_finishinrelative')
                    %} {% set remaining_time =
                    states('sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_remainingprogramtime')
                    %}

                    {% if finish_relative != 'unavailable' and finish_relative
                    != '0:00' %}
                      {% set hours, minutes = finish_relative.split(':') %}
                      {% set total_minutes = (hours|int * 60) + minutes|int %}
                    {% elif remaining_time != 'unavailable' %}
                      {% set total_seconds = as_timestamp(remaining_time) - as_timestamp(now()) %}
                      {% set total_minutes = (total_seconds / 60) | int %}
                    {% else %}
                      {% set total_minutes = 0 %}
                    {% endif %}

                    {% set hours = (total_minutes // 60) %} {% set minutes =
                    (total_minutes % 60) %}

                    {% if total_minutes > 0 %}
                      {% if hours > 0 %}
                        {{ hours }} time{{ 'r' if hours > 1 else '' }} {{ minutes }} min
                      {% else %}
                        {{ minutes }} min
                      {% endif %}
                    {% else %}
                      {{ '' }}
                    {% endif %}
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: start
                  card_mod:
                    style: |
                      ha-card {
                        margin-left: 5px;
                        margin-right: -70px;
                      }
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Kører
                      - condition: and
                        conditions:
                          - condition: state
                            entity: binary_sensor.vaskemaskine_forsinket_start
                            state: 'off'
                          - condition: state
                            entity: >-
                              sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                            state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: >
                    {% if
                    states('sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_programprogress')
                    == 'unavailable'%}
                      {{ '' }}
                    {% else %}
                      {{ states('sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_option_programprogress') }}%
                    {% endif %}
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: end
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: binary_sensor.vaskemaskine_forsinket_start
                        state: 'on'
                      - condition: state
                        entity: >-
                          sensor.bosch_waxh2e0lsn_68a40e9322f8_bsh_common_status_operationstate
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: 0%
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: end
            columns: 3
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.vaskemaskine_forsinket_start
                    state: 'on'
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  subtitle: |
                    Starter om:
                  card_mod:
                    style: |
                      ha-card {
                        margin-top: -40px;
                        margin-right: -100px;
                        margin-left: 5px;
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.vaskemaskine_forsinket_start
                    state: 'on'
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  subtitle: >
                    {{
                    states('sensor.vaskemaskine_forsinket_start_resterende_tid')
                    }}
                  card_mod:
                    style: |
                      ha-card {
                        margin-top: -40px;
                        margin-right: -100px;
                        margin-left: 5px;
            columns: 3
        columns: 1
        title: VASKEMASKINE
        view_layout:
          column: 1
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 128px
                - box-shadow: none
                - background-color: transparent
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                    state: Klar
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                    state: unavailable
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler2.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                    state: Forsinket start
                  - condition: state
                    entity: binary_sensor.torretumbler_forsinket_start
                    state: 'on'
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler2_delay.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Kører
                      - condition: numeric_state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                        below: 100
                  - condition: and
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Forsinket start
                      - condition: state
                        entity: binary_sensor.torretumbler_forsinket_start
                        state: 'off'
                      - condition: numeric_state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                        below: 100
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler3_running.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Kører
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Forsinket start
                  - condition: state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_laundrycare_dryer_option_wrinkleguard
                    state_not: unavailable
                  - condition: numeric_state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                    above: 99
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler2_strygelet.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: >-
                  sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                state: Fuldført
            card:
              type: picture
              image: /local/hvidevarer/toerretumbler2_done.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: STATUS
                subtitle: >-
                  {% set operation_state =
                  states('sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate').strip()
                  %} {% set delayed_start =
                  states('binary_sensor.torretumbler_forsinket_start') %} {% set
                  program_progress =
                  states('sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress')|int(default=0)
                  %} {% set wrinkle_guard =
                  states('sensor.bosch_wtx8hel9sn_68a40e9304ff_laundrycare_dryer_option_wrinkleguard')
                  or 'unavailable' %}

                  {% if (operation_state == 'Kører' or operation_state ==
                  'Forsinket start') and program_progress == 100 and
                  wrinkle_guard != 'unavailable' %}
                    Strygelet
                  {% elif operation_state == 'Kører' %}
                    Tørring i gang
                  {% elif operation_state == 'Fuldført' %}
                    Færdig
                  {% elif operation_state == 'Forsinket start' and delayed_start
                  == 'on' %}
                    Forskudt start
                  {% elif operation_state == 'Forsinket start' and delayed_start
                  == 'off' %}
                    Tørring i gang
                  {% elif operation_state == 'unavailable' %}
                    Klar
                  {% else %}
                    Klar (unexpected state: {{ operation_state }})
                  {% endif %}
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-top: -20px;
                      margin-bottom: -20px;
                      --title-font-weight: bold;
                    }
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: numeric_state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                        below: 100
                      - condition: or
                        conditions:
                          - condition: state
                            entity: >-
                              sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                            state: Kører
                          - condition: state
                            entity: >-
                              sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                            state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: SLUTTID
                  subtitle: '{{ states(''sensor.torretumbler_sluttid'') }}'
                  card_mod:
                    style: |
                      ha-card {
                        margin-top: -20px;
                        margin-bottom: -20px;
                        --title-font-weight: bold;
                      }
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: PROGRAM
                subtitle: >
                  {% set program_state =
                  states('sensor.bosch_wtx8hel9sn_68a40e9304ff_active_program')
                  %}

                  {% if program_state in ['unavailable', 'unknown'] %}
                    {{ '-' }}
                  {% else %}
                    {{ program_state }}
                  {% endif %}
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -20px;
                      --title-font-weight: bold;
            columns: 1
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: STRØM
                subtitle: >-
                  {{ states('sensor.torretumbler_pm_power') }} W  /  {{
                  states('sensor.torretumbler_pm_current') }} A
                card_mod:
                  style: |
                    ha-card {
                      --title-font-weight: bold;  
            columns: 1
          - type: conditional
            conditions:
              - condition: and
                conditions:
                  - condition: numeric_state
                    entity: >-
                      sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                    below: 100
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Kører
                      - condition: state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                        state: Forsinket start
            card:
              type: custom:bar-card
              entities:
                - entity: >-
                    sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
              height: 20px
              positions:
                icon: 'off'
                name: 'off'
                value: 'off'
                indicator: 'off'
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                    margin-bottom: -40px;
                  }
                  bar-card-currentbar {
                    background-color: rgb(204, 204, 204) !important;
                    box-shadow: var(--box-shadow-off);
                  }
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: numeric_state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                        below: 100
                      - condition: or
                        conditions:
                          - condition: state
                            entity: >-
                              sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                            state: Kører
                          - condition: state
                            entity: >-
                              sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                            state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: 'Resterende tid:'
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: start
                  card_mod:
                    style: |
                      ha-card {
                        margin-left: 5px;
                        margin-right: -70px;
                      }
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: numeric_state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                        below: 100
                      - condition: or
                        conditions:
                          - condition: state
                            entity: >-
                              sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                            state: Kører
                          - condition: state
                            entity: >-
                              sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                            state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: >
                    {% set finish_relative =
                    states('sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_finishinrelative')
                    %} {% set remaining_time =
                    states('sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_remainingprogramtime')
                    %}

                    {% if finish_relative != 'unavailable' and finish_relative
                    != '0:00' %}
                      {% set hours, minutes = finish_relative.split(':') %}
                      {% set total_minutes = (hours|int * 60) + minutes|int %}
                    {% elif remaining_time != 'unavailable' %}
                      {% set total_seconds = as_timestamp(remaining_time) - as_timestamp(now()) %}
                      {% set total_minutes = (total_seconds / 60) | int %}
                    {% else %}
                      {% set total_minutes = 0 %}
                    {% endif %}

                    {% set hours = (total_minutes // 60) %} {% set minutes =
                    (total_minutes % 60) %}

                    {% if total_minutes > 0 %}
                      {% if hours > 0 %}
                        {{ hours }} time{{ 'r' if hours > 1 else '' }} {{ minutes }} min
                      {% else %}
                        {{ minutes }} min
                      {% endif %}
                    {% else %}
                      {{ '' }}
                    {% endif %}
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: start
                  card_mod:
                    style: |
                      ha-card {
                        margin-left: 5px;
                        margin-right: -70px;
                      }
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: numeric_state
                        entity: >-
                          sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress
                        below: 100
                      - condition: or
                        conditions:
                          - condition: state
                            entity: >-
                              sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                            state: Kører
                          - condition: state
                            entity: >-
                              sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_status_operationstate
                            state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: >
                    {% if
                    states('sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress')
                    == 'unavailable' %}
                      {{ '' }}
                    {% else %}
                      {{ states('sensor.bosch_wtx8hel9sn_68a40e9304ff_bsh_common_option_programprogress') }} %
                    {% endif %}
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: end
            columns: 3
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.torretumbler_forsinket_start
                    state: 'on'
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  subtitle: |
                    Starter om:
                  card_mod:
                    style: |
                      ha-card {
                        margin-top: -40px;
                        margin-right: -100px;
                        margin-left: 5px;
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.torretumbler_forsinket_start
                    state: 'on'
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  subtitle: >
                    {{
                    states('sensor.torretumbler_forsinket_start_resterende_tid')
                    }}
                  card_mod:
                    style: |
                      ha-card {
                        margin-top: -40px;
                        margin-right: -100px;
                        margin-left: 5px;
            columns: 3
        columns: 1
        view_layout:
          column: 2
      - square: false
        type: grid
        cards:
          - type: custom:button-card
            show_name: false
            show_icon: false
            styles:
              card:
                - height: 128px
                - box-shadow: none
                - background-color: transparent
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: input_select.opvaskemaskine_status
                    state: Klar
            card:
              type: picture
              image: /local/hvidevarer/opvaskemaskine2.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.opvaskemaskine_status
                state: Forsinket start
            card:
              type: picture
              image: /local/hvidevarer/opvaskemaskine2_delay.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.opvaskemaskine_status
                state: Vasker
            card:
              type: picture
              image: /local/hvidevarer/opvaskemaskine3_running.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: input_select.opvaskemaskine_status
                state: Færdig
            card:
              type: picture
              image: /local/hvidevarer/opvaskemaskine2_done.png
              tap_action:
                action: none
              hold_action:
                action: none
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                  }
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: STATUS
                subtitle: |2-
                    {% if states('input_select.opvaskemaskine_status') == 'Vasker' %}
                      Opvask i gang
                    {% elif states('input_select.opvaskemaskine_status') == 'Færdig' %}
                      Færdig
                    {% elif states('input_select.opvaskemaskine_status') == 'Forsinket start' %}
                      Forskudt start
                    {% elif states('input_select.opvaskemaskine_status') == 'unavailable' %}
                      Klar
                    {% else %}
                      Klar
                    {% endif %}
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-top: -20px;
                      margin-bottom: -20px;
                      --title-font-weight: bold;
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: >-
                          sensor.014080389763001121_bsh_common_status_operationstate
                        state: Kører
                      - condition: state
                        entity: >-
                          sensor.014080389763001121_bsh_common_status_operationstate
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: SLUTTID
                  subtitle: '{{ states(''sensor.opvaskemaskine_sluttid'') }}'
                  card_mod:
                    style: |
                      ha-card {
                        margin-top: -20px;
                        margin-bottom: -20px;
                        --title-font-weight: bold;
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: PROGRAM
                subtitle: >
                  {% if states('sensor.014080389763001121_active_program') in
                  ['unavailable', 'unknown'] or not
                  states.sensor['014080389763001121_active_program'] %}
                    {{ '-' }}
                  {% else %}
                    {{ states('sensor.014080389763001121_active_program') }}
                  {% endif %}
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom: -20px;
                      --title-font-weight: bold;
            columns: 1
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-title-card
                title: STRØM
                subtitle: >-
                  {{ states('sensor.opvaskemaskine_pm_power') }} W  /  {{
                  states('sensor.opvaskemaskine_pm_current') }} A
                title_tap_action:
                  action: none
                subtitle_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --title-font-weight: bold;
            columns: 1
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: input_select.opvaskemaskine_status
                    state: Vasker
                  - condition: state
                    entity: input_select.opvaskemaskine_status
                    state: Forsinket start
            card:
              type: custom:bar-card
              entities:
                - entity: sensor.014080389763001121_bsh_common_option_programprogress
              height: 20px
              positions:
                icon: 'off'
                name: 'off'
                value: 'off'
                indicator: 'off'
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                    margin-bottom: -40px;
                  }
                  bar-card-currentbar {
                    background-color: rgb(204, 204, 204) !important;
                    box-shadow: var(--box-shadow-off);
                  }
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: input_select.opvaskemaskine_status
                    state: Færdig
            card:
              type: custom:bar-card
              entities:
                - entity: input_number.opvaskemaskine_100
              height: 20px
              positions:
                icon: 'off'
                name: 'off'
                value: 'off'
                indicator: 'off'
              card_mod:
                style: |
                  ha-card {
                    background: none;
                    box-shadow: none;
                    margin-bottom: -40px;
                  }
                  bar-card-currentbar {
                    background-color: rgb(204, 204, 204) !important;
                    box-shadow: var(--box-shadow-off);
                  }
          - type: conditional
            conditions:
              - condition: or
                conditions:
                  - condition: state
                    entity: input_select.opvaskemaskine_status
                    state: Færdig
            card:
              type: custom:mushroom-title-card
              title: ''
              subtitle: |
                {{ states('input_number.opvaskemaskine_100') | int }}%
              title_tap_action:
                action: none
              subtitle_tap_action:
                action: none
              alignment: end
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: input_select.opvaskemaskine_status
                        state: Vasker
                      - condition: state
                        entity: input_select.opvaskemaskine_status
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: 'Resterende tid:'
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: start
                  card_mod:
                    style: |
                      ha-card {
                        margin-left: 5px;
                        margin-right: -70px;
                      }
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: input_select.opvaskemaskine_status
                        state: Vasker
                      - condition: state
                        entity: input_select.opvaskemaskine_status
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: >
                    {% set start_in_relative =
                    states('sensor.014080389763001121_bsh_common_option_startinrelative')
                    %} {% set remaining_program_time =
                    states('sensor.014080389763001121_bsh_common_option_remainingprogramtime')
                    %}

                    {% if start_in_relative != 'unavailable' and
                    start_in_relative != '0:00' %}
                      {% set start_hours, start_minutes = start_in_relative.split(':') %}
                      {% set total_start_minutes = (start_hours|int * 60) + start_minutes|int %}
                      {% if remaining_program_time != 'unavailable' %}
                        {% set remaining_seconds = as_timestamp(remaining_program_time) - as_timestamp(now()) %}
                        {% set program_minutes = (remaining_seconds / 60) | int %}
                        {% set total_minutes = total_start_minutes + program_minutes %}
                      {% else %}
                        {% set total_minutes = total_start_minutes %}
                      {% endif %}
                    {% elif remaining_program_time != 'unavailable' %}
                      {% set remaining_seconds = as_timestamp(remaining_program_time) - as_timestamp(now()) %}
                      {% set total_minutes = (remaining_seconds / 60) | int %}
                    {% else %}
                      {% set total_minutes = 0 %}
                    {% endif %}

                    {% set hours = (total_minutes // 60) %} {% set minutes =
                    (total_minutes % 60) %}

                    {% if total_minutes > 0 %}
                      {% if hours > 0 %}
                        {{ hours }} time{{ 'r' if hours > 1 else '' }} {{ minutes }} min
                      {% else %}
                        {{ minutes }} min
                      {% endif %}
                    {% else %}
                      {{ '' }}
                    {% endif %}
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: start
                  card_mod:
                    style: |
                      ha-card {
                        margin-left: 5px;
                        margin-right: -70px;
                      }
              - type: conditional
                conditions:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: input_select.opvaskemaskine_status
                        state: Vasker
                      - condition: state
                        entity: input_select.opvaskemaskine_status
                        state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  subtitle: >
                    {% if
                    states('sensor.014080389763001121_bsh_common_option_programprogress')
                    == 'unavailable'%}
                      {{ '' }}
                    {% else %}
                      {{ states('sensor.014080389763001121_bsh_common_option_programprogress') }}%
                    {% endif %}
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  alignment: end
            columns: 3
          - square: false
            type: grid
            cards:
              - type: conditional
                conditions:
                  - condition: state
                    entity: sensor.014080389763001121_bsh_common_status_operationstate
                    state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  subtitle: |
                    Starter om:
                  card_mod:
                    style: |
                      ha-card {
                        margin-top: -40px;
                        margin-right: -100px;
                        margin-left: 5px;
              - type: conditional
                conditions:
                  - condition: state
                    entity: sensor.014080389763001121_bsh_common_status_operationstate
                    state: Forsinket start
                card:
                  type: custom:mushroom-title-card
                  title: ''
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
                  subtitle: >
                    {{
                    states('sensor.opvaskemaskine_forsinket_start_resterende_tid')
                    }}
                  card_mod:
                    style: |
                      ha-card {
                        margin-top: -40px;
                        margin-right: -100px;
                        margin-left: 5px;
            columns: 3
        columns: 1
        view_layout:
          column: 3
      - type: custom:decluttering-card
        template: bottom-menu
        variables:
          - active_path: /wall-panel/vaskemaskine
    layout:
      max_cols: 3
      max_width: 390
      width: 430
      height: null
  - type: custom:vertical-layout
    path: test
    title: Test
    cards:
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: grid
                square: false
                cards:
                  - type: custom:button-card
                    entity: input_select.udespa_status
                    show_name: false
                    show_state: false
                    icon: mdi:hot-tub
                    state:
                      - value: Fejl
                        styles:
                          card:
                            - background: var(--custom-button-gradient-2)
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                        - height: 89px
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 7%
                      grid:
                        - position: absolute
                      custom_fields:
                        navn:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 15px
                        udespa:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 40px
                        varmepumpe:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 60px
                    custom_fields:
                      navn: |
                        [[[
                          const s = entity?.state;
                          return (s && s !== 'unknown' && s !== 'unavailable') ? s : '-';
                        ]]]
                      udespa: |
                        [[[
                          const val = states['sensor.udespa_fejl_log']?.state;
                          if (val === "priming_mode") {
                            return "Udespa:&nbsp;&nbsp;&nbsp;Ok";
                          }
                          return val && val.toLowerCase() === "ok"
                            ? "Udespa:&nbsp;&nbsp;&nbsp;Ok"
                            : "Udespa:&nbsp;&nbsp;&nbsp;Fejl";
                        ]]]
                      varmepumpe: |
                        [[[
                          const val = states['sensor.varmepumpe_fejl_log']?.state;
                          return val && val.toLowerCase() === "ok"
                            ? "Varmepumpe:&nbsp;&nbsp;Ok"
                            : "Varmepumpe:&nbsp;&nbsp;Fejl";
                        ]]]
                    tap_action:
                      action: none
                  - type: custom:button-card
                    entity: input_select.udespa_status
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                        - height: 129px
                      grid:
                        - position: absolute
                      custom_fields:
                        icon:
                          - position: absolute
                          - left: 7%
                          - top: 50%
                          - transform: translateY(-50%)
                          - width: 45px
                          - height: 45px
                          - '-webkit-mask': >-
                              url('/local/icons/water_flow.svg') no-repeat
                              center / contain
                          - mask: >-
                              url('/local/icons/water_flow.svg') no-repeat
                              center / contain
                          - background-color: var(--primary-text-color)
                        navn:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 15px
                        cirkulation:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 40px
                        dyser:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 60px
                        filter1:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 80px
                        filter2:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 100px
                    custom_fields:
                      icon: |
                        <div></div>
                      navn: Flow og filtrering
                      cirkulation: |
                        [[[
                          const s = states['binary_sensor.udespa_circulation_pump']?.state;
                          return s === 'on'
                            ? 'Cirkulation:&nbsp;&nbsp;On'
                            : 'Cirkulation:&nbsp;&nbsp;Off';
                        ]]]
                      dyser: |
                        [[[
                          const s = states['fan.udespa_pump_1']?.state;
                          return s === 'on'
                            ? 'Dyser:&nbsp;&nbsp;On'
                            : 'Dyser:&nbsp;&nbsp;Off';
                        ]]]
                      filter1: |
                        [[[
                          const s = states['time.udespa_filter_cycle_1_start']?.state;
                          const e = states['time.udespa_filter_cycle_1_end']?.state;

                          if (!s || !e || s === 'unknown' || e === 'unknown' || s === 'unavailable' || e === 'unavailable') {
                            return 'Filter cyklus 1:  Off';
                          }

                          const [sh, sm, ss = 0] = s.split(':').map(Number);
                          const [eh, em, es = 0] = e.split(':').map(Number);

                          const now = new Date();
                          const start = new Date(now); start.setHours(sh, sm, ss, 0);
                          const end   = new Date(now); end.setHours(eh, em, es, 0);

                          let on;
                          if (end.getTime() === start.getTime()) {
                            on = false;
                          } else if (end > start) {
                            on = now >= start && now <= end;
                          } else {
                            on = (now >= start) || (now <= end);
                          }

                          return `Filter cyklus 1:&nbsp;&nbsp;${on ? 'On' : 'Off'}`;
                        ]]]
                      filter2: |
                        [[[
                          const s = states['time.udespa_filter_cycle_2_start']?.state;
                          const e = states['time.udespa_filter_cycle_2_end']?.state;

                          if (!s || !e || s === 'unknown' || e === 'unknown' || s === 'unavailable' || e === 'unavailable') {
                            return 'Filter cyklus 2:  Off';
                          }

                          const [sh, sm, ss = 0] = s.split(':').map(Number);
                          const [eh, em, es = 0] = e.split(':').map(Number);

                          const now = new Date();
                          const start = new Date(now); start.setHours(sh, sm, ss, 0);
                          const end   = new Date(now); end.setHours(eh, em, es, 0);

                          let on;
                          if (end.getTime() === start.getTime()) {
                            on = false;
                          } else if (end > start) {
                            on = now >= start && now <= end;
                          } else {
                            on = (now >= start) || (now <= end);
                          }

                          return `Filter cyklus 2:&nbsp;&nbsp;${on ? 'On' : 'Off'}`;
                        ]]]
                    tap_action:
                      action: none
                columns: 1
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    icon: mdi:lightning-bolt
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                        - height: 109px
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 7%
                      grid:
                        - position: absolute
                      custom_fields:
                        navn:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 15px
                        l1:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 40px
                        l2:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 60px
                        l3:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 80px
                    custom_fields:
                      navn: |
                        [[[
                          const val = parseFloat(states['sensor.udespa_kwh_maler_effekt'].state);
                          if (isNaN(val)) return `Forbrug nu: &nbsp;&nbsp;-`;
                          if (val < 1000) {
                            return `Forbrug nu: &nbsp;&nbsp;${Math.round(val)} W`;
                          } else {
                            return `Forbrug nu: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                          }
                        ]]]
                      l1: |
                        [[[
                          const val = parseFloat(states['sensor.udespa_kwh_maler_power_phase_1'].state);
                          if (isNaN(val)) return `Pumper: &nbsp;&nbsp;-`;
                          if (val < 1000) {
                            return `Pumper: &nbsp;&nbsp;${Math.round(val)} W`;
                          } else {
                            return `Pumper: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                          }
                        ]]]
                      l2: |
                        [[[
                          const val = parseFloat(states['sensor.udespa_kwh_maler_power_phase_2'].state);
                          if (isNaN(val)) return `Elpatron og styring: &nbsp;&nbsp;-`;
                          if (val < 1000) {
                            return `Elpatron og styring: &nbsp;&nbsp;${Math.round(val)} W`;
                          } else {
                            return `Elpatron og styring: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                          }
                        ]]]
                      l3: |
                        [[[
                          const val = parseFloat(states['sensor.udespa_kwh_maler_power_phase_3'].state);
                          if (isNaN(val)) return `Varmepumpe: &nbsp;&nbsp;-`;
                          if (val < 1000) {
                            return `Varmepumpe: &nbsp;&nbsp;${Math.round(val)} W`;
                          } else {
                            return `Varmepumpe: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                          }
                        ]]]
                    tap_action:
                      action: none
                  - type: custom:button-card
                    entity: input_select.udespa_status
                    show_name: false
                    show_state: false
                    show_icon: false
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                        - height: 109px
                      grid:
                        - position: absolute
                      custom_fields:
                        icon:
                          - position: absolute
                          - left: 7%
                          - top: 50%
                          - transform: translateY(-50%)
                          - width: 45px
                          - height: 45px
                          - '-webkit-mask': >-
                              url('/local/icons/coins.svg') no-repeat center /
                              contain
                          - mask: >-
                              url('/local/icons/coins.svg') no-repeat center /
                              contain
                          - background-color: var(--primary-text-color)
                        price:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 15px
                        week:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 40px
                        month:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 60px
                        year:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 80px
                    custom_fields:
                      icon: |
                        <div></div>
                      price: |
                        [[[
                          const s = parseFloat(states['sensor.udespa_kwh_maler_import_daily_energy_cost']?.state);
                          return `Pris i dag: &nbsp;&nbsp;${!isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-'}`;
                        ]]]
                      week: |
                        [[[
                          const s = parseFloat(states['sensor.udespa_kwh_maler_import_weekly_energy_cost']?.state);
                          return `Pris i dag: &nbsp;&nbsp;${!isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-'}`;
                        ]]]
                      month: |
                        [[[
                          const s = parseFloat(states['sensor.udespa_kwh_maler_import_monthly_energy_cost']?.state);
                          const months = ['jan','feb','mar','apr','maj','jun','jul','aug','sep','okt','nov','dec'];
                          const m = months[new Date().getMonth()];
                          const price = !isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-';
                          return `Pris i ${m}: &nbsp;&nbsp;${price}`;
                        ]]]
                      year: |
                        [[[
                          const s = parseFloat(states['sensor.udespa_kwh_maler_import_yearly_energy_cost']?.state);
                          return `Pris i år: &nbsp;&nbsp;${!isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-'}`;
                        ]]]
                    tap_action:
                      action: none
                columns: 1
            columns: 2
          - type: custom:button-card
            show_name: false
            show_icon: false
            show_state: false
            tap_action:
              action: none
            hold_action:
              action: none
            double_tap_action:
              action: none
            variables:
              dot1_size: 40px
              dot1_color: var(--icon-farve-2)
              dot2_size: 20px
              dot2_color: var(--icon-farve-2)
              gap: 5px
            styles:
              card:
                - background: none
                - border: none
                - box-shadow: none
                - border-radius: 0
                - padding: 0
                - height: 20px
              grid:
                - grid-template-areas: '"dots"'
                - grid-template-columns: 1fr
                - grid-template-rows: 1fr
                - height: 100%
              custom_fields:
                dots:
                  - display: flex
                  - align-items: center
                  - justify-content: center
                  - height: 100%
                  - width: 100%
                  - line-height: 0
            custom_fields:
              dots: |
                [[[
                  const s1  = variables.dot1_size  || '18px';
                  const c1  = variables.dot1_color || 'var(--primary-text-color)';
                  const s2  = variables.dot2_size  || '18px';
                  const c2  = variables.dot2_color || 'var(--primary-text-color)';
                  const gap = variables.gap        || '8px';

                  return `
                    <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                    <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                  `;
                ]]]
        columns: 1
      - square: false
        type: grid
        cards:
          - square: false
            type: grid
            cards:
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    name: Start rengørings cyklus
                    show_icon: false
                    show_name: true
                    custom_fields:
                      icon: |
                        <div class="test"></div>
                    styles:
                      grid:
                        - grid-template-areas: '"icon" "n"'
                        - grid-template-rows: 1fr auto
                        - grid-template-columns: 1fr
                      card:
                        - height: 226px
                        - margin-bottom: 14px
                        - border-radius: var(--border-radius-1)
                        - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                        - background: var(--custom-button-infobox)
                      custom_fields:
                        icon:
                          - position: absolute
                          - top: 10%
                          - width: 120px
                          - height: 120px
                          - justify-self: center
                          - align-self: center
                          - '-webkit-mask': >-
                              url('/local/icons/clean_drop.svg') no-repeat
                              center / contain
                          - mask: >-
                              url('/local/icons/clean_drop.svg') no-repeat
                              center / contain
                          - background-color: var(--icon-farve-2)
                      name:
                        - position: absolute
                        - color: var(--text-primary-color)
                        - font-size: 16px
                        - text-align: center
                        - bottom: 15%
                    tap_action:
                      action: perform-action
                      perform_action: script.udespa_rengoring_af_ror
                      target: {}
                    hold_action:
                      action: none
                columns: 1
              - square: false
                type: grid
                cards:
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    icon: mdi:water
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                        - height: 70px
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 7%
                      grid:
                        - position: absolute
                      custom_fields:
                        navn:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 15px
                        dage:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 40px
                    custom_fields:
                      navn: Udespa badevand
                      dage: |
                        [[[
                          return states['sensor.udespa_badevand_timer'].state;
                        ]]]
                    tap_action:
                      action: call-service
                      service: script.udespa_nulstil_badevand_timer
                      target: {}
                      confirmation:
                        text: Vil du nulstille timeren?
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    icon: mdi:air-filter
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                        - height: 70px
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 7%
                      grid:
                        - position: absolute
                      custom_fields:
                        navn:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 15px
                        dage:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 40px
                    custom_fields:
                      navn: Udespa filter
                      dage: |
                        [[[
                          return states['sensor.udespa_filter_timer'].state;
                        ]]]
                    tap_action:
                      action: call-service
                      service: script.udespa_nulstil_filter_timer
                      target: {}
                      confirmation:
                        text: Vil du nulstille timeren?
                  - type: custom:button-card
                    show_name: false
                    show_state: false
                    icon: mdi:snowflake
                    styles:
                      card:
                        - border-radius: var(--border-radius-1)
                        - box-shadow: var(--box-shadow-off)
                        - background: var(--custom-button-infobox)
                        - height: 70px
                      icon:
                        - width: 45px
                        - height: 45px
                        - left: 7%
                      grid:
                        - position: absolute
                      custom_fields:
                        navn:
                          - font-size: 16px
                          - font-weight: bold
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 15px
                        dage:
                          - font-size: 12px
                          - position: absolute
                          - justify-self: center
                          - right: 7%
                          - top: 40px
                    custom_fields:
                      navn: Isbad badevand
                      dage: |
                        [[[
                          return states['sensor.udespa_isbad_timer'].state;
                        ]]]
                    tap_action:
                      action: call-service
                      service: script.isbad_nulstil_badevand_timer
                      target: {}
                      confirmation:
                        text: Vil du nulstille timeren?
                columns: 1
            columns: 2
          - type: custom:button-card
            show_name: false
            show_icon: false
            show_state: false
            tap_action:
              action: none
            hold_action:
              action: none
            double_tap_action:
              action: none
            variables:
              dot1_size: 20px
              dot1_color: var(--icon-farve-2)
              dot2_size: 40px
              dot2_color: var(--icon-farve-2)
              gap: 5px
            styles:
              card:
                - background: none
                - border: none
                - box-shadow: none
                - border-radius: 0
                - padding: 0
                - height: 20px
              grid:
                - grid-template-areas: '"dots"'
                - grid-template-columns: 1fr
                - grid-template-rows: 1fr
                - height: 100%
              custom_fields:
                dots:
                  - display: flex
                  - align-items: center
                  - justify-content: center
                  - height: 100%
                  - width: 100%
                  - line-height: 0
            custom_fields:
              dots: |
                [[[
                  const s1  = variables.dot1_size  || '18px';
                  const c1  = variables.dot1_color || 'var(--primary-text-color)';
                  const s2  = variables.dot2_size  || '18px';
                  const c2  = variables.dot2_color || 'var(--primary-text-color)';
                  const gap = variables.gap        || '8px';

                  return `
                    <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                    <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                  `;
                ]]]
        columns: 1
      - type: custom:swipe-card
        start_card: 1
        reset_after: 20
        parameters:
          effect: flip
          slideShadows: true
        cards:
          - type: grid
            square: false
            cards:
              - square: false
                type: grid
                cards:
                  - type: grid
                    square: false
                    cards:
                      - type: custom:button-card
                        entity: input_select.udespa_status
                        show_name: false
                        show_state: false
                        icon: mdi:hot-tub
                        state:
                          - value: Fejl
                            styles:
                              card:
                                - background: var(--custom-button-gradient-2)
                        styles:
                          card:
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background: var(--custom-button-infobox)
                            - height: 89px
                          icon:
                            - width: 45px
                            - height: 45px
                            - left: 7%
                          grid:
                            - position: absolute
                          custom_fields:
                            navn:
                              - font-size: 16px
                              - font-weight: bold
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 15px
                            udespa:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 40px
                            varmepumpe:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 60px
                        custom_fields:
                          navn: |
                            [[[
                              const s = entity?.state;
                              return (s && s !== 'unknown' && s !== 'unavailable') ? s : '-';
                            ]]]
                          udespa: |
                            [[[
                              const val = states['sensor.udespa_fejl_log']?.state;
                              if (val === "priming_mode") {
                                return "Udespa:&nbsp;&nbsp;&nbsp;Ok";
                              }
                              return val && val.toLowerCase() === "ok"
                                ? "Udespa:&nbsp;&nbsp;&nbsp;Ok"
                                : "Udespa:&nbsp;&nbsp;&nbsp;Fejl";
                            ]]]
                          varmepumpe: |
                            [[[
                              const val = states['sensor.varmepumpe_fejl_log']?.state;
                              return val && val.toLowerCase() === "ok"
                                ? "Varmepumpe:&nbsp;&nbsp;Ok"
                                : "Varmepumpe:&nbsp;&nbsp;Fejl";
                            ]]]
                        tap_action:
                          action: none
                      - type: custom:button-card
                        entity: input_select.udespa_status
                        show_name: false
                        show_state: false
                        show_icon: false
                        styles:
                          card:
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background: var(--custom-button-infobox)
                            - height: 129px
                          grid:
                            - position: absolute
                          custom_fields:
                            icon:
                              - position: absolute
                              - left: 7%
                              - top: 50%
                              - transform: translateY(-50%)
                              - width: 45px
                              - height: 45px
                              - '-webkit-mask': >-
                                  url('/local/icons/water_flow.svg') no-repeat
                                  center / contain
                              - mask: >-
                                  url('/local/icons/water_flow.svg') no-repeat
                                  center / contain
                              - background-color: var(--primary-text-color)
                            navn:
                              - font-size: 16px
                              - font-weight: bold
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 15px
                            cirkulation:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 40px
                            dyser:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 60px
                            filter1:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 80px
                            filter2:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 100px
                        custom_fields:
                          icon: |
                            <div></div>
                          navn: Flow og filtrering
                          cirkulation: |
                            [[[
                              const s = states['binary_sensor.udespa_circulation_pump']?.state;
                              return s === 'on'
                                ? 'Cirkulation:&nbsp;&nbsp;Til'
                                : 'Cirkulation:&nbsp;&nbsp;Fra';
                            ]]]
                          dyser: |
                            [[[
                              const s = states['fan.udespa_pump_1']?.state;
                              return s === 'on'
                                ? 'Dyser:&nbsp;&nbsp;Til'
                                : 'Dyser:&nbsp;&nbsp;Fra';
                            ]]]
                          filter1: |
                            [[[
                              const s = states['time.udespa_filter_cycle_1_start']?.state;
                              const e = states['time.udespa_filter_cycle_1_end']?.state;

                              if (!s || !e || s === 'unknown' || e === 'unknown' || s === 'unavailable' || e === 'unavailable') {
                                return 'Filter cyklus 1:  Off';
                              }

                              const [sh, sm, ss = 0] = s.split(':').map(Number);
                              const [eh, em, es = 0] = e.split(':').map(Number);

                              const now = new Date();
                              const start = new Date(now); start.setHours(sh, sm, ss, 0);
                              const end   = new Date(now); end.setHours(eh, em, es, 0);

                              let on;
                              if (end.getTime() === start.getTime()) {
                                on = false;
                              } else if (end > start) {
                                on = now >= start && now <= end;
                              } else {
                                on = (now >= start) || (now <= end);
                              }

                              return `Filter cyklus 1:&nbsp;&nbsp;${on ? 'Til' : 'Fra'}`;
                            ]]]
                          filter2: |
                            [[[
                              const s = states['time.udespa_filter_cycle_2_start']?.state;
                              const e = states['time.udespa_filter_cycle_2_end']?.state;

                              if (!s || !e || s === 'unknown' || e === 'unknown' || s === 'unavailable' || e === 'unavailable') {
                                return 'Filter cyklus 2:  Off';
                              }

                              const [sh, sm, ss = 0] = s.split(':').map(Number);
                              const [eh, em, es = 0] = e.split(':').map(Number);

                              const now = new Date();
                              const start = new Date(now); start.setHours(sh, sm, ss, 0);
                              const end   = new Date(now); end.setHours(eh, em, es, 0);

                              let on;
                              if (end.getTime() === start.getTime()) {
                                on = false;
                              } else if (end > start) {
                                on = now >= start && now <= end;
                              } else {
                                on = (now >= start) || (now <= end);
                              }

                              return `Filter cyklus 2:&nbsp;&nbsp;${on ? 'Til' : 'Fra'}`;
                            ]]]
                        tap_action:
                          action: none
                    columns: 1
                  - square: false
                    type: grid
                    cards:
                      - type: custom:button-card
                        show_name: false
                        show_state: false
                        icon: mdi:lightning-bolt
                        styles:
                          card:
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background: var(--custom-button-infobox)
                            - height: 109px
                          icon:
                            - width: 45px
                            - height: 45px
                            - left: 7%
                          grid:
                            - position: absolute
                          custom_fields:
                            navn:
                              - font-size: 16px
                              - font-weight: bold
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 15px
                            l1:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 40px
                            l2:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 60px
                            l3:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 80px
                        custom_fields:
                          navn: |
                            [[[
                              const val = parseFloat(states['sensor.udespa_kwh_maler_effekt'].state);
                              if (isNaN(val)) return `Forbrug nu: &nbsp;&nbsp;-`;
                              if (val < 1000) {
                                return `Forbrug nu: &nbsp;&nbsp;${Math.round(val)} W`;
                              } else {
                                return `Forbrug nu: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                              }
                            ]]]
                          l1: |
                            [[[
                              const val = parseFloat(states['sensor.udespa_kwh_maler_power_phase_1'].state);
                              if (isNaN(val)) return `Pumper: &nbsp;&nbsp;-`;
                              if (val < 1000) {
                                return `Pumper: &nbsp;&nbsp;${Math.round(val)} W`;
                              } else {
                                return `Pumper: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                              }
                            ]]]
                          l2: |
                            [[[
                              const val = parseFloat(states['sensor.udespa_kwh_maler_power_phase_2'].state);
                              if (isNaN(val)) return `Elpatron og styring: &nbsp;&nbsp;-`;
                              if (val < 1000) {
                                return `Elpatron og styring: &nbsp;&nbsp;${Math.round(val)} W`;
                              } else {
                                return `Elpatron og styring: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                              }
                            ]]]
                          l3: |
                            [[[
                              const val = parseFloat(states['sensor.udespa_kwh_maler_power_phase_3'].state);
                              if (isNaN(val)) return `Varmepumpe: &nbsp;&nbsp;-`;
                              if (val < 1000) {
                                return `Varmepumpe: &nbsp;&nbsp;${Math.round(val)} W`;
                              } else {
                                return `Varmepumpe: &nbsp;&nbsp;${(val / 1000).toFixed(2)} kWh`;
                              }
                            ]]]
                        tap_action:
                          action: none
                      - type: custom:button-card
                        entity: input_select.udespa_status
                        show_name: false
                        show_state: false
                        show_icon: false
                        styles:
                          card:
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background: var(--custom-button-infobox)
                            - height: 109px
                          grid:
                            - position: absolute
                          custom_fields:
                            icon:
                              - position: absolute
                              - left: 7%
                              - top: 50%
                              - transform: translateY(-50%)
                              - width: 45px
                              - height: 45px
                              - '-webkit-mask': >-
                                  url('/local/icons/coins.svg') no-repeat center
                                  / contain
                              - mask: >-
                                  url('/local/icons/coins.svg') no-repeat center
                                  / contain
                              - background-color: var(--primary-text-color)
                            price:
                              - font-size: 16px
                              - font-weight: bold
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 15px
                            week:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 40px
                            month:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 60px
                            year:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 80px
                        custom_fields:
                          icon: |
                            <div></div>
                          price: |
                            [[[
                              const s = parseFloat(states['sensor.udespa_kwh_maler_import_daily_energy_cost']?.state);
                              return `Pris i dag: &nbsp;&nbsp;${!isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-'}`;
                            ]]]
                          week: |
                            [[[
                              const s = parseFloat(states['sensor.udespa_kwh_maler_import_weekly_energy_cost']?.state);
                              return `Pris i dag: &nbsp;&nbsp;${!isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-'}`;
                            ]]]
                          month: |
                            [[[
                              const s = parseFloat(states['sensor.udespa_kwh_maler_import_monthly_energy_cost']?.state);
                              const months = ['jan','feb','mar','apr','maj','jun','jul','aug','sep','okt','nov','dec'];
                              const m = months[new Date().getMonth()];
                              const price = !isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-';
                              return `Pris i ${m}: &nbsp;&nbsp;${price}`;
                            ]]]
                          year: |
                            [[[
                              const s = parseFloat(states['sensor.udespa_kwh_maler_import_yearly_energy_cost']?.state);
                              return `Pris i år: &nbsp;&nbsp;${!isNaN(s) ? s.toFixed(2).replace('.', ',') + ' kr.' : '-'}`;
                            ]]]
                        tap_action:
                          action: none
                    columns: 1
                columns: 2
              - type: custom:button-card
                show_name: false
                show_icon: false
                show_state: false
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                variables:
                  dot1_size: 40px
                  dot1_color: var(--icon-farve-2)
                  dot2_size: 20px
                  dot2_color: var(--icon-farve-2)
                  gap: 5px
                styles:
                  card:
                    - background: none
                    - border: none
                    - box-shadow: none
                    - border-radius: 0
                    - padding: 0
                    - height: 20px
                  grid:
                    - grid-template-areas: '"dots"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: 1fr
                    - height: 100%
                  custom_fields:
                    dots:
                      - display: flex
                      - align-items: center
                      - justify-content: center
                      - height: 100%
                      - width: 100%
                      - line-height: 0
                custom_fields:
                  dots: |
                    [[[
                      const s1  = variables.dot1_size  || '18px';
                      const c1  = variables.dot1_color || 'var(--primary-text-color)';
                      const s2  = variables.dot2_size  || '18px';
                      const c2  = variables.dot2_color || 'var(--primary-text-color)';
                      const gap = variables.gap        || '8px';

                      return `
                        <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                        <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                      `;
                    ]]]
            columns: 1
          - type: grid
            square: false
            cards:
              - square: false
                type: grid
                cards:
                  - square: false
                    type: grid
                    cards:
                      - type: custom:button-card
                        name: Start rengørings cyklus
                        show_icon: false
                        show_name: true
                        custom_fields:
                          icon: |
                            <div class="test"></div>
                        styles:
                          grid:
                            - grid-template-areas: '"icon" "n"'
                            - grid-template-rows: 1fr auto
                            - grid-template-columns: 1fr
                          card:
                            - height: 226px
                            - border-radius: var(--border-radius-1)
                            - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                            - background: var(--custom-button-infobox)
                          custom_fields:
                            icon:
                              - position: absolute
                              - top: 10%
                              - width: 120px
                              - height: 120px
                              - justify-self: center
                              - align-self: center
                              - '-webkit-mask': >-
                                  url('/local/icons/clean_drop.svg') no-repeat
                                  center / contain
                              - mask: >-
                                  url('/local/icons/clean_drop.svg') no-repeat
                                  center / contain
                              - background-color: var(--icon-farve-2)
                          name:
                            - position: absolute
                            - color: var(--text-primary-color)
                            - font-size: 16px
                            - text-align: center
                            - bottom: 15%
                        tap_action:
                          action: perform-action
                          perform_action: script.udespa_rengoring_af_ror
                          target: {}
                        hold_action:
                          action: none
                    columns: 1
                  - square: false
                    type: grid
                    cards:
                      - type: custom:button-card
                        show_name: false
                        show_state: false
                        icon: mdi:water
                        styles:
                          card:
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background: var(--custom-button-infobox)
                            - height: 70px
                          icon:
                            - width: 45px
                            - height: 45px
                            - left: 7%
                          grid:
                            - position: absolute
                          custom_fields:
                            navn:
                              - font-size: 16px
                              - font-weight: bold
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 15px
                            dage:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 40px
                        custom_fields:
                          navn: Udespa badevand
                          dage: |
                            [[[
                              return states['sensor.udespa_badevand_timer'].state;
                            ]]]
                        tap_action:
                          action: call-service
                          service: script.udespa_nulstil_badevand_timer
                          target: {}
                          confirmation:
                            text: Vil du nulstille timeren?
                      - type: custom:button-card
                        show_name: false
                        show_state: false
                        icon: mdi:air-filter
                        styles:
                          card:
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background: var(--custom-button-infobox)
                            - height: 70px
                          icon:
                            - width: 45px
                            - height: 45px
                            - left: 7%
                          grid:
                            - position: absolute
                          custom_fields:
                            navn:
                              - font-size: 16px
                              - font-weight: bold
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 15px
                            dage:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 40px
                        custom_fields:
                          navn: Udespa filter
                          dage: |
                            [[[
                              return states['sensor.udespa_filter_timer'].state;
                            ]]]
                        tap_action:
                          action: call-service
                          service: script.udespa_nulstil_filter_timer
                          target: {}
                          confirmation:
                            text: Vil du nulstille timeren?
                      - type: custom:button-card
                        show_name: false
                        show_state: false
                        icon: mdi:snowflake
                        styles:
                          card:
                            - border-radius: var(--border-radius-1)
                            - box-shadow: var(--box-shadow-off)
                            - background: var(--custom-button-infobox)
                            - height: 70px
                          icon:
                            - width: 45px
                            - height: 45px
                            - left: 7%
                          grid:
                            - position: absolute
                          custom_fields:
                            navn:
                              - font-size: 16px
                              - font-weight: bold
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 15px
                            dage:
                              - font-size: 12px
                              - position: absolute
                              - justify-self: center
                              - right: 7%
                              - top: 40px
                        custom_fields:
                          navn: Isbad badevand
                          dage: |
                            [[[
                              return states['sensor.udespa_isbad_timer'].state;
                            ]]]
                        tap_action:
                          action: call-service
                          service: script.isbad_nulstil_badevand_timer
                          target: {}
                          confirmation:
                            text: Vil du nulstille timeren?
                    columns: 1
                columns: 2
              - type: custom:button-card
                show_name: false
                show_icon: false
                show_state: false
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                variables:
                  dot1_size: 20px
                  dot1_color: var(--icon-farve-2)
                  dot2_size: 40px
                  dot2_color: var(--icon-farve-2)
                  gap: 5px
                styles:
                  card:
                    - background: none
                    - border: none
                    - box-shadow: none
                    - border-radius: 0
                    - padding: 0
                    - height: 20px
                  grid:
                    - grid-template-areas: '"dots"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: 1fr
                    - height: 100%
                  custom_fields:
                    dots:
                      - display: flex
                      - align-items: center
                      - justify-content: center
                      - height: 100%
                      - width: 100%
                      - line-height: 0
                custom_fields:
                  dots: |
                    [[[
                      const s1  = variables.dot1_size  || '18px';
                      const c1  = variables.dot1_color || 'var(--primary-text-color)';
                      const s2  = variables.dot2_size  || '18px';
                      const c2  = variables.dot2_color || 'var(--primary-text-color)';
                      const gap = variables.gap        || '8px';

                      return `
                        <span style="display:inline-block;font-size:${s1};color:${c1};line-height:1;">•</span>
                        <span style="display:inline-block;margin-left:${gap};font-size:${s2};color:${c2};line-height:1;">•</span>
                      `;
                    ]]]
            columns: 1
    layout:
      max_cols: 2
      max_width: 580
      width: 630
      height: null
  - type: custom:vertical-layout
    path: test-3
    title: Test 3
    layout:
      max_cols: 2
      max_width: 580
      width: 630
      height: null
    cards:
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: minmax(0, 25%) minmax(0, 75%)
          grid-auto-rows: minmax(60px, 40px, 60px)
          margin: '-4px -4px -4px -4px'
          padding: 0
        cards:
          - type: custom:vertical-stack-in-card
            view_layout:
              grid-column: 2
              grid-row: 1 / span 3
            cards:
              - type: conditional
                conditions:
                  - entity: sensor.climate_udespa_custom
                    state: Varmer ikke
                  - entity: binary_sensor.udespa_circulation_pump
                    state: 'on'
                card:
                  type: picture-elements
                  elements:
                    - type: state-icon
                      entity: light.udespa_light
                      icon: mdi:lightbulb
                      tap_action:
                        action: toggle
                      style:
                        top: 30%
                        left: 75%
                  image: /local/spa/udespa3.png
                  card_mod:
                    style: |
                      ha-card {
                        background: none;
                        box-shadow: none;
                        height: 100%;
                        padding: 0;
                      }
              - type: conditional
                conditions:
                  - entity: sensor.climate_udespa_custom
                    state: Varmer ikke
                  - entity: binary_sensor.udespa_circulation_pump
                    state: 'off'
                card:
                  type: picture-elements
                  elements:
                    - type: state-icon
                      entity: light.udespa_light
                      icon: mdi:lightbulb
                      tap_action:
                        action: toggle
                      style:
                        top: 30%
                        left: 75%
                  image: /local/spa/udespa-stille3.png
                  card_mod:
                    style: |
                      ha-card {
                        background: none;
                        box-shadow: none;
                        height: 100%;
                        padding: 0;
                      }
              - type: conditional
                conditions:
                  - entity: sensor.climate_udespa_custom
                    state: Varmer
                card:
                  type: picture-elements
                  elements:
                    - type: state-icon
                      entity: light.udespa_light
                      icon: mdi:lightbulb
                      tap_action:
                        action: toggle
                      style:
                        top: 30%
                        left: 75%
                  image: /local/spa/udespa-heat3.png
                  card_mod:
                    style: |
                      ha-card {
                        background: none;
                        box-shadow: none;
                        height: 100%;
                        padding: 0;
                      }
            card_mod:
              style: |
                ha-card {
                  background: none;
                  box-shadow: none;
                  margin: 0;                 /* remove extra spacing; gap handles it */
                }
          - type: custom:button-card
            view_layout:
              grid-column: 1
            icon: mdi:minus
            show_icon: true
            show_name: false
            styles:
              card:
                - height: 60px
                - border-radius: var(--border-radius-1)
                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                - background: var(--custom-button-gradient-6)
              icon:
                - color: var(--icon-farve)
              name:
                - font-size: 10px
                - text-align: center
            tap_action:
              action: call-service
              service: script.udespa_sank_temperatur
          - type: custom:button-card
            view_layout:
              grid-column: 1
            show_icon: false
            show_name: false
            show_state: false
            styles:
              card:
                - background: none
                - border-radius: var(--border-radius-1)
                - height: 40px
              grid:
                - position: absolute
              custom_fields:
                temp:
                  - font-size: 50px
                  - position: absolute
                  - top: 50%
                  - left: 50%
                  - transform: translate(-50%, -50%)
            custom_fields:
              temp: >
                [[[ return states['climate.udespa'].attributes.temperature +
                '°C'; ]]]
            tap_action:
              action: none
          - type: custom:button-card
            view_layout:
              grid-column: 1
            icon: mdi:plus
            show_icon: true
            show_name: false
            styles:
              card:
                - height: 60px
                - border-radius: var(--border-radius-1)
                - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                - background: >-
                    linear-gradient(90deg, rgba(253,77,29,1) 0%,
                    rgba(255,168,55,1) 50%)
              icon:
                - color: var(--icon-farve)
              name:
                - font-size: 10px
                - text-align: center
            tap_action:
              action: call-service
              service: script.udespa_hav_temperatur
      - square: false
        type: grid
        cards:
          - type: custom:mushroom-title-card
            title: ''
            subtitle: INDSTIL TEMPERATUR
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -40px;
                }
          - type: custom:vertical-stack-in-card
            cards:
              - type: conditional
                conditions:
                  - entity: sensor.climate_udespa_custom
                    state: Varmer ikke
                  - entity: binary_sensor.udespa_circulation_pump
                    state: 'on'
                card:
                  type: picture-elements
                  elements:
                    - type: state-icon
                      entity: light.udespa_light
                      icon: mdi:lightbulb
                      tap_action:
                        action: toggle
                      style:
                        top: 30%
                        left: 75%
                  image: /local/spa/udespa3.png
                  card_mod:
                    style: |
                      ha-card {
                        background: none;
                        box-shadow: none;
                      }
              - type: conditional
                conditions:
                  - entity: sensor.climate_udespa_custom
                    state: Varmer ikke
                  - entity: binary_sensor.udespa_circulation_pump
                    state: 'off'
                card:
                  type: picture-elements
                  elements:
                    - type: state-icon
                      entity: light.udespa_light
                      icon: mdi:lightbulb
                      tap_action:
                        action: toggle
                      style:
                        top: 30%
                        left: 75%
                  image: /local/spa/udespa-stille3.png
                  card_mod:
                    style: |
                      ha-card {
                        background: none;
                        box-shadow: none;
                      }
              - type: conditional
                conditions:
                  - entity: sensor.climate_udespa_custom
                    state: Varmer
                card:
                  type: picture-elements
                  elements:
                    - type: state-icon
                      entity: light.udespa_light
                      icon: mdi:lightbulb
                      tap_action:
                        action: toggle
                      style:
                        top: 30%
                        left: 75%
                  image: /local/spa/udespa-heat3.png
                  card_mod:
                    style: |
                      ha-card {
                        background: none;
                        box-shadow: none;
                      }
            view_layout:
              column: 1
            card_mod:
              style: |
                ha-card {
                  background: none;
                  box-shadow: none;
                  margin-bottom: 10px;
                }
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                icon: mdi:minus
                show_icon: true
                show_name: false
                styles:
                  card:
                    - height: 90px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: var(--custom-button-gradient-6)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: script.udespa_sank_temperatur
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  card:
                    - background: none
                    - border-radius: var(--border-radius-1)
                    - height: 90px
                  grid:
                    - position: absolute
                  custom_fields:
                    temp:
                      - font-size: 50px
                      - position: absolute
                      - top: 50%
                      - left: 50%
                      - transform: translate(-50%, -50%)
                custom_fields:
                  temp: >
                    [[[ return states['climate.udespa'].attributes.temperature +
                    '°C'; ]]]
                tap_action:
                  action: none
              - type: custom:button-card
                icon: mdi:plus
                name: Add
                show_icon: true
                show_name: false
                styles:
                  card:
                    - height: 90px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.9)
                    - background: >-
                        linear-gradient(90deg, rgba(253,77,29,1) 0%,
                        rgba(255,168,55,1) 50%)
                  icon:
                    - color: var(--icon-farve)
                  name:
                    - font-size: 10px
                    - text-align: center
                tap_action:
                  action: call-service
                  service: script.udespa_hav_temperatur
            columns: 3
          - type: custom:mushroom-title-card
            title: ''
            subtitle: VARMEPUMPE & VARMELEGEME
            title_tap_action:
              action: none
            subtitle_tap_action:
              action: none
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: input_select.udespa_varmepumpe_tilstand
                show_icon: false
                show_name: true
                name: Lydløs
                styles:
                  card:
                    - margin-top: 10px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: Lydløs
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  target:
                    entity_id: input_select.udespa_varmepumpe_tilstand
                  data:
                    option: Lydløs
              - type: custom:button-card
                entity: input_select.udespa_varmepumpe_tilstand
                show_icon: false
                show_name: true
                name: Smart
                styles:
                  card:
                    - margin-top: 10px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: Smart
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  target:
                    entity_id: input_select.udespa_varmepumpe_tilstand
                  data:
                    option: Smart
              - type: custom:button-card
                entity: input_select.udespa_varmepumpe_tilstand
                show_icon: false
                show_name: true
                name: Turbo
                styles:
                  card:
                    - margin-top: 10px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: Turbo
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: input_select.select_option
                  target:
                    entity_id: input_select.udespa_varmepumpe_tilstand
                  data:
                    option: Turbo
            columns: 3
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: switch.shelly_1_plus_varmelegeme_udespa_switch_0
                show_icon: false
                show_name: true
                name: Til
                styles:
                  card:
                    - margin-top: 10px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: 'on'
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: switch.turn_on
                  target:
                    entity_id: switch.shelly_1_plus_varmelegeme_udespa_switch_0
              - type: custom:button-card
                entity: switch.shelly_1_plus_varmelegeme_udespa_switch_0
                show_icon: false
                show_name: true
                name: Fra
                styles:
                  card:
                    - margin-top: 10px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: 'off'
                    styles:
                      card:
                        - background: var(--custom-button-gradient-1)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: switch.turn_off
                  target:
                    entity_id: switch.shelly_1_plus_varmelegeme_udespa_switch_0
              - type: custom:button-card
                entity: automation.udespa_taend_sluk_varmelegeme
                show_icon: false
                show_name: true
                name: Auto
                styles:
                  card:
                    - margin-top: 10px
                    - height: 60px
                    - border-radius: var(--border-radius-1)
                    - box-shadow: var(--box-shadow-on)
                    - background: var(--custom-button-infobox)
                  name:
                    - font-size: 20px
                    - text-align: center
                state:
                  - value: 'on'
                    styles:
                      card:
                        - background: var(--custom-button-gradient-4)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                  - value: 'off'
                    styles:
                      card:
                        - background: var(--custom-button-infobox)
                        - box-shadow: var(--box-shadow-on)
                      name:
                        - color: white
                tap_action:
                  action: call-service
                  service: automation.toggle
                  target:
                    entity_id: automation.udespa_taend_sluk_varmelegeme
            columns: 3
        columns: 1
        title: UDESPA
        view_layout:
          column: 1
